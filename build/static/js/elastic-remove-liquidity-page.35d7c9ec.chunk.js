(this["webpackJsonp@KyberSwap/interface"]=this["webpackJsonp@KyberSwap/interface"]||[]).push([[9],{"./src/components/ProAmm/ProAmmFee.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("./node_modules/@lingui/react/esm/index.js"),s=n("./node_modules/@lingui/core/esm/index.js"),d=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-feather/dist/icons/info.js"),u=n("./node_modules/rebass/dist/index.esm.js"),l=n("./src/components/Button/index.tsx"),m=n("./src/components/Card/index.tsx"),p=n("./src/components/Column/index.tsx"),b=n("./src/components/CurrencyLogo/index.tsx"),x=n("./src/components/Divider/index.tsx"),j=n("./src/components/FormattedCurrencyAmount/index.tsx"),f=n("./src/components/QuestionHelper/index.tsx"),g=n("./src/components/Row/index.tsx"),h=n("./src/components/Tooltip/index.tsx"),y=n("./src/hooks/index.ts"),v=n("./src/hooks/useContract.ts"),O=n("./src/hooks/useMixpanel.ts"),C=n("./src/hooks/useProAmmPositionFees.ts"),k=n("./src/hooks/useTheme.ts"),_=n("./src/hooks/useTransactionDeadline.ts"),w=n("./src/state/transactions/hooks.tsx"),T=n("./src/state/user/hooks.tsx"),I=n("./src/utils/index.ts"),R=n("./src/utils/wrappedCurrency.ts"),E=n("./node_modules/react/jsx-runtime.js");function S(e){var t=e.tokenId,n=e.position,S=e.layout,N=void 0===S?0:S,A=e.text,P=void 0===A?"":A,q=e.hasUserDepositedInFarm,L=Object(y.b)(),U=L.chainId,Y=L.account,z=L.library,F=Object(k.a)(),W=Object(C.a)(t,n,!1),D=Object(i.a)(W,2),M=D[0],B=D[1],V=Object(R.a)(n.pool.token0),Q=Object(R.a)(n.pool.token1),G=Object(w.e)(),H=Object(v.o)(),Z=Object(_.a)(),J=Object(O.c)().mixpanelHandler,K=Object(T.x)(),X=Object(i.a)(K,1)[0],$=Object(c.useCallback)((function(){if(U&&M&&B&&H&&Y&&t&&z&&Z&&N){J(O.a.ELASTIC_COLLECT_FEES_INITIATED,{token_1:null===V||void 0===V?void 0:V.symbol,token_2:null===Q||void 0===Q?void 0:Q.symbol});var e=d.NonfungiblePositionManager.collectCallParameters({tokenId:t.toString(),expectedCurrencyOwed0:M.subtract(M.multiply(Object(I.a)(X))),expectedCurrencyOwed1:B.subtract(B.multiply(Object(I.a)(X))),recipient:Y,deadline:Z.toString(),havingFee:!0}),n=e.calldata,i=e.value,r={to:H.address,data:n,value:i};z.getSigner().estimateGas(r).then((function(e){var t=Object(o.a)(Object(o.a)({},r),{},{gasLimit:Object(I.b)(e)});return z.getSigner().sendTransaction(t).then((function(e){G(e,{type:"Collect fee",summary:M.toSignificant(6)+" "+M.currency.symbol+" and "+B.toSignificant(6)+" "+B.currency.symbol,arbitrary:{token_1:null===V||void 0===V?void 0:V.symbol,token_2:null===Q||void 0===Q?void 0:Q.symbol,token_1_amount:M.toSignificant(6),token_2_amount:B.toSignificant(6)}})}))})).catch((function(e){console.error(e)}))}}),[U,M,B,H,Y,t,G,z,Z,N,V,Q,J,X]),ee=!(null!==M&&void 0!==M&&M.greaterThan(0)||null!==B&&void 0!==B&&B.greaterThan(0));return 0===N?Object(E.jsx)(m.e,{marginTop:"1rem",padding:"1rem",children:Object(E.jsxs)(p.a,{gap:"md",children:[Object(E.jsx)(u.d,{fontSize:"16px",fontWeight:"500",children:"Your Fee Earnings"}),P&&Object(E.jsx)(u.d,{color:F.subText,fontSize:"12px",children:P}),Object(E.jsx)(x.b,{}),Object(E.jsxs)(g.b,{children:[Object(E.jsx)(u.d,{fontSize:12,fontWeight:500,color:F.subText,children:Object(E.jsx)(r.b,{id:"{0} FEES EARNED",values:{0:V.symbol}})}),Object(E.jsxs)(g.c,{children:[Object(E.jsx)(b.a,{size:"16px",style:{marginLeft:"8px"},currency:V}),Object(E.jsxs)(u.d,{fontSize:14,fontWeight:500,marginLeft:"6px",children:[M&&Object(E.jsx)(j.a,{currencyAmount:M})," ",V.symbol]})]})]}),Object(E.jsxs)(g.b,{children:[Object(E.jsx)(u.d,{fontSize:12,fontWeight:500,color:F.subText,children:Object(E.jsx)(r.b,{id:"{0} FEES EARNED",values:{0:Q.symbol}})}),Object(E.jsxs)(g.c,{children:[Object(E.jsx)(b.a,{size:"16px",style:{marginLeft:"8px"},currency:Q}),Object(E.jsxs)(u.d,{fontSize:14,fontWeight:500,marginLeft:"6px",children:[B&&Object(E.jsx)(j.a,{currencyAmount:B})," ",Q.symbol]})]})]})]})}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(m.e,{marginTop:"1rem",padding:"1rem",children:Object(E.jsxs)(p.a,{gap:"md",children:[Object(E.jsxs)(g.b,{children:[Object(E.jsxs)(u.b,{children:[Object(E.jsx)(u.d,{fontSize:12,fontWeight:500,color:F.subText,children:Object(E.jsx)(r.b,{id:"{0} Fees Earned",values:{0:V.symbol}})}),Object(E.jsx)(f.a,{text:s.a._("Your fees are being automatically compounded so you earn more")})]}),Object(E.jsxs)(g.c,{children:[Object(E.jsx)(b.a,{size:"16px",style:{marginLeft:"8px"},currency:V}),Object(E.jsx)(u.d,{fontSize:12,fontWeight:500,marginLeft:"6px",children:M&&Object(E.jsx)(j.a,{currencyAmount:M})})]})]}),Object(E.jsxs)(g.b,{children:[Object(E.jsxs)(u.b,{children:[Object(E.jsx)(u.d,{fontSize:12,fontWeight:500,color:F.subText,children:Object(E.jsx)(r.b,{id:"{0} Fees Earned",values:{0:Q.symbol}})}),Object(E.jsx)(f.a,{text:s.a._("Your fees are being automatically compounded so you earn more")})]}),Object(E.jsxs)(g.c,{children:[Object(E.jsx)(b.a,{size:"16px",style:{marginLeft:"8px"},currency:Q}),Object(E.jsx)(u.d,{fontSize:12,fontWeight:500,marginLeft:"6px",children:B&&Object(E.jsx)(j.a,{currencyAmount:B})})]})]}),q?Object(E.jsx)(h.a,{placement:"top",text:s.a._("You need to withdraw your deposited liquidity position from the Farm first"),children:Object(E.jsx)(u.b,{sx:{cursor:"not-allowed",width:"100%"},children:Object(E.jsx)(l.f,{style:{padding:"10px",fontSize:"14px",width:"100%",pointerEvents:"none"},disabled:!0,children:Object(E.jsxs)(u.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(E.jsx)(a.a,{size:16}),Object(E.jsx)(r.b,{id:"Collect Fees"})]})})})}):Object(E.jsx)(l.f,{disabled:ee,onClick:$,style:{padding:"10px",fontSize:"14px"},children:Object(E.jsxs)(u.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(E.jsx)(f.a,{size:16,text:ee?s.a._("You don't have any fees to collect"):s.a._("By collecting, you will receive 100% of your fee earnings"),color:ee?F.disableText:F.primary}),Object(E.jsx)(r.b,{id:"Collect Fees"})]})})]})})})}},"./src/components/Slider/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("./node_modules/react/index.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/react/jsx-runtime.js"),s=i.default.input.withConfig({displayName:"Slider__StyledRangeInput",componentId:"sc-37gaa4-0"})(["-webkit-appearance:none;width:100%;background:transparent;cursor:pointer;&:focus{outline:none;}&::-moz-focus-outer{border:0;}&::-webkit-slider-thumb{-webkit-appearance:none;height:","px;width:","px;background-color:",";border-radius:100%;border:none;transform:translateY(-50%);color:",";&:hover,&:focus{box-shadow:0px 0px 1px rgba(0,0,0,0.1),0px 4px 8px rgba(0,0,0,0.08),0px 16px 24px rgba(0,0,0,0.06),0px 24px 32px rgba(0,0,0,0.04);}}&::-moz-range-thumb{height:","px;width:","px;background-color:",";border-radius:100%;border:none;color:",";&:hover,&:focus{box-shadow:0px 0px 1px rgba(0,0,0,0.1),0px 4px 8px rgba(0,0,0,0.08),0px 16px 24px rgba(0,0,0,0.06),0px 24px 32px rgba(0,0,0,0.04);}}&::-ms-thumb{height:","px;width:","px;background-color:",";border-radius:100%;color:",";&:hover,&:focus{box-shadow:0px 0px 1px rgba(0,0,0,0.1),0px 4px 8px rgba(0,0,0,0.08),0px 16px 24px rgba(0,0,0,0.06),0px 24px 32px rgba(0,0,0,0.04);}}&::-webkit-slider-runnable-track{background:linear-gradient(90deg,",",",");height:2px;}&::-moz-range-track{background:linear-gradient(90deg,",",",");height:2px;}&::-ms-track{width:100%;border-color:transparent;color:transparent;background:",";height:2px;}&::-ms-fill-lower{background:",";}&::-ms-fill-upper{background:",";}"],(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}),(function(e){return e.theme.subText}));function d(e){var t=e.value,n=e.onChange,i=e.min,d=void 0===i?0:i,c=e.step,a=void 0===c?1:c,u=e.max,l=void 0===u?100:u,m=e.size,p=void 0===m?28:m,b=e.style,x=e.className,j=Object(o.useCallback)((function(e){n(parseInt(e.target.value))}),[n]);return Object(r.jsx)(s,{size:p,type:"range",value:t,style:b||{width:"90%",marginLeft:15,marginRight:15,padding:"15px 0"},onChange:j,"aria-labelledby":"input slider",step:a,min:d,max:l,className:x})}},"./src/hooks/useProAmmPositionFees.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),i=n("./src/utils/wrappedCurrency.ts"),r=n("./src/hooks/useProAmmPreviousTicks.ts");function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=null===e||void 0===e?void 0:e.toHexString(),d=Object(r.b)(null===t||void 0===t?void 0:t.pool,s);return t&&2===d.length?[o.CurrencyAmount.fromRawAmount(n?null===t||void 0===t?void 0:t.pool.token0:Object(i.a)(null===t||void 0===t?void 0:t.pool.token0),d[0].toString()),o.CurrencyAmount.fromRawAmount(n?null===t||void 0===t?void 0:t.pool.token1:Object(i.a)(null===t||void 0===t?void 0:t.pool.token1),d[1].toString())]:[void 0,void 0]}},"./src/hooks/useProAmmPositions.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return j}));var o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),r=n("./node_modules/@ethersproject/address/lib.esm/index.js"),s=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),d=n("./node_modules/@ethersproject/solidity/lib.esm/index.js"),c=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),a=n("./node_modules/react/index.js"),u=n("./src/constants/networks.ts"),l=n("./src/hooks/index.ts"),m=n("./src/state/multicall/hooks.ts"),p=n("./src/hooks/useContract.ts");function b(e){var t=Object(p.o)(),n=Object(l.b)().chainId,s=Object(a.useMemo)((function(){return e?e.map((function(e){return[e]})):[]}),[e]),b=Object(m.d)(t,"positions",s),x=Object(a.useMemo)((function(){return b.some((function(e){return e.loading}))}),[b]),j=Object(a.useMemo)((function(){return b.some((function(e){return e.error}))}),[b]),f=Object(a.useMemo)((function(){if(!x&&!j&&e)return b.map((function(t,o){var s=e[o],a=t.result;return{tokenId:s,poolId:Object(r.getCreate2Address)(u.b[n||c.ChainId.MAINNET].elastic.coreFactory,Object(d.keccak256)(["bytes"],[i.b.encode(["address","address","uint24"],[a.info.token0,a.info.token1,a.info.fee])]),u.b[n||c.ChainId.MAINNET].elastic.initCodeHash),feeGrowthInsideLast:a.pos.feeGrowthInsideLast,nonce:a.pos.nonce,liquidity:a.pos.liquidity,operator:a.pos.operator,tickLower:a.pos.tickLower,tickUpper:a.pos.tickUpper,rTokenOwed:a.pos.rTokenOwed,fee:a.info.fee,token0:a.info.token0,token1:a.info.token1}}))}),[x,j,b,e,n]);return Object(a.useMemo)((function(){return{loading:x,positions:null===f||void 0===f?void 0:f.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{tokenId:s[t][0]})}))}}),[x,f,s])}function x(e){var t,n=b(e?[e]:void 0);return{loading:n.loading,position:null===(t=n.positions)||void 0===t?void 0:t[0]}}function j(e){var t,n=Object(p.o)(),o=Object(m.c)(n,"balanceOf",[null!==e&&void 0!==e?e:void 0]),i=o.loading,r=o.result,d=null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.toNumber(),c=Object(a.useMemo)((function(){if(d&&e){for(var t=[],n=0;n<d;n++)t.push([e,n]);return t}return[]}),[e,d]),u=Object(m.d)(n,"tokenOfOwnerByIndex",c),l=Object(a.useMemo)((function(){return u.some((function(e){return e.loading}))}),[u]),x=b(Object(a.useMemo)((function(){return e?u.map((function(e){return e.result})).filter((function(e){return!!e})).map((function(e){return s.a.from(e[0])})):[]}),[e,u])),j=x.positions,f=x.loading;return Object(a.useMemo)((function(){return{loading:l||i||f,positions:j}}),[l,i,f,j])}},"./src/pages/RemoveLiquidity/styled.tsx":function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"n",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return y}));var o,i=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./src/components/Column/index.tsx"),d=r.default.div.withConfig({displayName:"styled__PageWrapper",componentId:"sc-g1psuy-0"})(["padding:28px 16px 100px;width:100%;@media only screen and (min-width:768px){padding:24px 16px 100px;}@media only screen and (min-width:1000px){padding:24px 32px 100px;}@media only screen and (min-width:1366px){padding:24px 215px 50px;}@media only screen and (min-width:1440px){padding:24px 252px 50px;}"]),c=r.default.div.withConfig({displayName:"styled__Container",componentId:"sc-g1psuy-1"})(["max-width:936px;margin:0 auto;padding:4px 20px 24px;background:",";box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:8px;@media only screen and (min-width:1000px){padding:4px 24px 24px;}"],(function(e){return e.theme.background})),a=r.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-g1psuy-2"})(["display:grid;grid-template-columns:1fr;@media only screen and (min-width:768px){grid-template-columns:1fr 1fr;}"]),u=r.default.div.withConfig({displayName:"styled__TopBar",componentId:"sc-g1psuy-3"})(["padding:20px 0;display:flex;flex-direction:column-reverse;align-items:center;border-top:1px solid ",";margin-top:1rem;@media only screen and (min-width:768px){display:grid;grid-template-columns:1fr 1fr;margin-top:0;}"],(function(e){return e.theme.border})),l=r.default.div.withConfig({displayName:"styled__LiquidityProviderModeWrapper",componentId:"sc-g1psuy-4"})(["width:100%;@media only screen and (min-width:768px){padding-right:24px;}"]),m=r.default.div.withConfig({displayName:"styled__PoolName",componentId:"sc-g1psuy-5"})(["display:flex;margin-bottom:24px;font-size:14px;font-weight:500;color:",";@media only screen and (min-width:768px){justify-content:flex-end;margin-bottom:0;}"],(function(e){return e.theme.subText})),p=Object(r.default)(s.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-g1psuy-6"})(["grid-auto-rows:min-content;padding-bottom:24px;border-bottom:1px solid ",";gap:20px;@media only screen and (min-width:768px){padding-right:24px;padding-bottom:0;border-right:1px solid ",";border-bottom:none;}"],(function(e){return e.theme.border}),(function(e){return e.theme.border})),b=Object(r.default)(s.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-g1psuy-7"})(["grid-auto-rows:min-content;padding-top:24px;@media only screen and (min-width:768px){padding-left:24px;padding-top:0;}"]),x=r.default.button.withConfig({displayName:"styled__MaxButton",componentId:"sc-g1psuy-8"})(["flex:1;padding:6px 0;background-color:",";border:1px solid transparent;border-radius:999px;font-size:1rem;",";font-weight:500;cursor:pointer;margin:0.25rem;overflow:hidden;color:",";:hover{border:1px solid ",";}:focus{border:1px solid ",";outline:none;}"],(function(e){var t=e.theme;return"".concat(t.primary,"33")}),(function(e){return e.theme.mediaWidth.upToSmall(o||(o=Object(i.a)(["\n    padding: 0.25rem 0;\n  "])))}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),j=Object(r.default)(s.a).withConfig({displayName:"styled__DetailWrapper",componentId:"sc-g1psuy-9"})(["padding:1rem 1rem 12px;border:1px solid ",";margin:24px 0 28px;border-radius:20px;"],(function(e){return e.theme.border})),f=r.default.div.withConfig({displayName:"styled__DetailBox",componentId:"sc-g1psuy-10"})(["display:grid;grid-template-columns:1fr 1fr;"]),g=r.default.div.withConfig({displayName:"styled__TokenWrapper",componentId:"sc-g1psuy-11"})(["display:flex;align-items:center;gap:4px;"]),h=r.default.div.withConfig({displayName:"styled__ModalDetailWrapper",componentId:"sc-g1psuy-12"})(["border:1px solid ",";border-radius:20px;padding:1rem;margin-bottom:28px;"],(function(e){return e.theme.border})),y=r.default.div.withConfig({displayName:"styled__CurrentPriceWrapper",componentId:"sc-g1psuy-13"})(["display:flex;flex-direction:column;@media only screen and (min-width:768px){flex-direction:row;justify-content:space-between;align-items:center;}"])},"./src/pages/RemoveLiquidityProAmm/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fe}));var o=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/@lingui/react/esm/index.js"),u=n("./node_modules/@lingui/core/esm/index.js"),l=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),m=n("./node_modules/@kyberswap/ks-sdk-classic/dist/index.js"),p=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),b=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),x=n("./node_modules/jsbi/dist/jsbi-umd.js"),j=n.n(x),f=n("./node_modules/react/index.js"),g=n("./node_modules/react-router/esm/react-router.js"),h=n("./node_modules/rebass/dist/index.esm.js"),y=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),v=n("./src/components/Button/index.tsx"),O=n("./src/components/Card/index.tsx"),C=n("./src/components/Column/index.tsx"),k=n("./src/components/Copy/index.tsx"),_=n("./src/components/CurrencyInputPanel/index.tsx"),w=n("./src/components/Divider/index.tsx"),T=n("./src/components/Loader/index.tsx"),I=n("./src/components/NavigationTabs/index.tsx"),R=n("./src/components/ProAmm/ProAmmFee.tsx"),E=n("./src/components/ProAmm/ProAmmPoolInfo.tsx"),S=n("./src/components/ProAmm/ProAmmPooledTokens.tsx"),N=n("./src/components/Slider/index.tsx"),A=n("./src/components/TransactionConfirmationModal/index.tsx"),P=n("./src/components/Tutorial/index.tsx"),q=n("./src/constants/v2.ts"),L=n("./src/hooks/index.ts"),U=n("./src/hooks/useContract.ts"),Y=n("./src/hooks/usePrevious.ts"),z=n("./src/hooks/useProAmmPoolInfo.ts"),F=n("./src/hooks/useProAmmPositions.ts"),W=n("./src/hooks/useTheme.ts"),D=n("./src/hooks/useTransactionDeadline.ts"),M=n("./src/pages/RemoveLiquidity/styled.tsx"),B=n("./src/state/application/hooks.ts"),V=n("./src/state/burn/proamm/actions.ts"),Q=n("./src/hooks/Tokens.ts"),G=n("./src/hooks/usePools.ts"),H=n("./src/hooks/useProAmmPositionFees.ts"),Z=n("./src/state/hooks.ts"),J=n("./src/state/swap/hooks.ts"),K=n("./src/utils/wrappedCurrency.ts"),X=n("./node_modules/react/jsx-runtime.js");function $(){return Object(Z.b)((function(e){return e.burnProAmm}))}var ee,te,ne,oe,ie,re=n("./src/state/multicall/hooks.ts"),se=n("./src/state/transactions/hooks.tsx"),de=n("./src/state/user/hooks.tsx"),ce=n("./src/utils/index.ts"),ae=n("./src/utils/useDebouncedChangeHandler.tsx"),ue=(y.default.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-13df5bs-0"})(["position:relative;"]),y.default.div.withConfig({displayName:"styled__Container",componentId:"sc-13df5bs-1"})(["text-align:center;width:calc(100% - 24px);margin:24px auto 12px;max-width:936px;border-radius:0.5rem;background:",";box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);padding:0 20px 28px;",";"],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToSmall(ee||(ee=Object(c.a)(["\n    padding: 0 16px 24px;\n  "])))}))),le=y.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-13df5bs-2"})(["display:grid;grid-template-columns:1fr;@media only screen and (min-width:768px){grid-template-columns:1fr 1fr;}"]),me=Object(y.default)(C.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-13df5bs-3"})(["grid-auto-rows:min-content;padding-bottom:24px;border-bottom:1px solid ",";gap:20px;@media only screen and (min-width:768px){padding-right:24px;padding-bottom:0;border-right:1px solid ",";border-bottom:none;}"],(function(e){return e.theme.border}),(function(e){return e.theme.border})),pe=Object(y.default)(C.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-13df5bs-4"})(["grid-auto-rows:min-content;padding-top:24px;@media only screen and (min-width:768px){padding-left:24px;padding-top:0;}"]),be=Object(y.default)(M.h).withConfig({displayName:"RemoveLiquidityProAmm__MaxButton",componentId:"sc-1j4jsvl-0"})(["margin:0;flex:unset;padding:0.375rem 0.75rem;font-size:0.875rem;font-weight:500;height:max-content;width:max-content;"," ",""],(function(e){return e.theme.mediaWidth.upToSmall(te||(te=Object(c.a)(["\n    padding: 0.375rem 0.75rem;\n    font-size: 0.875rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToExtraSmall(ne||(ne=Object(c.a)(["\n    padding: 0.25rem 0.5rem;\n    font-size: 0.75rem;\n    flex: 1;\n  "])))})),xe=Object(y.default)(h.b).withConfig({displayName:"RemoveLiquidityProAmm__MaxButtonGroup",componentId:"sc-1j4jsvl-1"})(["gap:0.5rem;justify-content:flex-end;flex:1;",""],(function(e){return e.theme.mediaWidth.upToExtraSmall(oe||(oe=Object(c.a)(["\n    gap: 0.25rem\n  "])))})),je=Object(y.default)(h.d).withConfig({displayName:"RemoveLiquidityProAmm__PercentText",componentId:"sc-1j4jsvl-2"})(["",""],(function(e){return e.theme.mediaWidth.upToExtraSmall(ie||(ie=Object(c.a)(["\n    font-size: 28px !important;\n    min-width: 72px !important;\n  "])))}));function fe(e){var t=e.location,n=e.match.params.tokenId,o=Object(f.useMemo)((function(){try{return l.a.from(n)}catch(e){return null}}),[n]);return null===o||o.eq(0)?Object(X.jsx)(g.a,{to:Object(d.a)(Object(d.a)({},t),{},{pathname:"/myPools"})}):Object(X.jsx)(ge,{tokenId:o})}function ge(e){var t,n,c,l,x,y,M,ee,te,ne,oe,ie,fe,ge,he=e.tokenId,ye=Object(F.b)(he).position,ve=Object(U.o)(),Oe=Object(W.a)(),Ce=Object(L.b)(),ke=Ce.account,_e=Ce.chainId,we=Ce.library,Te=Object(B.w)(),Ie=null===(t=Object(re.c)(he?ve:null,"ownerOf",[he.toNumber()]).result)||void 0===t?void 0:t[0],Re=Ie===ke,Ee=Object(g.g)(),Se=Object(Y.a)(_e);Object(f.useEffect)((function(){_e&&Se&&_e!==Se&&Ee.push("/myPools")}),[_e,Se,Ee]);var Ne=Object(f.useState)(!1),Ae=Object(s.a)(Ne,2),Pe=Ae[0],qe=Ae[1],Le=$(),Ue=Le.independentField,Ye=Le.typedValue,ze=function(e){var t,n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=Object(L.b)().account,c=$(),u=c.independentField,l=c.typedValue,m=Object(Q.c)(null===e||void 0===e?void 0:e.token0),x=Object(Q.c)(null===e||void 0===e?void 0:e.token1),j=(t={},Object(r.a)(t,V.a.CURRENCY_A,m),Object(r.a)(t,V.a.CURRENCY_B,x),t),g=Object(G.b)(null!==m&&void 0!==m?m:void 0,null!==x&&void 0!==x?x:void 0,null===e||void 0===e?void 0:e.fee),h=Object(s.a)(g,2)[1],y=Object(f.useMemo)((function(){return h&&null!==e&&void 0!==e&&e.liquidity&&"number"===typeof(null===e||void 0===e?void 0:e.tickLower)&&"number"===typeof(null===e||void 0===e?void 0:e.tickUpper)?new b.Position({pool:h,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper}):void 0}),[h,e]),v=(n={},Object(r.a)(n,V.a.CURRENCY_A,y&&y.amount0),Object(r.a)(n,V.a.CURRENCY_B,y&&y.amount1),n),O=new p.Percent("0","100");if(u===V.a.LIQUIDITY_PERCENT)O=new p.Percent(l,"100");else if(j[u]){var C,k=Object(J.a)(l,null!==(C=j[u])&&void 0!==C?C:void 0),_=v[u];k&&_&&!k.greaterThan(_)&&(O=new p.Percent(k.quotient,_.quotient))}var w,T=y?O.multiply(y.amount0.quotient).quotient:void 0,I=y?O.multiply(y.amount1.quotient).quotient:void 0,R=m&&T?p.CurrencyAmount.fromRawAmount(i?m:Object(K.a)(m),T):void 0,E=x&&I?p.CurrencyAmount.fromRawAmount(i?x:Object(K.a)(x),I):void 0,S=!(!h||!e)&&(h.tickCurrent<e.tickLower||h.tickCurrent>=e.tickUpper);d||(w=Object(X.jsx)(a.b,{id:"Connect Wallet"}));var N=Object(H.a)(null===e||void 0===e?void 0:e.tokenId,h&&e?new b.Position({pool:h,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper}):void 0,i),A=Object(s.a)(N,2),P=A[0],q=A[1],U=(o={},Object(r.a)(o,V.a.LIQUIDITY_PERCENT,O),Object(r.a)(o,V.a.CURRENCY_A,m&&O&&O.greaterThan("0")&&R&&y?p.TokenAmount.fromRawAmount(m.wrapped,O.multiply(y.amount0.quotient).quotient):void 0),Object(r.a)(o,V.a.CURRENCY_B,x&&O&&O.greaterThan("0")&&E&&y?p.TokenAmount.fromRawAmount(x.wrapped,O.multiply(y.amount1.quotient).quotient):void 0),o);return{position:y,pooledAmount0:v[V.a.CURRENCY_A],pooledAmount1:v[V.a.CURRENCY_B],liquidityPercentage:O,liquidityValue0:R,liquidityValue1:E,feeValue0:P,feeValue1:q,outOfRange:S,error:w,parsedAmounts:U}}(ye,Pe),Fe=ze.position,We=ze.liquidityPercentage,De=ze.liquidityValue0,Me=ze.liquidityValue1,Be=ze.pooledAmount0,Ve=ze.pooledAmount1,Qe=ze.feeValue0,Ge=ze.feeValue1,He=ze.error,Ze=ze.parsedAmounts,Je=!(!_e||null===De||void 0===De||!De.currency.isNative),Ke=!(!_e||null===De||void 0===De||!De.currency.equals(p.WETH[_e])),Xe=!(!_e||null===Me||void 0===Me||!Me.currency.isNative),$e=!(!_e||null===Me||void 0===Me||!Me.currency.equals(p.WETH[_e])),et=function(){var e=Object(Z.a)();return{onUserInput:Object(f.useCallback)((function(t,n){e(Object(V.b)({field:t,typedValue:n}))}),[e])}}(),tt=et.onUserInput,nt=null===ye||void 0===ye||null===(n=ye.liquidity)||void 0===n?void 0:n.eq(0),ot=Object(z.a)(null===Fe||void 0===Fe||null===(c=Fe.pool)||void 0===c?void 0:c.token0,null===Fe||void 0===Fe||null===(l=Fe.pool)||void 0===l?void 0:l.token1,null===Fe||void 0===Fe||null===(x=Fe.pool)||void 0===x?void 0:x.fee),it=Fe&&Object(K.a)(Fe.pool.token0),rt=Fe&&Object(K.a)(Fe.pool.token1),st=Object(f.useCallback)((function(e){tt(V.a.LIQUIDITY_PERCENT,e.toString())}),[tt]),dt=Object(ae.a)(Number.parseInt(Ze[V.a.LIQUIDITY_PERCENT].toFixed(0)),st),ct=Object(s.a)(dt,2),at=ct[0],ut=ct[1],lt=(ne={},Object(r.a)(ne,V.a.LIQUIDITY_PERCENT,Ze[V.a.LIQUIDITY_PERCENT].equalTo("0")?"0":Ze[V.a.LIQUIDITY_PERCENT].lessThan(new p.Percent("1","100"))?"<1":Ze[V.a.LIQUIDITY_PERCENT].toFixed(0)),Object(r.a)(ne,V.a.CURRENCY_A,Ue===V.a.CURRENCY_A?Ye:null!==(y=null===(M=Ze[V.a.CURRENCY_A])||void 0===M?void 0:M.toSignificant(6))&&void 0!==y?y:""),Object(r.a)(ne,V.a.CURRENCY_B,Ue===V.a.CURRENCY_B?Ye:null!==(ee=null===(te=Ze[V.a.CURRENCY_B])||void 0===te?void 0:te.toSignificant(6))&&void 0!==ee?ee:""),ne),mt=Object(B.s)([null===De||void 0===De?void 0:De.currency.wrapped,null===Me||void 0===Me?void 0:Me.currency.wrapped],q.c.ELASTIC),pt=Ze[V.a.CURRENCY_A]&&mt[0]?parseFloat(Ze[V.a.CURRENCY_A].toSignificant(6))*mt[0]:0,bt=Ze[V.a.CURRENCY_B]&&mt[1]?parseFloat(Ze[V.a.CURRENCY_B].toSignificant(6))*mt[1]:0,xt=Object(D.a)(),jt=Object(de.x)(),ft=Object(f.useState)(!1),gt=Object(s.a)(ft,2),ht=gt[0],yt=gt[1],vt=Object(f.useState)(!1),Ot=Object(s.a)(vt,2),Ct=Ot[0],kt=Ot[1],_t=Object(f.useState)(),wt=Object(s.a)(_t,2),Tt=wt[0],It=wt[1],Rt=Object(se.e)(),Et=Object(f.useCallback)(Object(i.a)(Object(o.a)().mark((function e(){var t,n,i,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kt(!0),ve&&De&&Me&&xt&&ke&&_e&&Qe&&Ge&&Fe&&We&&we){e.next=4;break}return kt(!1),e.abrupt("return");case 4:t=b.NonfungiblePositionManager.removeCallParameters(Fe,{tokenId:he.toString(),liquidityPercentage:We,slippageTolerance:Object(ce.a)(jt[0]),deadline:xt.toString(),collectOptions:{expectedCurrencyOwed0:Qe,expectedCurrencyOwed1:Ge,recipient:ke,deadline:xt.toString(),isRemovingLiquid:!0,havingFee:!(Qe.equalTo(j.a.BigInt("0"))&&Ge.equalTo(j.a.BigInt("0")))}}),n=t.calldata,i=t.value,r={to:ve.address,data:n,value:i},we.getSigner().estimateGas(r).then((function(e){var t=Object(d.a)(Object(d.a)({},r),{},{gasLimit:Object(ce.b)(e)});return we.getSigner().sendTransaction(t).then((function(e){kt(!1),Rt(e,{type:"Elastic Remove liquidity",summary:(null===De||void 0===De?void 0:De.toSignificant(6))+" "+(null===De||void 0===De?void 0:De.currency.symbol)+" and "+(null===Me||void 0===Me?void 0:Me.toSignificant(6))+" "+(null===Me||void 0===Me?void 0:Me.currency.symbol),arbitrary:{poolAddress:ot,token_1:null===it||void 0===it?void 0:it.symbol,token_2:null===rt||void 0===rt?void 0:rt.symbol}}),It(e.hash)}))})).catch((function(e){kt(!1),console.error(e)}));case 7:case"end":return e.stop()}}),e)}))),[ve,De,Me,xt,ke,_e,Qe,Ge,Fe,We,we,he,jt,Rt,ot,it,rt]),St=Object(f.useCallback)((function(){yt(!1),Tt&&tt(V.a.LIQUIDITY_PERCENT,"0"),kt(!1),It("")}),[tt,Tt]),Nt=Object(X.jsx)(a.b,{id:"Removing {0} {1} and {2} {3}{4}{5}",values:{0:null===De||void 0===De?void 0:De.toSignificant(6),1:null===De||void 0===De||null===(oe=De.currency)||void 0===oe?void 0:oe.symbol,2:null===Me||void 0===Me?void 0:Me.toSignificant(6),3:null===Me||void 0===Me||null===(ie=Me.currency)||void 0===ie?void 0:ie.symbol,4:null!==Qe&&void 0!==Qe&&Qe.greaterThan(m.ZERO)||null!==Ge&&void 0!==Ge&&Ge.greaterThan(m.ZERO)?Object(X.jsx)("br",{}):"",5:null!==Qe&&void 0!==Qe&&Qe.greaterThan(m.ZERO)||null!==Ge&&void 0!==Ge&&Ge.greaterThan(m.ZERO)?"Collecting fee of ".concat(null===Qe||void 0===Qe?void 0:Qe.toSignificant(6)," ").concat(null===Qe||void 0===Qe||null===(fe=Qe.currency)||void 0===fe?void 0:fe.symbol," and ").concat(null===Ge||void 0===Ge?void 0:Ge.toSignificant(6)," ").concat(null===Ge||void 0===Ge||null===(ge=Ge.currency)||void 0===ge?void 0:ge.symbol):""}});function At(){return Object(X.jsx)(v.h,{mt:"16px",onClick:Et,children:Object(X.jsx)(a.b,{id:"Remove"})})}var Pt=Object(f.useCallback)((function(e){return tt(V.a.CURRENCY_A,e)}),[tt]),qt=Object(f.useCallback)((function(e){return tt(V.a.CURRENCY_B,e)}),[tt]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(A.c,{isOpen:ht,onDismiss:St,attemptingTxn:Ct,hash:Tt,content:function(){return Object(X.jsx)(A.a,{title:u.a._("Remove Liquidity"),onDismiss:St,topContent:function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(S.a,{liquidityValue0:De,liquidityValue1:Me,title:u.a._("Remove Amount")}),Fe?Object(X.jsx)(R.a,{position:Fe,tokenId:he}):Object(X.jsx)(T.a,{})]})},bottomContent:At})},pendingText:Nt}),Object(X.jsxs)(ue,{children:[Object(X.jsx)(I.a,{action:I.c.REMOVE,hideShare:!0,tooltip:u.a._("You can remove your liquidity here. When you remove liquidity (even partially), you will receive 100% of your fee earnings"),tutorialType:P.a.ELASTIC_REMOVE_LIQUIDITY}),Ie&&ke&&!Re?Object(X.jsxs)(h.d,{fontSize:"12px",fontWeight:"500",paddingTop:"10px",paddingBottom:"10px",backgroundColor:Oe.bg3Opacity4,color:Oe.subText,style:{borderRadius:"4px",marginBottom:"1.25rem"},children:["The owner of this liquidity position is ",Object(ce.C)(Ie),Object(X.jsx)("span",{style:{display:"inline-block"},children:Object(X.jsx)(k.a,{toCopy:Ie})})]}):Object(X.jsx)(w.b,{style:{marginBottom:"1.25rem"}}),ye?Object(X.jsxs)(C.a,{gap:"md",style:{textAlign:"left"},children:[Fe?Object(X.jsx)(E.a,{position:Fe,tokenId:he.toString()}):Object(X.jsx)(T.a,{}),Object(X.jsxs)(le,{children:[Object(X.jsxs)(me,{children:[Object(X.jsx)(S.a,{pooled:!0,liquidityValue0:Be,liquidityValue1:Ve}),Fe?Object(X.jsx)(R.a,{position:Fe,tokenId:he,text:u.a._("When you remove liquidity (even partially), you will receive 100% of your fee earnings")}):Object(X.jsx)(T.a,{})]}),Object(X.jsx)(pe,{children:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(O.a,{padding:"1rem",marginTop:"1rem",children:[Object(X.jsx)(h.d,{fontSize:12,color:Oe.subText,fontWeight:"500",children:Object(X.jsx)(a.b,{id:"Amount to remove"})}),Object(X.jsxs)(h.b,{marginTop:"0.5rem",sx:{gap:"1rem"},alignItems:"center",children:[Object(X.jsxs)(je,{fontSize:36,fontWeight:"500",children:[at,"%"]}),Object(X.jsxs)(xe,{children:[Object(X.jsx)(be,{onClick:function(){return tt(V.a.LIQUIDITY_PERCENT,"25")},children:Object(X.jsx)(a.b,{id:"25%"})}),Object(X.jsx)(be,{onClick:function(){return tt(V.a.LIQUIDITY_PERCENT,"50")},children:Object(X.jsx)(a.b,{id:"50%"})}),Object(X.jsx)(be,{onClick:function(){return tt(V.a.LIQUIDITY_PERCENT,"75")},children:Object(X.jsx)(a.b,{id:"75%"})}),Object(X.jsx)(be,{onClick:function(){return tt(V.a.LIQUIDITY_PERCENT,"100")},children:Object(X.jsx)(a.b,{id:"Max"})})]})]}),Object(X.jsx)(N.a,{value:at,onChange:ut,size:16,style:{width:"100%",margin:"1rem 0 0",padding:"0.75rem 0"}})]}),Object(X.jsx)("div",{style:{marginTop:"1.5rem",marginBottom:"1.5rem"},children:Object(X.jsx)(_.g,{value:lt[V.a.CURRENCY_A],onUserInput:Pt,showMaxButton:!1,currency:null===De||void 0===De?void 0:De.currency,onCurrencySelect:function(){return null},id:"remove-liquidity-tokena",estimatedUsd:Object(ce.h)(pt.toString(),!0)||void 0,disableCurrencySelect:!Je&&!Ke,isSwitchMode:Je||Ke,onSwitchCurrency:function(){return qe((function(e){return!e}))}})}),Object(X.jsx)("div",{children:Object(X.jsx)(_.g,{value:lt[V.a.CURRENCY_B],onUserInput:qt,showMaxButton:!1,currency:null===Me||void 0===Me?void 0:Me.currency,onCurrencySelect:function(){return null},id:"remove-liquidity-tokenb",estimatedUsd:Object(ce.h)(bt.toString(),!0)||void 0,disableCurrencySelect:!Xe&&!$e,isSwitchMode:Xe||$e,onSwitchCurrency:function(){return qe((function(e){return!e}))}})}),Object(X.jsx)(v.a,{style:{marginTop:"28px"},confirmed:!1,disabled:nt||(null===We||void 0===We?void 0:We.equalTo(new p.Percent(0,100)))||!De||!!Ie&&!!ke&&!Re,onClick:function(){ke?yt(!0):Te()},children:nt?Object(X.jsx)(a.b,{id:"Closed"}):null!==He&&void 0!==He?He:Object(X.jsx)(a.b,{id:"Preview"})})]})})]})]}):Object(X.jsx)(T.a,{})]})]})}},"./src/utils/useDebouncedChangeHandler.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("./node_modules/react/index.js");function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=Object(i.useState)((function(){return e})),s=Object(o.a)(r,2),d=s[0],c=s[1],a=Object(i.useRef)(),u=Object(i.useCallback)((function(e){c(e),a.current&&clearTimeout(a.current),a.current=setTimeout((function(){t(e),a.current=void 0}),n)}),[n,t]);return Object(i.useEffect)((function(){a.current&&(clearTimeout(a.current),a.current=void 0),c(e)}),[e]),[d,u]}}}]);