(this["webpackJsonp@KyberSwap/interface"]=this["webpackJsonp@KyberSwap/interface"]||[]).push([[20],{"./node_modules/react-feather/dist/icons/clock.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/prop-types/index.js"),c=n.n(o);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,c=void 0===o?24:o,d=a(e,["color","size"]);return i.a.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),i.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.a.createElement("polyline",{points:"12 6 12 12 16 14"}))}));d.propTypes={color:c.a.string,size:c.a.oneOfType([c.a.string,c.a.number])},d.displayName="Clock",t.a=d},"./src/components/ClassicElasticTab.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@lingui/react/esm/index.js"),o=n("./node_modules/qs/lib/index.js"),c=(n("./node_modules/react/index.js"),n("./node_modules/react-router/esm/react-router.js")),s=n("./node_modules/rebass/dist/index.esm.js"),a=n("./src/constants/v2.ts"),d=n("./src/hooks/index.ts"),l=n("./src/hooks/useMixpanel.ts"),u=n("./src/hooks/useParsedQueryString.ts"),j=n("./src/hooks/useTheme.ts"),b=n("./src/utils/string.ts"),p=n("./src/components/Icons/index.ts"),x=n("./src/components/Tooltip/index.tsx"),m=n("./node_modules/react/jsx-runtime.js");t.a=function(){var e=Object(u.a)(),t=e.tab&&"string"===typeof e.tab&&Object(b.d)(e.tab,a.c)?e.tab:a.c.ELASTIC,n=Object(l.c)().mixpanelHandler,h=Object(d.b)().chainId,f=a.a[h],O=Object(j.a)(),g=Object(c.g)(),y="/farms"===g.location.pathname;return Object(m.jsxs)(s.b,{children:[Object(m.jsx)(x.a,{text:f||"",children:Object(m.jsxs)(s.b,{alignItems:"center",onClick:function(){if(!f){var t=Object(r.a)(Object(r.a)({},e),{},{tab:a.c.ELASTIC}),i="";switch(g.location.pathname){case"/pools":i=l.a.ELASTIC_POOLS_ELASTIC_POOLS_CLICKED;break;case"/myPools":i=l.a.ELASTIC_MYPOOLS_ELASTIC_POOLS_CLICKED}i&&n(i),g.replace({search:Object(o.stringify)(t)})}},children:[Object(m.jsx)(s.d,{fontWeight:500,fontSize:[18,20,24],color:t===a.c.ELASTIC?f?O.disableText:O.primary:O.subText,width:"auto",marginRight:"5px",role:"button",style:{cursor:f?"not-allowed":"pointer"},children:y?Object(m.jsx)(i.b,{id:"Elastic Farms"}):Object(m.jsx)(i.b,{id:"Elastic Pools"})}),Object(m.jsx)(p.H,{size:20,color:t===a.c.ELASTIC?O.primary:O.subText})]})}),Object(m.jsx)(s.d,{fontWeight:500,fontSize:[18,20,24],color:O.subText,marginX:"12px",children:"|"}),Object(m.jsxs)(s.b,{alignItems:"center",onClick:function(){var t=Object(r.a)(Object(r.a)({},e),{},{tab:a.c.CLASSIC});g.replace({search:Object(o.stringify)(t)})},children:[Object(m.jsx)(s.d,{fontWeight:500,fontSize:[18,20,24],color:t===a.c.CLASSIC?O.primary:O.subText,width:"auto",marginRight:"5px",style:{cursor:"pointer"},role:"button",children:y?Object(m.jsx)(i.b,{id:"Classic Farms"}):Object(m.jsx)(i.b,{id:"Classic Pools"})}),Object(m.jsx)(p.G,{size:20,color:t===a.c.ELASTIC?O.subText:O.primary})]})]})}},"./src/components/Icons/Deposit.tsx":function(e,t,n){"use strict";n("./node_modules/react/index.js");var r=n("./node_modules/react/jsx-runtime.js");t.a=function(e){var t=e.width,n=e.height;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M11.06 6H10V2.66667C10 2.3 9.70004 2 9.33337 2H6.66671C6.30004 2 6.00004 2.3 6.00004 2.66667V6H4.94004C4.34671 6 4.04671 6.72 4.46671 7.14L7.52671 10.2C7.78671 10.46 8.20671 10.46 8.46671 10.2L11.5267 7.14C11.9467 6.72 11.6534 6 11.06 6ZM3.33337 12.6667C3.33337 13.0333 3.63337 13.3333 4.00004 13.3333H12C12.3667 13.3333 12.6667 13.0333 12.6667 12.6667C12.6667 12.3 12.3667 12 12 12H4.00004C3.63337 12 3.33337 12.3 3.33337 12.6667Z",fill:"currentColor"})})}},"./src/components/Icons/Withdraw.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/jsx-runtime.js");t.a=function(e){var t=e.width,n=e.height;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M3.33337 3.33317C3.33337 3.69984 3.63337 3.99984 4.00004 3.99984H12C12.3667 3.99984 12.6667 3.69984 12.6667 3.33317C12.6667 2.9665 12.3667 2.6665 12 2.6665H4.00004C3.63337 2.6665 3.33337 2.9665 3.33337 3.33317ZM4.94004 9.33317H6.00004V12.6665C6.00004 13.0332 6.30004 13.3332 6.66671 13.3332H9.33337C9.70004 13.3332 10 13.0332 10 12.6665V9.33317H11.06C11.6534 9.33317 11.9534 8.61317 11.5334 8.19317L8.47337 5.13317C8.21337 4.87317 7.79337 4.87317 7.53337 5.13317L4.47337 8.19317C4.05337 8.61317 4.34671 9.33317 4.94004 9.33317Z",fill:"currentColor"})})}},"./src/components/YieldPools/FarmingPoolAPRCell.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),i=n("./node_modules/@lingui/react/esm/index.js"),o=n("./node_modules/react-use/esm/useMedia.js"),c=n("./node_modules/rebass/dist/index.esm.js"),s=n("./src/components/Icons/index.ts"),a=n("./src/components/Tooltip/index.tsx"),d=n("./src/hooks/useTheme.ts"),l=n("./src/state/farms/elastic/hooks.ts"),u=n("./src/state/tokenPrices/hooks.ts"),j=n("./src/theme/index.tsx"),b=n("./node_modules/react/jsx-runtime.js"),p=function(e){var t=e.poolAPR,n=e.farmAPR,r=Object(d.a)(),s=Object(o.a)("(max-width: ".concat(j.i.upToSmall,"px)"));return Object(b.jsxs)(c.b,{sx:{flexDirection:"column",background:r.tableHeader,gap:"8px",width:s?"300px":"fit-content"},children:[Object(b.jsxs)(c.d,{as:"span",fontSize:"14px",children:["Total APR:"," ",Object(b.jsxs)(c.d,{as:"span",color:r.text,fontWeight:500,children:[(t+n).toFixed(2),"%"]})]}),Object(b.jsx)(c.a,{sx:{width:"100%",borderBottom:"1px solid ".concat(r.border)}}),Object(b.jsxs)(c.b,{sx:{flexDirection:"column",fontSize:"12px",lineHeight:"16px"},children:[Object(b.jsxs)(c.d,{as:"span",children:["Pool APR:"," ",Object(b.jsxs)(c.d,{as:"span",color:r.text,fontWeight:500,children:[t.toFixed(2),"%"]})]}),Object(b.jsx)(c.d,{as:"span",fontStyle:"italic",sx:{whiteSpace:s?"wrap":"nowrap"},children:Object(b.jsx)(i.b,{id:"Estimated return from trading fees if you participate in the pool"})})]}),Object(b.jsxs)(c.b,{sx:{flexDirection:"column",fontSize:"12px",lineHeight:"16px"},children:[Object(b.jsxs)(c.d,{as:"span",color:r.warning,children:["Farm APR:"," ",Object(b.jsxs)(c.d,{as:"span",fontWeight:500,children:[n.toFixed(2),"%"]})]}),Object(b.jsx)(c.d,{as:"span",fontStyle:"italic",sx:{whiteSpace:s?"wrap":"nowrap"},children:Object(b.jsx)(i.b,{id:"Estimated return from additional rewards if you also participate in the farm"})})]})]})};t.b=function(e){var t,n=e.poolAPR,i=e.fairlaunchAddress,o=e.pid,j=e.tooltipPlacement,x=void 0===j?"right":j,m=Object(d.a)(),h=Object(l.b)().farms,f=null===h||void 0===h||null===(t=h.find((function(e){return e.id.toLowerCase()===i.toLowerCase()})))||void 0===t?void 0:t.pools.find((function(e){return Number(e.pid)===Number(o)})),O=Object(u.a)([null===f||void 0===f?void 0:f.token0.wrapped.address,null===f||void 0===f?void 0:f.token1.wrapped.address].concat(Object(r.a)(null===f||void 0===f?void 0:f.rewardTokens.map((function(e){return e.wrapped.address})))).filter((function(e){return!!e}))),g=0;f&&(g=36500*(f.totalRewards.reduce((function(e,t){return e+Number(t.toExact())*O[t.currency.wrapped.address]}),0)||0)/((f.endTime-f.startTime)/86400)/f.poolTvl);return Object(b.jsxs)(c.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(b.jsxs)(c.d,{as:"span",children:[(n+g).toFixed(2),"%"]}),Object(b.jsx)(a.a,{width:"fit-content",placement:x,text:Object(b.jsx)(p,{farmAPR:g,poolAPR:n}),children:Object(b.jsx)(s.x,{size:16,color:m.apr})})]})}},"./src/components/YieldPools/styleds.tsx":function(e,t,n){"use strict";n.d(t,"q",(function(){return F})),n.d(t,"t",(function(){return E})),n.d(t,"s",(function(){return D})),n.d(t,"B",(function(){return M})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return R})),n.d(t,"b",(function(){return B})),n.d(t,"K",(function(){return W})),n.d(t,"G",(function(){return q})),n.d(t,"H",(function(){return H})),n.d(t,"F",(function(){return U})),n.d(t,"r",(function(){return G})),n.d(t,"L",(function(){return V})),n.d(t,"p",(function(){return Y})),n.d(t,"D",(function(){return Z})),n.d(t,"C",(function(){return Q})),n.d(t,"l",(function(){return K})),n.d(t,"m",(function(){return J})),n.d(t,"g",(function(){return X})),n.d(t,"f",(function(){return $})),n.d(t,"o",(function(){return ee})),n.d(t,"I",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"v",(function(){return re})),n.d(t,"c",(function(){return ie})),n.d(t,"J",(function(){return oe})),n.d(t,"h",(function(){return ce})),n.d(t,"E",(function(){return se})),n.d(t,"x",(function(){return ae})),n.d(t,"d",(function(){return de})),n.d(t,"i",(function(){return le})),n.d(t,"e",(function(){return ue})),n.d(t,"z",(function(){return je})),n.d(t,"A",(function(){return be})),n.d(t,"w",(function(){return pe})),n.d(t,"n",(function(){return xe})),n.d(t,"y",(function(){return me})),n.d(t,"a",(function(){return he}));var r,i,o,c,s,a,d,l,u,j,b,p,x,m,h,f,O,g,y,v,w,k,C,I,S=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),T=n("./node_modules/polished/dist/polished.esm.js"),A=n("./node_modules/rebass/dist/index.esm.js"),_=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),z=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),L=n("./src/components/Button/index.tsx"),N=n("./src/components/Column/index.tsx"),F=Object(_.default)(N.a).withConfig({displayName:"styleds__PageWrapper",componentId:"sc-z9z5hp-0"})(["padding:32px 24px 50px;width:100%;max-width:1500px;",""],(function(e){return e.theme.mediaWidth.upToSmall(r||(r=Object(S.a)(["\n    padding: 24px 16px 100px;\n  "])))})),E=_.default.div.withConfig({displayName:"styleds__ProMMFarmGuideWrapper",componentId:"sc-z9z5hp-1"})(["padding:1rem 0;font-size:12px;color:",";line-height:1.5;border-top:1px solid ",";border-bottom:1px solid ",";"],(function(e){return e.theme.subText}),(function(e){return e.theme.border}),(function(e){return e.theme.border})),D=_.default.div.withConfig({displayName:"styleds__ProMMFarmGuide",componentId:"sc-z9z5hp-2"})(["font-size:12px;"]),M=_.default.button.withConfig({displayName:"styleds__ShowGuideBtn",componentId:"sc-z9z5hp-3"})(["border:none;outline:none;line-height:0;background:transparent;color:",";cursor:pointer;transform:rotate(",");transition:transform 0.2s;"],(function(e){return e.theme.text}),(function(e){return e.show?"-180deg":0})),P=_.default.div.withConfig({displayName:"styleds__GuideWrapper",componentId:"sc-z9z5hp-4"})(["display:grid;"," margin-top:",";height:",";max-height:",";transition:height 0.2s ease,margin 0.2s ease;overflow:hidden;",""],(function(e){var t=e.numOfSteps;return Object(_.css)(["grid-template-columns:",";"],Array(t).fill("1fr").join(" auto "))}),(function(e){return e.show?"1rem":0}),(function(e){return e.show?"auto":0}),(function(e){return e.show?"1000px":0}),(function(e){return e.theme.mediaWidth.upToMedium(i||(i=Object(S.a)(["\n    grid-template-columns: 1fr;\n    gap: 8px;\n\n    "," {\n      display: none;\n    }\n  "])),B)})),R=_.default.div.withConfig({displayName:"styleds__GuideItem",componentId:"sc-z9z5hp-5"})(["padding:1rem;font-size:12px;color:",";border-radius:20px;background:",";",""],(function(e){return e.theme.subText}),(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToMedium(o||(o=Object(S.a)(["\n    background: transparent;\n    padding: 0;\n  "])))})),B=Object(_.default)(z.a).withConfig({displayName:"styleds__ChevronRight",componentId:"sc-z9z5hp-6"})(["transform:rotate(-90deg);margin:auto;color:",";"],(function(e){return e.theme.primary})),W=_.default.div.withConfig({displayName:"styleds__TopBar",componentId:"sc-z9z5hp-7"})(["display:flex;justify-content:space-between;align-items:center;gap:24px;"]),q=_.default.div.withConfig({displayName:"styleds__TabContainer",componentId:"sc-z9z5hp-8"})(["display:flex;margin-bottom:0;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:24px;"]),H=_.default.div.withConfig({displayName:"styleds__TabWrapper",componentId:"sc-z9z5hp-9"})(["display:flex;justify-content:space-between;align-items:center;"]),U=Object(_.default)(L.c).withConfig({displayName:"styleds__Tab",componentId:"sc-z9z5hp-10"})(["width:fit-content;margin-right:1.5rem;font-weight:500;padding:0;font-size:1rem;padding-bottom:4px;color:",";border-radius:0;&:hover{text-decoration:none;}&:focus{text-decoration:none;}&:last-child{margin-right:0;}",""],(function(e){var t=e.theme;return e.isActive?t.primary:t.subText}),(function(e){return e.theme.mediaWidth.upToSmall(c||(c=Object(S.a)(["\n    margin-right: 12px;\n  "])))})),G=_.default.div.withConfig({displayName:"styleds__PoolTitleContainer",componentId:"sc-z9z5hp-11"})(["display:flex;align-items:center;"]),V=_.default.div.withConfig({displayName:"styleds__UpcomingPoolsWrapper",componentId:"sc-z9z5hp-12"})(["position:relative;margin-right:4px;"]),Y=_.default.div.withConfig({displayName:"styleds__NewText",componentId:"sc-z9z5hp-13"})(["position:absolute;top:-10px;right:-12px;font-size:10px;font-weight:500;color:#ff537b;"]),Z=_.default.div.withConfig({displayName:"styleds__StakedOnlyToggleWrapper",componentId:"sc-z9z5hp-14"})(["display:flex;align-items:center;",""],(function(e){return e.theme.mediaWidth.upToSmall(s||(s=Object(S.a)(["\n    margin-top: 20px;\n  "])))})),Q=_.default.div.withConfig({displayName:"styleds__StakedOnlyToggleText",componentId:"sc-z9z5hp-15"})(["font-size:14px;font-weight:500;color:",";margin-right:8px;",""],(function(e){return e.theme.subText}),(function(e){return e.theme.mediaWidth.upToLarge(a||(a=Object(S.a)(["\n    margin-left: 4px;\n  "])))})),K=(_.default.div.withConfig({displayName:"styleds__AdContainer",componentId:"sc-z9z5hp-16"})(["margin-bottom:1.75rem;border-radius:0.5rem;position:relative;"]),_.default.a.withConfig({displayName:"styleds__LearnMoreBtn",componentId:"sc-z9z5hp-17"})(["outline:none;border:none;text-decoration:none;background-color:#244641;color:",";position:absolute;bottom:0.25rem;right:0;font-size:0.875rem;font-weight:500;padding:0.25rem 0.5rem;border-top-left-radius:0.5rem;border-bottom-right-radius:0.5rem;:hover{text-decoration:underline;}"],(function(e){return e.theme.primary})),_.default.div.withConfig({displayName:"styleds__HeadingContainer",componentId:"sc-z9z5hp-18"})(["display:flex;align-items:center;justify-content:space-between;gap:20px;margin-bottom:16px;",""],(function(e){return e.theme.mediaWidth.upToSmall(d||(d=Object(S.a)(["\n    gap: 0;\n    display: flex;\n    flex-direction: column-reverse;\n    align-items: flex-start;\n  "])))}))),J=_.default.div.withConfig({displayName:"styleds__HeadingRight",componentId:"sc-z9z5hp-19"})(["display:flex;gap:20px;"," ",""],(function(e){return e.theme.mediaWidth.upToSmall(l||(l=Object(S.a)(["\n    width: 100%;\n  "])))}),(function(e){return e.theme.mediaWidth.upToExtraSmall(u||(u=Object(S.a)(["\n    display: flex;\n    flex-direction: column-reverse;\n    gap: 0;\n  "])))})),X=(_.default.div.withConfig({displayName:"styleds__TotalRewardsContainer",componentId:"sc-z9z5hp-20"})(["display:flex;gap:0.75rem;align-items:center;border-radius:4px;padding:0.625rem 0.75rem;font-size:0.875rem;font-weight:500;cursor:pointer;position:relative;background-color:",";color:",";",";",";"],(function(e){return e.theme.apr}),(function(e){return e.theme.textReverse}),(function(e){return e.theme.mediaWidth.upToExtraSmall(j||(j=Object(S.a)(["\n    justify-content: space-between\n  "])))}),(function(e){return e.disabled&&Object(_.css)(["background-color:",";color:",";cursor:not-allowed;"],(function(e){return e.theme.buttonGray}),(function(e){return e.theme.disableText}))})),_.default.div.withConfig({displayName:"styleds__HarvestAllButtonContainer",componentId:"sc-z9z5hp-21"})(["display:flex;justify-content:flex-end;",""],(function(e){return e.theme.mediaWidth.upToSmall(b||(b=Object(S.a)(["\n    justify-content: flex-start;\n  "])))})),_.default.div.withConfig({displayName:"styleds__HarvestAllInstruction",componentId:"sc-z9z5hp-22"})(["display:flex;justify-content:center;align-items:center;height:fit-content;font-size:14px;font-weight:normal;font-stretch:normal;font-style:normal;font-weight:500;color:",";background-color:",";padding:20px;border-radius:8px;"],(function(e){return e.theme.text7}),(function(e){return e.theme.buttonBlack})),_.default.div.withConfig({displayName:"styleds__RewardNumberContainer",componentId:"sc-z9z5hp-23"})(["font-size:24px;font-weight:500;color:",";margin-right:12px;"],(function(e){return e.theme.text11})),_.default.span.withConfig({displayName:"styleds__RewardToken",componentId:"sc-z9z5hp-24"})(["@media (min-width:1200px){display:block;margin-bottom:4px;}"]),_.default.div.withConfig({displayName:"styleds__HistoryButton",componentId:"sc-z9z5hp-25"})(["background:",";color:",";padding:10px 14px;border-radius:4px;margin-left:auto;cursor:pointer;white-space:nowrap;svg{vertical-align:bottom;margin-right:8px;}"],(function(e){return e.theme.background}),(function(e){return e.theme.subText})),_.default.div.withConfig({displayName:"styleds__FairLaunchPoolsWrapper",componentId:"sc-z9z5hp-26"})(["background-color:",";box-shadow:0px 4px 16px rgba(0,0,0,0.04);:last-child{border-bottom-left-radius:1.25rem;border-bottom-right-radius:1.25rem;}",";"],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToMedium(p||(p=Object(S.a)(["\n    border-radius: 1.25rem;\n    margin-bottom: 1.5rem;\n  "])))}))),$=_.default.div.withConfig({displayName:"styleds__FairLaunchPoolsTitle",componentId:"sc-z9z5hp-27"})(["padding:12px 24px;display:flex;justify-content:",";align-items:center;background-color:",";gap:24px;",""],(function(e){return e.justify||"space-between"}),(function(e){var t=e.theme;return Object(T.d)(t.buttonBlack,.4)}),(function(e){return e.theme.mediaWidth.upToMedium(x||(x=Object(S.a)(["\n    flex-direction: column;\n    align-items: flex-end;\n    padding: 16px;\n  "])))})),ee=_.default.div.withConfig({displayName:"styleds__ListItemWrapper",componentId:"sc-z9z5hp-28"})(["padding:0 24px 24px;",";"],(function(e){return e.theme.mediaWidth.upToMedium(m||(m=Object(S.a)(["\n    padding: 0;\n  "])))})),te=_.default.div.withConfig({displayName:"styleds__TableHeader",componentId:"sc-z9z5hp-29"})(["display:grid;grid-gap:1rem;grid-template-columns:1.5fr 1fr 0.75fr 1fr 1.5fr 1fr 140px;grid-template-areas:'pools liq apy vesting_duration reward staked_balance action';padding:16px 24px;font-size:12px;align-items:center;height:fit-content;position:relative;opacity:",";background-color:",";border-top-left-radius:1.25rem;border-top-right-radius:1.25rem;box-shadow:0px 4px 16px rgba(0,0,0,0.04);",";",";",";"],(function(e){return e.fade?"0.6":"1"}),(function(e){return e.theme.tableHeader}),(function(e){return e.theme.mediaWidth.upToSmall(h||(h=Object(S.a)(["\n    grid-gap: 1rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToMedium(f||(f=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToLarge(O||(O=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))})),ne=Object(_.default)(te).withConfig({displayName:"styleds__ProMMFarmTableHeader",componentId:"sc-z9z5hp-30"})(["grid-template-columns:200px 0.5fr 0.75fr 1fr 0.5fr 0.75fr 0.75fr;grid-template-areas:'token_pairs staked_tvl apr ending_in my_deposit reward action';grid-gap:2rem;border-top-left-radius:0;border-top-right-radius:0;",";"],(function(e){return e.theme.mediaWidth.upToLarge(g||(g=Object(S.a)(["\n    grid-template-columns: 170px 0.5fr 0.75fr 1fr 0.5fr 0.75fr 0.75fr;\n    grid-gap: 1rem;\n  "])))})),re=Object(_.default)(ne).withConfig({displayName:"styleds__ProMMFarmTableRow",componentId:"sc-z9z5hp-31"})(["font-size:14px;background-color:",";border-radius:0;:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.background}),(function(e){return e.theme.border})),ie=Object(_.default)(A.d).withConfig({displayName:"styleds__ClickableText",componentId:"sc-z9z5hp-32"})(["display:flex;align-items:center;color:",";user-select:none;text-transform:uppercase;&:hover{cursor:pointer;opacity:0.6;}"],(function(e){return e.theme.subText})),oe=(_.default.span.withConfig({displayName:"styleds__MenuFlyout",componentId:"sc-z9z5hp-33"})(["min-width:14rem;background-color:",";filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.2));border-radius:5px;padding:12px 16px;display:flex;flex-direction:column;font-size:16px;position:absolute;top:2.5rem !important;left:0 !important;z-index:10000;"],(function(e){return e.theme.background})),_.default.div.withConfig({displayName:"styleds__Tag",componentId:"sc-z9z5hp-34"})(["display:flex;position:relative;flex-direction:row;align-items:center;justify-content:space-between;padding:10px 12px;border-radius:4px;font-size:14px;color:",";background-color:",";box-sizing:border-box;@media screen and (max-width:500px){box-shadow:none;}"],(function(e){return"active"===e.tag?"#1f292e":"inherit"}),(function(e){var t=e.theme;return"active"===e.tag?"#4aff8c":t.bg11})),_.default.div.withConfig({displayName:"styleds__TableRow",componentId:"sc-z9z5hp-35"})(["display:grid;grid-gap:1rem;grid-template-columns:1.5fr 1fr 0.75fr 1fr 1.5fr 1fr 140px;grid-template-areas:'pools liq apy vesting_duration reward staked_balance action';padding:15px 0 13px;font-size:14px;align-items:center;height:fit-content;position:relative;opacity:",";background-color:",";border:1px solid transparent;border-bottom:1px solid ",";",";",";",";&:hover{cursor:pointer;}"],(function(e){return e.fade?"0.6":"1"}),(function(e){return e.theme.background}),(function(e){var t=e.theme;return e.isExpanded?"transparent":t.border}),(function(e){return e.theme.mediaWidth.upToSmall(y||(y=Object(S.a)(["\n    grid-gap: 1rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToMedium(v||(v=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToLarge(w||(w=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))}))),ce=_.default.span.withConfig({displayName:"styleds__GetLP",componentId:"sc-z9z5hp-36"})(["font-size:14px;font-weight:600;color:",";"],(function(e){return e.theme.primary})),se=_.default.div.withConfig({displayName:"styleds__StyledItemCard",componentId:"sc-z9z5hp-37"})(["border-bottom:",";margin-bottom:24px;padding:16px;background-color:",";:last-child{border-bottom:none;border-radius:1rem;}"],(function(e){var t=e.theme;return"1px solid ".concat(t.border)}),(function(e){return e.theme.background})),ae=_.default.div.withConfig({displayName:"styleds__RewardBalanceWrapper",componentId:"sc-z9z5hp-38"})(["display:flex;align-items:center;flex-wrap:wrap;width:100%;justify-content:center;padding:0.75rem;border-radius:1.25rem;gap:8px;background-color:",";margin-top:0.75rem;margin-bottom:1rem;"],(function(e){return e.theme.buttonBlack})),de=(_.default.div.withConfig({displayName:"styleds__PoolRewardUSD",componentId:"sc-z9z5hp-39"})(["color:",";"],(function(e){return e.theme.subText})),Object(_.default)(A.b).withConfig({displayName:"styleds__DataText",componentId:"sc-z9z5hp-40"})(["color:",";justify-content:",";font-weight:500;",""],(function(e){return e.theme.text}),(function(e){return"right"===e.align?"flex-end":"flex-start"}),(function(e){return e.theme.mediaWidth.upToLarge(k||(k=Object(S.a)(["\n    font-size: 14px;\n  "])))}))),le=(Object(_.default)(de).withConfig({displayName:"styleds__APY",componentId:"sc-z9z5hp-41"})(["color:",";"],(function(e){return e.theme.apr})),_.default.div.withConfig({displayName:"styleds__GridItem",componentId:"sc-z9z5hp-42"})(["position:relative;margin-top:8px;margin-bottom:8px;border-bottom:",";padding-bottom:12px;"],(function(e){var t=e.theme;return e.noBorder?"none":"1px dashed ".concat(t.border)}))),ue=_.default.div.withConfig({displayName:"styleds__DataTitle",componentId:"sc-z9z5hp-43"})(["display:flex;align-items:flex-start;color:",";&:hover{opacity:0.6;}user-select:none;text-transform:uppercase;margin-bottom:4px;font-size:12px;"],(function(e){return e.theme.subText})),je=_.default.div.withConfig({displayName:"styleds__SearchContainer",componentId:"sc-z9z5hp-44"})(["background:",";border-radius:999px;width:320px;font-size:12px;display:flex;align-items:center;padding:8px 12px;gap:8px;> svg{cursor:pointer;}"," ",""],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToSmall(C||(C=Object(S.a)(["\n    width: 100%;\n  "])))}),(function(e){return e.theme.mediaWidth.upToExtraSmall(I||(I=Object(S.a)(["\n    width: 100%;\n  "])))})),be=_.default.input.withConfig({displayName:"styleds__SearchInput",componentId:"sc-z9z5hp-45"})(["outline:none;border:none;flex:1;color:",";background:",";:placeholder{color:",";}"],(function(e){return e.theme.text}),(function(e){return e.theme.background}),(function(e){return e.theme.disableText})),pe=_.default.div.withConfig({displayName:"styleds__ProMMFarmTableRowMobile",componentId:"sc-z9z5hp-46"})(["background:",";padding:24px 16px;:not(:last-child){border-bottom:1px solid ",";}"],(function(e){return e.theme.background}),(function(e){return e.theme.border})),xe=_.default.div.withConfig({displayName:"styleds__InfoRow",componentId:"sc-z9z5hp-47"})(["display:flex;justify-content:space-between;margin-top:12px;font-size:12px;"]),me=_.default.div.withConfig({displayName:"styleds__RewardMobileArea",componentId:"sc-z9z5hp-48"})(["background:",";border-radius:16px;padding:12px;margin-top:12px;"],(function(e){return e.theme.buttonBlack})),he=Object(_.default)(L.f).withConfig({displayName:"styleds__ActionButton",componentId:"sc-z9z5hp-49"})(["background-color:",";width:28px;height:28px;:disabled{background:",";cursor:not-allowed;opacity:0.4;}"],(function(e){var t=e.theme;return e.backgroundColor||t.primary+"33"}),(function(e){return e.theme.buttonGray}))},"./src/hooks/useProAmmPositions.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return m}));var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),o=n("./node_modules/@ethersproject/address/lib.esm/index.js"),c=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),s=n("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),d=n("./node_modules/react/index.js"),l=n("./src/constants/networks.ts"),u=n("./src/hooks/index.ts"),j=n("./src/state/multicall/hooks.ts"),b=n("./src/hooks/useContract.ts");function p(e){var t=Object(b.o)(),n=Object(u.b)().chainId,c=Object(d.useMemo)((function(){return e?e.map((function(e){return[e]})):[]}),[e]),p=Object(j.d)(t,"positions",c),x=Object(d.useMemo)((function(){return p.some((function(e){return e.loading}))}),[p]),m=Object(d.useMemo)((function(){return p.some((function(e){return e.error}))}),[p]),h=Object(d.useMemo)((function(){if(!x&&!m&&e)return p.map((function(t,r){var c=e[r],d=t.result;return{tokenId:c,poolId:Object(o.getCreate2Address)(l.b[n||a.ChainId.MAINNET].elastic.coreFactory,Object(s.keccak256)(["bytes"],[i.b.encode(["address","address","uint24"],[d.info.token0,d.info.token1,d.info.fee])]),l.b[n||a.ChainId.MAINNET].elastic.initCodeHash),feeGrowthInsideLast:d.pos.feeGrowthInsideLast,nonce:d.pos.nonce,liquidity:d.pos.liquidity,operator:d.pos.operator,tickLower:d.pos.tickLower,tickUpper:d.pos.tickUpper,rTokenOwed:d.pos.rTokenOwed,fee:d.info.fee,token0:d.info.token0,token1:d.info.token1}}))}),[x,m,p,e,n]);return Object(d.useMemo)((function(){return{loading:x,positions:null===h||void 0===h?void 0:h.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{tokenId:c[t][0]})}))}}),[x,h,c])}function x(e){var t,n=p(e?[e]:void 0);return{loading:n.loading,position:null===(t=n.positions)||void 0===t?void 0:t[0]}}function m(e){var t,n=Object(b.o)(),r=Object(j.c)(n,"balanceOf",[null!==e&&void 0!==e?e:void 0]),i=r.loading,o=r.result,s=null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((function(){if(s&&e){for(var t=[],n=0;n<s;n++)t.push([e,n]);return t}return[]}),[e,s]),l=Object(j.d)(n,"tokenOfOwnerByIndex",a),u=Object(d.useMemo)((function(){return l.some((function(e){return e.loading}))}),[l]),x=p(Object(d.useMemo)((function(){return e?l.map((function(e){return e.result})).filter((function(e){return!!e})).map((function(e){return c.a.from(e[0])})):[]}),[e,l])),m=x.positions,h=x.loading;return Object(d.useMemo)((function(){return{loading:u||i||h,positions:m}}),[u,i,h,m])}},"./src/pages/Farm/index.tsx":function(e,t,n){"use strict";n.r(t);var r,i,o,c,s,a,d=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=n("./node_modules/@lingui/react/esm/index.js"),u=n("./node_modules/qs/lib/index.js"),j=n("./node_modules/react/index.js"),b=n.n(j),p=n("./node_modules/react-redux/es/index.js"),x=n("./node_modules/react-router/esm/react-router.js"),m=n("./node_modules/react-use/esm/useMedia.js"),h=n("./node_modules/rebass/dist/index.esm.js"),f=n("./src/components/ClassicElasticTab.tsx"),O=n("./src/components/Loader/index.tsx"),g=n("./src/components/RewardTokenPrices/index.tsx"),y=n("./src/components/SwitchLocaleLink/index.tsx"),v=n("./src/components/Tutorial/index.tsx"),w=n("./src/components/YieldPools/styleds.tsx"),k=[],C=n("./src/constants/networks.ts"),I=n("./src/theme/index.tsx"),S=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),T=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),A=T.default.div.withConfig({displayName:"styled__TableWrapper",componentId:"sc-q1txj1-0"})(["background:",";border-radius:8px;"],(function(e){return e.theme.background})),_=T.default.div.withConfig({displayName:"styled__TableHeader",componentId:"sc-q1txj1-1"})(["display:grid;grid-gap:3rem;grid-template-columns:repeat(5,1fr);grid-template-areas:'pools startingIn network rewards information';padding:18px 24px 18px 24px;font-size:12px;align-items:center;height:fit-content;position:relative;opacity:",";background-color:",";border-radius:8px;",";",";",";"],(function(e){return e.fade?"0.6":"1"}),(function(e){return e.theme.tableHeader}),(function(e){return e.theme.mediaWidth.upToSmall(r||(r=Object(S.a)(["\n    grid-gap: 1rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToMedium(i||(i=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToLarge(o||(o=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))})),z=T.default.div.withConfig({displayName:"styled__RowsWrapper",componentId:"sc-q1txj1-2"})(["padding:24px 20px;@media only screen and (min-width:1000px){padding:0 24px;}"]),L=T.default.div.withConfig({displayName:"styled__TableRow",componentId:"sc-q1txj1-3"})(["display:grid;grid-gap:3rem;grid-template-columns:repeat(5,1fr);grid-template-areas:'pools startingIn network rewards information';padding:16px 0;font-size:14px;align-items:center;height:fit-content;position:relative;background-color:",";border:1px solid transparent;border-bottom:",";",";",";",";&:hover{cursor:pointer;}"],(function(e){return e.theme.background}),(function(e){var t=e.theme;return e.isLastItem?"none":"1px solid ".concat(t.border)}),(function(e){return e.theme.mediaWidth.upToSmall(c||(c=Object(S.a)(["\n    grid-gap: 1rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToMedium(s||(s=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))}),(function(e){return e.theme.mediaWidth.upToLarge(a||(a=Object(S.a)(["\n    grid-gap: 1.5rem;\n  "])))})),N=T.default.img.withConfig({displayName:"styled__StyledImg",componentId:"sc-q1txj1-4"})(["margin-right:8px;border-radius:50%;object-fit:contain;"]),F=Object(T.default)(N).withConfig({displayName:"styled__HigherLogo",componentId:"sc-q1txj1-5"})(["z-index:2;"]),E=Object(T.default)(N).withConfig({displayName:"styled__CoveredLogo",componentId:"sc-q1txj1-6"})(["position:absolute;left:12px !important;"]),D=T.default.div.withConfig({displayName:"styled__PoolTokensWrapper",componentId:"sc-q1txj1-7"})(["position:relative;display:flex;"]),M=T.default.div.withConfig({displayName:"styled__PoolTokensText",componentId:"sc-q1txj1-8"})(["margin-left:12px;font-size:14px;font-weight:400;color:",";"],(function(e){return e.theme.text})),P=T.default.span.withConfig({displayName:"styled__NetworkLabel",componentId:"sc-q1txj1-9"})(["color:",";font-size:14px;font-weight:500;"],(function(e){return e.theme.text})),R=T.default.div.withConfig({displayName:"styled__NoFarmsWrapper",componentId:"sc-q1txj1-10"})(["text-align:center;padding-top:20px;@media only screen and (min-width:1000px){padding-top:32px;}"]),B=T.default.div.withConfig({displayName:"styled__NoFarmsMessage",componentId:"sc-q1txj1-11"})(["font-size:20px;font-weight:400;color:",";margin-bottom:40px;@media only screen and (min-width:1000px){font-size:24px;}"],(function(e){return e.theme.subText})),W=T.default.div.withConfig({displayName:"styled__StyledItemCard",componentId:"sc-q1txj1-12"})(["display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:4px;border:",";border-radius:8px;margin-bottom:",";padding:8px 20px 4px 20px;background-color:",";box-shadow:0px 0px 8px 2px rgba(0,0,0,0.06);"],(function(e){var t=e.theme;return"1px solid ".concat(t.border)}),(function(e){return e.isLastItem?"0":"24px"}),(function(e){return e.theme.background})),q=n("./node_modules/react/jsx-runtime.js"),H=function(e){var t=e.pool;return Object(q.jsxs)(D,{children:[Object(q.jsx)(F,{src:t.poolToken1Logo,alt:"poolToken1Logo",width:"16px",height:"16px"}),Object(q.jsx)(E,{src:t.poolToken2Logo,alt:"poolToken2Logo",width:"16px",height:"16px"}),Object(q.jsx)(M,{children:"".concat(t.poolToken1Symbol,"-").concat(t.poolToken2Symbol)})]})},U=n("./src/hooks/useTheme.ts"),G=n("./src/utils/formatTime.ts"),V=function(e){var t=e.startingIn,n=Object(U.a)();if(!t)return Object(q.jsx)(h.d,{color:n.text,children:Object(q.jsx)(l.b,{id:"Coming soon"})});var r=new Date(t).getTime()-Date.now();if(r<0)return null;var i=Math.abs(r)/1e3;return Object(q.jsx)(h.d,{color:n.text,children:Object(G.a)(i)})},Y=function(e){var t=e.pool,n=e.isLastItem;return Object(m.a)("(min-width: 1000px)")?Object(q.jsxs)(L,{isLastItem:n,children:[Object(q.jsx)(h.b,{"grid-area":"pools",alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(H,{pool:t})}),Object(q.jsx)(h.b,{"grid-area":"startingIn",alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(V,{startingIn:t.startingIn})}),Object(q.jsxs)(h.b,{"grid-area":"network",alignItems:"center",justifyContent:"flex-start",children:[Object(q.jsx)("img",{src:C.b[t.network].icon,alt:"Network Logo",style:{width:"16px",marginRight:"4px"}}),Object(q.jsx)(P,{children:C.b[t.network].name})]}),Object(q.jsx)(h.b,{"grid-area":"rewards",alignItems:"right",justifyContent:"flex-end",children:t.rewards.map((function(e,t){return Object(q.jsx)(N,{src:e.logo,alt:"logo",width:"16px",height:"16px"},t)}))}),Object(q.jsx)(h.b,{"grid-area":"information",alignItems:"center",justifyContent:"flex-end",children:t.information&&Object(q.jsxs)(I.c,{href:t.information,children:[Object(q.jsx)(l.b,{id:"Learn more"})," \u2197"]})})]},"".concat(t.poolToken1Symbol,"_").concat(t.poolToken2Symbol)):Object(q.jsxs)(W,{isLastItem:n,children:[Object(q.jsxs)(w.i,{children:[Object(q.jsx)(w.e,{children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Pools"})})}),Object(q.jsx)(w.d,{children:Object(q.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(q.jsx)(H,{pool:t})})})]}),Object(q.jsxs)(w.i,{children:[Object(q.jsx)(w.e,{children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Network"})})}),Object(q.jsx)(w.d,{children:Object(q.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(q.jsx)("img",{src:C.b[t.network].icon,alt:"Network Logo",style:{width:"16px",marginRight:"4px"}}),Object(q.jsx)(P,{children:C.b[t.network].name})]})})]}),Object(q.jsxs)(w.i,{children:[Object(q.jsx)(w.e,{children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Rewards"})})}),Object(q.jsx)(w.d,{children:t.rewards.map((function(e,t){return Object(q.jsx)(N,{src:e.logo,alt:"logo",width:"16px",height:"16px"},t)}))})]}),Object(q.jsxs)(w.i,{children:[Object(q.jsx)(w.e,{children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Starting In"})})}),Object(q.jsx)(w.d,{children:Object(q.jsx)(V,{startingIn:t.startingIn})})]}),Object(q.jsx)(w.i,{noBorder:!0,children:Object(q.jsx)(w.e,{style:{marginBottom:0,display:"flex",alignItems:"center"},children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Information"})})})}),Object(q.jsx)(w.i,{noBorder:!0,children:!!t.information&&Object(q.jsx)(w.d,{children:Object(q.jsx)(I.c,{href:t.information,children:Object(q.jsxs)("span",{style:{fontWeight:600},children:[Object(q.jsx)(l.b,{id:"Learn more"})," \u2197"]})})})})]})},Z=n("./src/components/Button/index.tsx"),Q=n("./src/constants/v2.ts"),K=n("./src/hooks/useParsedQueryString.ts"),J=function(){var e=Object(x.g)(),t=Object(K.a)().tab||Q.c.ELASTIC,n=Object(U.a)();return Object(q.jsxs)(R,{children:[Object(q.jsx)(B,{children:"Currently there are no Upcoming Farms."}),Object(q.jsx)(h.d,{color:n.subText,children:Object(q.jsx)(l.b,{id:"Please check the <0>Active Farms</0> or come back later.",components:{0:Object(q.jsx)(Z.c,{width:"fit-content",padding:"0",style:{display:"inline"},onClick:function(){return e.replace("/farms?type=active&tab=".concat(t))}})}})})]})},X=function(){var e=Object(m.a)("(min-width: 1000px)");return Object(q.jsx)(q.Fragment,{children:k.length>0?Object(q.jsxs)(A,{children:[e?Object(q.jsxs)(_,{children:[Object(q.jsx)(h.b,{"grid-area":"pools",alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Pools"})})}),Object(q.jsx)(h.b,{"grid-area":"startingIn",alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Starting In"})})}),Object(q.jsx)(h.b,{"grid-area":"network",alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Network"})})}),Object(q.jsx)(h.b,{"grid-area":"rewards",alignItems:"right",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Rewards"})})}),Object(q.jsx)(h.b,{"grid-area":"information",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Information"})})})]}):null,Object(q.jsx)(z,{children:k.map((function(e,t){return Object(q.jsx)(Y,{pool:e,isLastItem:t===k.length-1},t)}))})]}):Object(q.jsx)(J,{})})},$=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),ee=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),te=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),ne=n("./src/components/LocalLoader/index.tsx"),re=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),ie=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),oe=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),ce=n("./src/constants/index.ts"),se=n("./src/hooks/index.ts"),ae=n("./src/hooks/useMixpanel.ts"),de=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");var le,ue=n("./src/constants/messages.ts"),je=n("./src/hooks/useContract.ts"),be=n("./src/state/transactions/hooks.tsx"),pe=n("./src/utils/index.ts"),xe=function(e){var t=Object(be.e)(),n=Object(je.s)(e),r=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(r,i){var o,c;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(ue.a);case 2:return e.next=4,n.estimateGas.vestScheduleAtIndices(r,i);case 4:return o=e.sent,e.next=7,n.vestScheduleAtIndices(r,i,{gasLimit:Object(pe.b)(o)});case 7:return c=e.sent,t(c,{type:"Claim",summary:"reward"}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]),i=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(r,i){var o,c;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(ue.a);case 2:return e.next=4,n.estimateGas.vestScheduleForMultipleTokensAtIndices(r,i);case 4:return o=e.sent,e.next=7,n.vestScheduleForMultipleTokensAtIndices(r,i,{gasLimit:Object(pe.b)(o)});case 7:return c=e.sent,t(c,{type:"Claim",summary:"all rewards"}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]);return{vestAtIndex:r,vestMultipleTokensAtIndices:i}},me=n("./src/state/application/hooks.ts"),he=n("./src/state/farms/types.ts"),fe=n("./src/state/hooks.ts"),Oe=n("./src/state/vesting/actions.ts"),ge=n("./src/utils/formatBalance.ts"),ye=n("./node_modules/@lingui/core/esm/index.js"),ve=n("./node_modules/dayjs/dayjs.min.js"),we=n.n(ve),ke=n("./node_modules/react-feather/dist/icons/chevron-down.js"),Ce=n("./src/components/CurrencyLogo/index.tsx"),Ie=n("./src/components/Divider/index.tsx"),Se=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),Te=T.default.div.withConfig({displayName:"HoverDropdown__Dropdown",componentId:"sc-onzut7-0"})(["display:none;position:absolute;background:",";filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:16px;padding:12px;width:max-content;z-index:13;top:28px;",""],(function(e){return e.theme.tableHeader}),(function(e){var t=e.placement;return"center"===t?"\n    left: 50%;\n    transform: translate(-50%, 0);\n    ":"right"===t?"left: 100%;\n        transform: translate(-100%, 0);\n    ":""})),Ae=Object(T.default)(Se.a).withConfig({displayName:"HoverDropdown__DropdownIcon",componentId:"sc-onzut7-1"})(["margin-left:4px;transition:transform 300ms;"]),_e=T.default.div.withConfig({displayName:"HoverDropdown__HoverDropdownWrapper",componentId:"sc-onzut7-2"})(["position:relative;display:inline-block;cursor:pointer;width:fit-content;padding:",";:hover{","{display:flex;flex-direction:column;}","{transform:rotate(",");}}"],(function(e){return e.padding||"8px 12px"}),Te,Ae,(function(e){return e.disabledHover?"0":"-180deg"})),ze=function(e){var t=e.hideIcon,n=void 0!==t&&t,r=e.content,i=e.dropdownContent,o=e.padding,c=e.placement,s=e.style,a=void 0===s?{}:s;return Object(q.jsxs)(_e,{disabledHover:!i,padding:o,style:a,children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[r,!n&&Object(q.jsx)(Ae,{})]}),i&&Object(q.jsx)(Te,{placement:c,children:i})]})},Le=n("./src/components/HoverInlineText/index.tsx"),Ne=n("./src/utils/numbers.ts"),Fe=function(e){if(e<0)return ye.a._("Full unlocked");var t=e/60/60/24;if(t>1)return t+" Days left";var n=e/60/60;return n<24&&n>1?n.toFixed(0)+" Hours left":(e/60).toFixed(0)+" Minutes left"},Ee=T.default.div.withConfig({displayName:"VestingCard__ScheduleCardWrapper",componentId:"sc-1jg4r1h-0"})(["padding:20px 24px;border-radius:20px;background:",";",""],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToSmall(le||(le=Object(S.a)(["\n    padding: 20px 16px;\n  "])))})),De=T.default.div.withConfig({displayName:"VestingCard__ProgressBar",componentId:"sc-1jg4r1h-1"})(["border-radius:999px;height:12px;margin-top:8px;background:",";position:relative;"],(function(e){return e.theme.buttonGray})),Me=T.default.div.withConfig({displayName:"VestingCard__Claimed",componentId:"sc-1jg4r1h-2"})(["border-radius:999px;height:12px;background:",";width:",";position:absolute;left:0;top:0;z-index:1;"],(function(e){return e.theme.primary}),(function(e){return e.width})),Pe=Object(T.default)(Me).withConfig({displayName:"VestingCard__Unlocked",componentId:"sc-1jg4r1h-3"})(["background:",";"],(function(e){return e.theme.text})),Re=T.default.div.withConfig({displayName:"VestingCard__Dot",componentId:"sc-1jg4r1h-4"})(["width:16px;height:16px;border-radius:50%;background:",";"],(function(e){return e.color})),Be=T.default.div.withConfig({displayName:"VestingCard__RewardBackground",componentId:"sc-1jg4r1h-5"})(["padding:12px;border-radius:8px;background:",";margin-top:8px;"],(function(e){return e.theme.buttonBlack})),We=T.default.div.withConfig({displayName:"VestingCard__InfoCard",componentId:"sc-1jg4r1h-6"})(["margin-top:20px;border:1px solid ",";border-radius:8px;padding:12px;"],(function(e){return e.theme.border}));var qe,He,Ue=function(e){var t=e.info,n=e.endTime,r=e.remainTime,i=e.onClaimAll,o=Object(U.a)(),c=Object.values(t).reduce((function(e,t){var n=te.CurrencyAmount.fromRawAmount(t.token,t.vestableAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),s=Object.values(t).reduce((function(e,t){var n=te.CurrencyAmount.fromRawAmount(t.token,t.totalAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),a=Object.values(t).reduce((function(e,t){var n=te.CurrencyAmount.fromRawAmount(t.token,t.vestedAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),d=Object.values(t).some((function(e){return e.vestableAmount.gt(0)})),u=100*(s?a/s:0),j=100*(s?c/s:0);return Object(q.jsxs)(Ee,{children:[Object(q.jsx)(h.d,{fontWeight:"500",fontSize:20,children:"GROUP"}),Object(q.jsxs)(h.b,{fontSize:12,marginTop:"1rem",justifyContent:"space-between",children:[Object(q.jsxs)(h.d,{color:o.subText,children:[Object(q.jsx)(l.b,{id:"Full unlock"})," "]}),Object(q.jsxs)(h.d,{children:[we()(1e3*n).format("DD-MM-YYYY")," (",Fe(r),")"]})]}),Object(q.jsxs)(De,{children:[Object(q.jsx)(Pe,{width:"".concat(u+j,"%")}),Object(q.jsx)(Me,{width:u+"%"})]}),Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",fontSize:"12px",color:o.subText,marginTop:"12px",children:[Object(q.jsxs)(h.b,{children:[Object(q.jsx)(Re,{color:o.primary}),Object(q.jsx)(h.d,{marginLeft:"4px",lineHeight:"16px",children:Object(q.jsx)(l.b,{id:"{0}% Claimed",values:{0:u.toFixed(0)}})})]}),Object(q.jsxs)(h.b,{children:[Object(q.jsx)(Re,{color:o.text}),Object(q.jsx)(h.d,{marginLeft:"4px",lineHeight:"16px",children:Object(q.jsx)(l.b,{id:"{0}% Unlocked",values:{0:j.toFixed(0)}})})]}),Object(q.jsxs)(h.b,{children:[Object(q.jsx)(Re,{color:o.buttonGray}),Object(q.jsx)(h.d,{marginLeft:"4px",lineHeight:"16px",children:Object(q.jsx)(l.b,{id:"{0}% Locked",values:{0:Math.abs(100-j-u).toFixed(0)}})})]})]}),Object(q.jsxs)(h.b,{marginTop:"20px",alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(h.d,{color:o.subText,fontSize:"12px",width:"max-content",children:Object(q.jsx)(l.b,{id:"Unlocked Rewards"})}),Object(q.jsx)(h.d,{fontSize:"14px",overflow:"hidden",children:Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(c)})})]}),Object(q.jsxs)(Be,{children:[Object(q.jsx)(h.b,{sx:{gap:"12px"},marginBottom:"8px",alignItems:"center",justifyContent:"center",children:Object.keys(t).map((function(e,n){var r=t[e];return Object(q.jsxs)(b.a.Fragment,{children:[Object(q.jsxs)(h.b,{sx:{gap:"4px"},fontSize:"12px",alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:r.token,size:"16px"}),Object(q.jsx)(Le.a,{maxCharacters:10,text:te.CurrencyAmount.fromRawAmount(r.token,r.vestableAmount.toString()).toSignificant(10)})]}),n!==Object.keys(t).length-1&&Object(q.jsx)(h.d,{color:o.subText,children:"|"})]},e)}))}),Object(q.jsx)(Z.f,{style:{height:"32px",fontSize:"14px"},onClick:i,disabled:!d,children:Object(q.jsx)(l.b,{id:"Claim"})})]}),Object(q.jsxs)(We,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"4px",children:[Object(q.jsx)(h.d,{color:o.subText,fontSize:12,children:Object(q.jsx)(l.b,{id:"Total Harvested Rewards"})}),Object(q.jsx)(ze,{hideIcon:!0,placement:"right",content:Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"14px",children:[Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(s)}),Object(q.jsx)(ke.a,{size:16})]}),dropdownContent:Object.values(t).length?Object.values(t).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:e.token}),Object(q.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address)})):""})]}),Object(q.jsx)(Ie.b,{}),Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",marginTop:"4px",children:[Object(q.jsx)(h.d,{color:o.subText,fontSize:12,children:Object(q.jsx)(l.b,{id:"Claimed Rewards"})}),Object(q.jsx)(ze,{hideIcon:!0,placement:"right",content:Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"14px",children:[Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(a)}),Object(q.jsx)(ke.a,{size:16})]}),dropdownContent:Object.values(t).length?Object.values(t).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:e.token}),Object(q.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.vestedAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address)})):""})]})]})]})},Ge=function(e){var t=e.rewardLockerAddress,n=e.schedules,r=e.rewardLockerVersion,i=Object(fe.a)(),o=Object(me.c)(),c=Math.round(Date.now()/1e3),s=Object(se.b)(),a=s.account,l=s.chainId,u=xe(t).vestMultipleTokensAtIndices,b=Object(ae.c)().mixpanelHandler;n||(n=[]);var p={};n.forEach((function(e){var t=e[4].isNative?ce.ub:e[4].address;p[t]||(p[t]=e[4])}));var x=Object.values(p),m=Object(me.s)(x),h=x.reduce((function(e,t,n){var r=t.isNative?ce.ub:t.address;return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},r,m[n]))}),{}),f=n.reduce((function(e,t){if(!o)return e;var n=t[4].isNative?ce.ub:t[4].address;e[n]||(e[n]={vestableIndexes:[],vestableAmount:ee.a.from(0),totalAmount:ee.a.from(0),unlockedAmount:ee.a.from(0),vestedAmount:ee.a.from(0),token:t[4],tokenPrice:h[n]}),e[n].totalAmount=e[n].totalAmount.add(ee.a.from(t[2])),e[n].vestedAmount=e[n].vestedAmount.add(ee.a.from(t[3]));var i=t[2].sub(t[3]).isZero(),s=(r===he.c.V1?t[1].lt(o):t[1].lt(c))?t[2]:r===he.c.V1?t[2].mul(ee.a.from(o).sub(t[0])).div(t[1].sub(t[0])):t[2].mul(ee.a.from(c).sub(t[0])).div(t[1].sub(t[0])),a=s.sub(ee.a.from(t[3]));return i||e[n].vestableIndexes.push(t[5]),e[n].vestableAmount=e[n].vestableAmount.add(a.isNegative()?ee.a.from(0):a),e[n].unlockedAmount=e[n].unlockedAmount.add(s),e}),{}),O=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){var t,n,r;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&a){e.next=2;break}return e.abrupt("return");case 2:return i(Object(Oe.d)(!0)),i(Object(Oe.a)(!0)),i(Object(Oe.e)("")),e.prev=5,t=Object.values(f).filter((function(e){return e.vestableIndexes.length>0})).map((function(e){return e.token.address})),n=Object.keys(f).reduce((function(e,t){return f[t].vestableIndexes.length>0&&e.push(f[t].vestableIndexes),e}),[]),e.next=10,u(t,n);case 10:(r=e.sent)&&b(ae.a.ALL_REWARDS_CLAIMED,{reward_tokens_and_amounts:Object.assign.apply(Object,[{}].concat(Object(ie.a)(Object.keys(f).map((function(e){return Object($.a)({},e,Object(ge.a)(f[e].vestableAmount,f[e].token.decimals))})))))}),i(Object(Oe.e)(r)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0),i(Object(Oe.f)(e.t0));case 19:i(Object(Oe.a)(!1));case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=Object(se.b)().library,n=Object(j.useState)(),r=Object(de.a)(n,2),i=r[0],o=r[1];return Object(j.useEffect)((function(){function n(){return(n=Object(oe.a)(Object(re.a)().mark((function n(){var r;return Object(re.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,null===t||void 0===t?void 0:t.getBlock(e);case 3:(r=n.sent)&&o(r.timestamp);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}i||function(){n.apply(this,arguments)}()}),[e,t,i]),i}(n.reduce((function(e,t){return t[6]===he.c.V1&&e&&e<t[1].toNumber()?t[1].toNumber():e}),o)),y=n.reduce((function(e,t){return t[6]===he.c.V2&&e&&e<t[1].toNumber()?t[1].toNumber():e}),g||0);return Object(q.jsx)(Ue,{info:f,endTime:y,remainTime:y-c,onClaimAll:O})},Ve=T.default.div.withConfig({displayName:"styleds__ScheduleGrid",componentId:"sc-69lx8w-0"})(["display:grid;gap:24px;grid-template-columns:1fr 1fr 1fr;margin-top:16px;"," ",""],(function(e){return e.theme.mediaWidth.upToMedium(qe||(qe=Object(S.a)(["\n    grid-template-columns: 1fr 1fr;\n  "])))}),(function(e){return e.theme.mediaWidth.upToSmall(He||(He=Object(S.a)(["\n    grid-template-columns: 1fr;\n  "])))})),Ye=n("./src/state/vesting/hooks.ts"),Ze=n("./src/utils/dmm.ts"),Qe=n("./src/components/TransactionConfirmationModal/index.tsx");function Ke(){var e=Object(p.d)((function(e){return e.vesting.showConfirm})),t=Object(p.d)((function(e){return e.vesting.attemptingTxn})),n=Object(p.d)((function(e){return e.vesting.txHash})),r=Object(p.d)((function(e){return e.vesting.error})),i=Object(fe.a)(),o=Object(j.useCallback)((function(){i(Object(Oe.d)(!1)),i(Object(Oe.a)(!1)),i(Object(Oe.e)("")),i(Object(Oe.f)(null))}),[i]),c=Object(j.useCallback)((function(){return r?Object(q.jsx)(Qe.b,{onDismiss:o,message:r}):null}),[o,r]);return Object(q.jsx)(Qe.c,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:c,pendingText:""})}var Je=n("./node_modules/prop-types/index.js"),Xe=n.n(Je);function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function et(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tt=Object(j.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,c=et(e,["color","size"]);return b.a.createElement("svg",$e({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),b.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}))}));tt.propTypes={color:Xe.a.string,size:Xe.a.oneOfType([Xe.a.string,Xe.a.number])},tt.displayName="Lock";var nt=tt;function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}function it(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ot=Object(j.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,c=it(e,["color","size"]);return b.a.createElement("svg",rt({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),b.a.createElement("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}))}));ot.propTypes={color:Xe.a.string,size:Xe.a.oneOfType([Xe.a.string,Xe.a.number])},ot.displayName="Unlock";var ct,st,at=ot,dt=n("./node_modules/react-feather/dist/icons/dollar-sign.js"),lt=function(e){var t=e.width,n=e.height,r=e.color;return Object(q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||24,height:n||24,viewBox:"0 0 24 24",children:[Object(q.jsx)("path",{d:"M19.5 11.9702C20.43 11.9702 21.28 12.2502 22 12.7302V7.97023C22 6.87023 21.1 5.97023 20 5.97023H13.71L12.65 4.91023L13.71 3.85023C13.91 3.65023 13.91 3.34023 13.71 3.14023C13.51 2.94023 13.2 2.94023 13 3.14023L10.17 5.97023C9.97002 6.17023 9.97002 6.48023 10.17 6.68023C10.37 6.88023 10.68 6.88023 10.88 6.68023L11.94 5.62023L13 6.68023V8.97023C13 10.0702 12.1 10.9702 11 10.9702H10.46C11.41 12.0302 12 13.4302 12 14.9702C12 15.3102 11.96 15.6402 11.91 15.9702H15.05C15.3 13.7302 17.19 11.9702 19.5 11.9702Z",fill:r||"currentColor"}),Object(q.jsx)("path",{d:"M19.5 12.9707C17.57 12.9707 16 14.5407 16 16.4707C16 18.4007 17.57 19.9707 19.5 19.9707C21.43 19.9707 23 18.4007 23 16.4707C23 14.5407 21.43 12.9707 19.5 12.9707ZM19.5 17.9707C18.67 17.9707 18 17.3007 18 16.4707C18 15.6407 18.67 14.9707 19.5 14.9707C20.33 14.9707 21 15.6407 21 16.4707C21 17.3007 20.33 17.9707 19.5 17.9707Z",fill:r||"currentColor"}),Object(q.jsx)("path",{d:"M4 8.9707H9C9 7.8707 8.1 6.9707 7 6.9707H4C3.45 6.9707 3 7.4207 3 7.9707C3 8.5307 3.45 8.9707 4 8.9707Z",fill:r||"currentColor"}),Object(q.jsx)("path",{d:"M9.83 13.7907L9.65 13.3207L10.58 12.9707C10.12 11.9107 9.3 11.0607 8.27 10.5407L7.87 11.4307L7.41 11.2207L7.81 10.3207C7.26 10.1107 6.64 9.9707 6 9.9707C5.47 9.9707 4.96 10.0807 4.48 10.2307L4.82 11.1407L4.35 11.3207L4 10.4007C2.94 10.8607 2.09 11.6807 1.57 12.7107L2.46 13.1107L2.25 13.5707L1.35 13.1707C1.13 13.7207 1 14.3307 1 14.9707C1 15.5007 1.11 16.0107 1.26 16.4907L2.17 16.1507L2.35 16.6207L1.42 16.9707C1.88 18.0307 2.7 18.8807 3.73 19.4007L4.13 18.5107L4.59 18.7207L4.19 19.6207C4.76 19.8407 5.37 19.9707 6.01 19.9707C6.54 19.9707 7.05 19.8607 7.53 19.7107L7.18 18.8007L7.65 18.6207L8 19.5507C9.06 19.0907 9.91 18.2707 10.43 17.2407L9.54 16.8407L9.75 16.3807L10.65 16.7807C10.87 16.2107 11 15.6007 11 14.9607C11 14.4307 10.89 13.9207 10.74 13.4407L9.83 13.7907ZM7.15 17.7507C5.62 18.3807 3.86 17.6607 3.23 16.1307C2.6 14.6007 3.32 12.8407 4.85 12.2107C6.38 11.5807 8.14 12.3007 8.77 13.8307C9.41 15.3607 8.68 17.1107 7.15 17.7507Z",fill:r||"currentColor"})]})},ut=n("./src/components/Tooltip/index.tsx"),jt=T.default.div.withConfig({displayName:"VestingSummary__SummaryWrapper",componentId:"sc-1sioq9h-0"})(["display:grid;gap:24px;grid-template-columns:1fr 1fr 1fr 1fr;margin-top:32px;"," ",""],(function(e){return e.theme.mediaWidth.upToMedium(ct||(ct=Object(S.a)(["\n    grid-template-columns: 1fr 1fr;\n  "])))}),(function(e){return e.theme.mediaWidth.upToExtraSmall(st||(st=Object(S.a)(["\n    grid-template-columns: 1fr;\n  "])))})),bt=T.default.div.withConfig({displayName:"VestingSummary__SummaryItem",componentId:"sc-1sioq9h-1"})(["border-radius:20px;background:",";padding:20px 20px 24px;"],(function(e){return e.theme.background})),pt=T.default.div.withConfig({displayName:"VestingSummary__SummaryItemTitle",componentId:"sc-1sioq9h-2"})(["border-bottom:1px dashed ",";font-size:14px;line-height:20px;font-weight:500;"],(function(e){return e.theme.border}));var xt,mt,ht,ft=function(e){var t=e.loading,n=e.totalHarvested,r=e.locked,i=e.unlocked,o=e.claimed,c=Object(U.a)();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{fontWeight:500,fontSize:"1rem",children:Object(q.jsx)(l.b,{id:"Summary"})}),Object(q.jsxs)(jt,{children:[Object(q.jsxs)(bt,{children:[Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsx)(ut.a,{text:ye.a._("The total amount of rewards you have harvested from the farms. Harvested rewards are locked initially and vested linearly over a short period."),children:Object(q.jsx)(pt,{children:Object(q.jsx)(l.b,{id:"Total Harvested Rewards"})})}),Object(q.jsx)(lt,{color:c.subText})]}),Object(q.jsxs)(h.b,{marginTop:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(h.d,{fontWeight:500,fontSize:24,children:t?Object(q.jsx)(O.a,{}):Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(n.value)})}),Object(q.jsx)(ze,{placement:"right",hideIcon:!0,content:Object(q.jsxs)(h.b,{alignItems:"center",color:c.subText,fontSize:"14px",children:[Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"Details"})}),Object(q.jsx)(ke.a,{size:16})]}),dropdownContent:Object.values(n.amountByAddress).length?Object.values(n.amountByAddress).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:e.currency}),Object(q.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)})):""})]})]}),Object(q.jsxs)(bt,{children:[Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsx)(ut.a,{text:ye.a._("The amount of rewards that are locked as they are currently vesting"),children:Object(q.jsx)(pt,{children:Object(q.jsx)(l.b,{id:"Locked Rewards"})})}),Object(q.jsx)(nt,{size:20,color:c.subText})]}),Object(q.jsxs)(h.b,{marginTop:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(h.d,{fontWeight:500,fontSize:24,children:t?Object(q.jsx)(O.a,{}):Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(r.value)})}),Object(q.jsx)(ze,{hideIcon:!0,placement:"right",content:Object(q.jsxs)(h.b,{alignItems:"center",color:c.subText,fontSize:"14px",children:[Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"Details"})}),Object(q.jsx)(ke.a,{size:16})]}),dropdownContent:Object.values(r.amountByAddress).length?Object.values(r.amountByAddress).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:e.currency}),Object(q.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)})):""})]})]}),Object(q.jsxs)(bt,{children:[Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsx)(ut.a,{text:ye.a._("The amount of rewards that are unlocked and can be claimed instantly as their vesting is over"),children:Object(q.jsx)(pt,{children:Object(q.jsx)(l.b,{id:"Unlocked Rewards"})})}),Object(q.jsx)(at,{size:20,color:c.subText})]}),Object(q.jsxs)(h.b,{marginTop:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(h.d,{fontWeight:500,fontSize:24,flex:1,overflow:"hidden",children:t?Object(q.jsx)(O.a,{}):Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(i.value)})}),Object(q.jsx)(ze,{hideIcon:!0,placement:"right",content:Object(q.jsxs)(h.b,{alignItems:"center",color:c.subText,fontSize:"14px",children:[Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"Details"})}),Object(q.jsx)(ke.a,{size:16})]}),dropdownContent:Object.values(i.amountByAddress).length?Object.values(i.amountByAddress).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:e.currency}),Object(q.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)})):""})]})]}),Object(q.jsxs)(bt,{children:[Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsx)(ut.a,{text:ye.a._("The amount of rewards you have already claimed"),children:Object(q.jsx)(pt,{children:Object(q.jsx)(l.b,{id:"Claimed Rewards"})})}),Object(q.jsx)(dt.a,{size:20,color:c.subText})]}),Object(q.jsxs)(h.b,{marginTop:"24px",alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(h.d,{fontWeight:500,fontSize:24,children:t?Object(q.jsx)(O.a,{}):Object(q.jsx)(Le.a,{maxCharacters:12,text:Object(Ne.a)(o.value)})}),Object(q.jsx)(ze,{hideIcon:!0,placement:"right",content:Object(q.jsxs)(h.b,{alignItems:"center",color:c.subText,fontSize:"14px",children:[Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"Details"})}),Object(q.jsx)(ke.a,{size:16})]}),dropdownContent:Object.values(o.amountByAddress).length?Object.values(o.amountByAddress).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",paddingY:"4px",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:e.currency}),Object(q.jsxs)(h.d,{fontSize:"12px",marginLeft:"4px",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)})):""})]})]})]})]})},Ot=function(e){var t=e.loading,n=Object(Ye.c)().schedulesByRewardLocker,r=Object(Ye.b)(),i=Object(U.a)(),o=Object(me.c)(),c=Math.round(Date.now()/1e3),s=Object.values(n).flat().reduce((function(e,t){if(!o)return e;var n=t[4].symbol;e[n]||(e[n]={vestableIndexes:[],vestableAmount:ee.a.from(0),fullyIndexes:[],fullyAmount:ee.a.from(0),totalAmount:ee.a.from(0),unlockedAmount:ee.a.from(0),token:t[4]}),e[n].totalAmount=e[n].totalAmount.add(ee.a.from(t[2]));var r=ee.a.from(t[2]).sub(ee.a.from(t[3])).isZero(),i=t[6],s=(i===he.c.V1?t[1].lt(o):t[1].lt(c))?t[2]:i===he.c.V1?t[2].mul(ee.a.from(o).sub(t[0])).div(t[1].sub(t[0])):t[2].mul(ee.a.from(c).sub(t[0])).div(t[1].sub(t[0])),a=s.sub(ee.a.from(t[3]));return r||e[n].vestableIndexes.push(t[5]),e[n].vestableAmount=e[n].vestableAmount.add(a.isNegative()?ee.a.from(0):a),!r&&o&&ee.a.from(o).gt(t[1])&&(e[n].fullyIndexes.push(t[5]),e[n].fullyAmount=e[n].fullyAmount.add(ee.a.from(t[2]))),e[n].unlockedAmount=e[n].unlockedAmount.add(s),e}),{}),a={value:Object(Ze.m)(Object.keys(s).map((function(e){return{token:s[e].token,amount:s[e].totalAmount}}))),amountByAddress:Object.values(s).reduce((function(e,t){var n=t.token.isNative?t.token.symbol:t.token.address;return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},n,te.CurrencyAmount.fromRawAmount(t.token,t.totalAmount.toString())))}),{})},u={value:Object(Ze.m)(Object.keys(s).map((function(e){return{token:s[e].token,amount:s[e].totalAmount.sub(s[e].unlockedAmount)}}))),amountByAddress:Object.values(s).reduce((function(e,t){var n=t.token.isNative?t.token.symbol:t.token.address;return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},n,te.CurrencyAmount.fromRawAmount(t.token,t.totalAmount.sub(t.unlockedAmount).toString())))}),{})},j={value:Object(Ze.m)(Object.keys(s).map((function(e){return{token:s[e].token,amount:s[e].unlockedAmount.sub(s[e].vestableAmount)}}))),amountByAddress:Object.values(s).reduce((function(e,t){var n=t.token.isNative?t.token.symbol:t.token.address;return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},n,te.CurrencyAmount.fromRawAmount(t.token,t.unlockedAmount.sub(t.vestableAmount).toString())))}),{})},b={value:Object(Ze.m)(Object.keys(s).map((function(e){return{token:s[e].token,amount:s[e].vestableAmount}}))),amountByAddress:Object.values(s).reduce((function(e,t){var n=t.token.isNative?t.token.symbol:t.token.address;return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},n,te.CurrencyAmount.fromRawAmount(t.token,t.vestableAmount.toString())))}),{})},p=Object.keys(r).every((function(e){var t;return!(null!==(t=n[e])&&void 0!==t&&t.length)}));return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ke,{}),Object(q.jsx)(ft,{loading:t,totalHarvested:a,locked:u,unlocked:b,claimed:j}),Object(q.jsx)(h.d,{fontSize:16,fontWeight:"500",marginTop:"24px",children:Object(q.jsx)(l.b,{id:"Vesting Schedules"})}),p?t?Object(q.jsx)(ne.a,{}):Object(q.jsx)(h.d,{textAlign:"center",color:i.subText,marginTop:"24px",children:Object(q.jsx)(l.b,{id:"No vesting schedule!"})}):Object(q.jsx)(Ve,{children:Object.keys(r).filter((function(e){var t;return!(null===(t=n[e])||void 0===t||!t.length)})).map((function(e,t){return Object(q.jsx)(Ge,{rewardLockerAddress:e,schedules:n[e],rewardLockerVersion:r[e]},e)}))})]})},gt=function(e){var t=e.schedules,n=t.reduce((function(e,t){return e<t.endTime?t.endTime:e}),0),r=Math.floor(+new Date/1e3),i=n-r,o=Object(ae.c)().mixpanelHandler,c=t.reduce((function(e,t,n){var i=t.token.isNative?ce.ub:t.token.address;e[i]||(e[i]={vestableIndexes:[],vestableAmount:ee.a.from(0),totalAmount:ee.a.from(0),unlockedAmount:ee.a.from(0),vestedAmount:ee.a.from(0),token:t.token,tokenPrice:t.tokenPrice}),e[i].totalAmount=e[i].totalAmount.add(ee.a.from(t.quantity)),e[i].vestedAmount=e[i].vestedAmount.add(ee.a.from(t.vestedQuantity));var o=t.quantity.sub(t.vestedQuantity).isZero(),c=r>t.endTime,s=ee.a.from(t.endTime-t.startTime),a=c?t.quantity:t.quantity.mul(ee.a.from(r).sub(ee.a.from(t.startTime))).div(s);e[i].unlockedAmount=e[i].unlockedAmount.add(a);var d=a.sub(ee.a.from(t.vestedQuantity));return e[i].vestableAmount=e[i].vestableAmount.add(d.isNegative()?ee.a.from(0):d),o||e[i].vestableIndexes.push(t.index),e}),{}),s=Object(be.e)(),a=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){var n,r,i,a,d;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t[0].contract){e.next=3;break}return e.abrupt("return");case 3:return r=Object.keys(c),i=r.map((function(e){return c[e].vestableIndexes})),r=r.filter((function(e,t){return!!i[t].length})),i=i.filter((function(e){return!!e.length})),e.next=9,n.estimateGas.vestScheduleForMultipleTokensAtIndices(r,i);case 9:return a=e.sent,e.next=12,n.vestScheduleForMultipleTokensAtIndices(r,i,{gasLimit:Object(pe.b)(a)});case 12:(d=e.sent)&&(s(d,{type:"Claim",summary:"all rewards"}),o(ae.a.ELASTIC_ALL_REWARD_CLAIMED,{reward_tokens_and_qty:Object.assign.apply(Object,[{}].concat(Object(ie.a)(Object.keys(c).map((function(e){return Object($.a)({},e,Object(ge.a)(c[e].vestableAmount,c[e].token.decimals))})))))}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(q.jsx)(Ue,{info:c,endTime:n,remainTime:i,onClaimAll:a})},yt=function(){var e=Object(U.a)(),t=Object(Ye.a)(),n=t.loading,r=t.schedulesByRewardLocker,i={value:0,amountByAddress:{}},o={value:0,amountByAddress:{}},c={value:0,amountByAddress:{}},s={value:0,amountByAddress:{}},a=Math.floor(+new Date/1e3);Object.values(r).forEach((function(e){e.forEach((function(e){var t=e.token.isNative?e.token.symbol:e.token.address,n=te.CurrencyAmount.fromRawAmount(e.token,e.quantity.toString()),r=e.tokenPrice*parseFloat(n.toExact());i.value+=r,i.amountByAddress[t]?i.amountByAddress[t]=i.amountByAddress[t].add(n):i.amountByAddress[t]=n;var d=te.CurrencyAmount.fromRawAmount(e.token,e.vestedQuantity.toString()),l=e.tokenPrice*parseFloat(d.toExact());s.value+=l,s.amountByAddress[t]?s.amountByAddress[t]=s.amountByAddress[t].add(d):s.amountByAddress[t]=d;var u=a>e.endTime,j=ee.a.from(e.endTime-e.startTime),b=u?e.quantity:e.quantity.mul(ee.a.from(a).sub(ee.a.from(e.startTime)).div(j)),p=te.CurrencyAmount.fromRawAmount(e.token,b.sub(ee.a.from(e.vestedQuantity)).toString()),x=e.tokenPrice*parseFloat(p.toExact());c.value+=x,c.amountByAddress[t]?c.amountByAddress[t]=c.amountByAddress[t].add(p):c.amountByAddress[t]=p;var m=te.CurrencyAmount.fromRawAmount(e.token,e.quantity.sub(b).toString());o.value+=e.tokenPrice*parseFloat(m.toExact()),o.amountByAddress[t]?o.amountByAddress[t]=o.amountByAddress[t].add(m):o.amountByAddress[t]=m}))}));var d=Object.keys(r).every((function(e){var t;return!(null!==(t=r[e])&&void 0!==t&&t.length)}));return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(ft,{loading:n,totalHarvested:i,locked:o,unlocked:c,claimed:s}),Object(q.jsx)(h.d,{fontSize:16,fontWeight:"500",marginTop:"24px",children:Object(q.jsx)(l.b,{id:"Vesting Schedules"})}),d?n?Object(q.jsx)(ne.a,{}):Object(q.jsx)(h.d,{textAlign:"center",color:e.subText,marginTop:"24px",children:Object(q.jsx)(l.b,{id:"No vesting schedule!"})}):Object(q.jsx)(Ve,{children:Object.keys(r).map((function(e){return r[e].length?Object(q.jsx)(gt,{schedules:r[e]},e):null}))})]})},vt=n("./src/components/Icons/Search.tsx"),wt=n("./src/components/InfoHelper/index.tsx"),kt=n("./src/components/Toggle/index.tsx"),Ct=n("./src/components/ShareModal/index.tsx"),It=function(e){var t=Object(be.e)(),n=Object(je.h)(e),r=Object(j.useCallback)(Object(oe.a)(Object(re.a)().mark((function e(){var t;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.poolLength();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),i=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(t){var r;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getPoolInfo(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[n]),o=Object(j.useCallback)(Object(oe.a)(Object(re.a)().mark((function e(){var t;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getRewardTokens();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),c=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(r,i,o){var c,s,a,d=arguments;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=d.length>3&&void 0!==d[3]&&d[3],n){e.next=3;break}throw new Error(ue.a);case 3:return e.next=5,n.estimateGas.deposit(r,i,c);case 5:return s=e.sent,e.next=8,n.deposit(r,i,c,{gasLimit:Object(pe.b)(s)});case 8:return a=e.sent,t(a,{type:"Stake",summary:"".concat(Object(ge.g)(i)," ").concat(o," Tokens")}),e.abrupt("return",a.hash);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),s=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(r,i,o){var c,s;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(ue.a);case 2:return e.next=4,n.estimateGas.withdraw(r,i);case 4:return c=e.sent,e.next=7,n.withdraw(r,i,{gasLimit:Object(pe.b)(c)});case 7:return s=e.sent,t(s,{type:"Unstake",summary:"".concat(Object(ge.g)(i)," ").concat(o," Tokens")}),e.abrupt("return",s.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),a=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(r,i){var o,c;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(ue.a);case 2:return e.next=4,n.estimateGas.harvest(r);case 4:return o=e.sent,e.next=7,n.harvest(r,{gasLimit:Object(pe.b)(o)});case 7:return c=e.sent,t(c,{type:"Harvest"}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n]),d=Object(j.useCallback)(function(){var e=Object(oe.a)(Object(re.a)().mark((function e(r){var i,o;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(ue.a);case 2:return e.next=4,n.estimateGas.harvestMultiplePools(r);case 4:return i=e.sent,e.next=7,n.harvestMultiplePools(r,{gasLimit:Object(pe.b)(i)});case 7:return o=e.sent,t(o,{type:"Harvest"}),e.abrupt("return",o.hash);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,n]);return{masterChefContract:n,getPoolLength:r,getPoolInfo:i,getRewardTokens:o,deposit:c,withdraw:s,harvest:a,harvestMultiplePools:d}},St=n("./src/state/application/actions.ts"),Tt=n("./src/state/farms/actions.ts"),At=n("./node_modules/react-feather/dist/icons/x.js"),_t=function(e){var t=e.width,n=e.height,r=e.color;return Object(q.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:[Object(q.jsx)("path",{d:"M10.5912 3.05122L8.23457 5.40789C8.10441 5.53804 8.10441 5.74907 8.23457 5.87922L10.1199 7.76456C10.2501 7.89471 10.4611 7.89471 10.5912 7.76456L12.9479 5.40789C13.0781 5.27773 13.0781 5.06671 12.9479 4.93655L11.0626 3.05122C10.9324 2.92106 10.7214 2.92106 10.5912 3.05122Z",fill:r||"currentColor"}),Object(q.jsx)("path",{d:"M9.85967 2.84091C7.5575 0.834737 5.7628 0.607004 5.68003 0.597737C5.61138 0.590119 5.54206 0.604016 5.48165 0.637505C5.42124 0.670995 5.37273 0.722424 5.34282 0.784683C5.3129 0.846941 5.30307 0.916954 5.31468 0.985044C5.32628 1.05313 5.35875 1.11594 5.4076 1.16477L8.47173 4.22891L9.85967 2.84091Z",fill:r||"currentColor"}),Object(q.jsx)("path",{d:"M15.4022 10.3203C15.3929 10.2375 15.1652 8.44301 13.1594 6.14111L11.7715 7.52908L14.8351 10.5927C14.884 10.6416 14.9468 10.6741 15.0149 10.6857C15.083 10.6973 15.153 10.6874 15.2152 10.6575C15.2775 10.6276 15.3289 10.5791 15.3624 10.5187C15.3959 10.4583 15.4098 10.389 15.4022 10.3203Z",fill:r||"currentColor"}),Object(q.jsx)("path",{d:"M8.00024 6.58594L0.693332 13.8927C0.630821 13.9552 0.595703 14.04 0.595703 14.1284C0.595703 14.2168 0.630821 14.3016 0.693332 14.3641L1.63627 15.3068C1.69878 15.3693 1.78356 15.4044 1.87197 15.4044C1.96037 15.4044 2.04515 15.3693 2.10767 15.3068L9.41444 8.00014L8.00024 6.58594Z",fill:r||"currentColor"})]})},zt=n("./src/components/Modal/index.tsx"),Lt=n("./src/hooks/useOnClickOutside.tsx"),Nt=T.default.div.withConfig({displayName:"styled__ModalContentWrapper",componentId:"sc-1pav05p-0"})(["display:flex;flex-direction:column;width:100%;padding:24px 20px;background-color:",";"],(function(e){return e.theme.background})),Ft=Object(T.default)(h.d).withConfig({displayName:"styled__Title",componentId:"sc-1pav05p-1"})(["font-size:20px;line-height:32px;font-weight:500;border-bottom:0.5px dashed ",";"],(function(e){var t=e.theme;return e.border?t.subText:"transparent"})),Et=T.default.div.withConfig({displayName:"styled__TableHeader",componentId:"sc-1pav05p-2"})(["display:grid;grid-template-columns:18px 90px 1.5fr repeat(3,1fr);border-top-left-radius:8px;border-top-right-radius:8px;background:",";gap:16px;font-size:12px;text-transform:uppercase;margin-top:16px;padding:16px;font-weight:500;color:",";align-items:center;",""],(function(e){return e.theme.tableHeader}),(function(e){return e.theme.subText}),(function(e){return e.theme.mediaWidth.upToSmall(xt||(xt=Object(S.a)(["\n    grid-template-columns: 18px 1fr 1fr;\n   "])))})),Dt=Object(T.default)(Et).withConfig({displayName:"styled__TableRow",componentId:"sc-1pav05p-3"})(["background:",";border-radius:0;text-transform:none;margin-top:0;font-weight:400;color:",";border-bottom:1px solid ",";"],(function(e){return e.theme.background}),(function(e){return e.theme.text}),(function(e){return e.theme.border})),Mt=T.default.div.withConfig({displayName:"styled__Select",componentId:"sc-1pav05p-4"})(["cursor:pointer;width:180px;border-radius:4px;background:",";display:flex;justify-content:space-between;align-items:center;position:relative;font-size:12px;color:",";padding:12px;",""],(function(e){return e.theme.buttonBlack}),(function(e){return e.theme.subText}),(function(e){return e.theme.mediaWidth.upToSmall(mt||(mt=Object(S.a)(["\n    width: 100%;\n    margin-top: 16px;\n  "])))})),Pt=T.default.div.withConfig({displayName:"styled__SelectMenu",componentId:"sc-1pav05p-5"})(["position:absolute;top:40px;left:0;width:180px;border-radius:8px;filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));z-index:10;background:",";",""],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToMedium(ht||(ht=Object(S.a)(["\n    width: 100%;\n  "])))})),Rt=T.default.div.withConfig({displayName:"styled__SelectOption",componentId:"sc-1pav05p-6"})(["padding:12px;cursor:pointer;font-size:12px;color:",";"],(function(e){return e.theme.subText})),Bt=T.default.div.withConfig({displayName:"styled__DropdownIcon",componentId:"sc-1pav05p-7"})(["transform:rotate(",");height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid ",";transition:transform 300ms;transform:rotate(",");"],(function(e){return e.rotate?"-180deg":"0"}),(function(e){return e.theme.text}),(function(e){return e.rotate?"-180deg":"0"})),Wt=function(e){var t=e.totalRewards,n=e.onHarvestAll,r=Object(U.a)(),i=Object(j.useRef)(),o=Object(j.useState)(!1),c=Object(de.a)(o,2),s=c[0],a=c[1],d=Object(Ze.m)(t),u=Object(se.b)().chainId,b=t.some((function(e){return null===e||void 0===e?void 0:e.amount.gt(ee.a.from("0"))}));Object(Lt.a)(i,s?function(){b&&a((function(e){return!e}))}:void 0);var p=Object(m.a)("(max-width: 768px)"),x=Object(j.useState)(!1),f=Object(de.a)(x,2),O=f[0],g=f[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(zt.b,{isOpen:O,onDismiss:function(){return g(!1)},children:Object(q.jsxs)(Nt,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(q.jsx)(h.d,{fontSize:"20px",fontWeight:"500",children:"Harvest All"}),Object(q.jsx)(Z.c,{onClick:function(){return g(!1)},width:"36px",height:"36px",padding:"0",children:Object(q.jsx)(At.a,{color:r.text})})]}),Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(q.jsx)(h.d,{color:r.subText,fontSize:"0.75rem",children:Object(q.jsx)(l.b,{id:"My Rewards"})}),Object(q.jsx)(h.d,{fontSize:"0.75rem",fontWeight:"500",children:Object(pe.h)(d.toString(),!0)})]}),Object(q.jsx)(w.x,{children:t.map((function(e,n){return Object(q.jsxs)(j.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[u&&e.token.wrapped.address&&Object(q.jsx)(Ce.a,{currency:e.token,size:"16px"}),Object(ge.g)(e.amount,e.token.decimals)]}),n!==t.length-1&&Object(q.jsx)(h.d,{color:r.subText,children:"|"})]},e.token.wrapped.address)}))}),Object(q.jsx)(Z.h,{margin:"8px 0 0",onClick:function(){n&&n(),g(!1)},children:"Harvest"})]})}),Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"24px"},justifyContent:p?"space-between":"flex-start",width:p?"100%":void 0,children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(h.d,{fontSize:"12px",color:r.subText,width:"max-content",children:Object(q.jsx)(l.b,{id:"My Total Rewards"})}),Object(q.jsx)(ze,{padding:"4px 0",content:Object(Ne.a)(d),dropdownContent:t.some((function(e){var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?t.map((function(e,t){return e&&e.amount&&!e.amount.lte(0)?Object(q.jsxs)(h.b,{alignItems:"center",marginTop:0===t?0:"8px",children:[Object(q.jsx)(Ce.a,{currency:e.token,size:"16px"}),Object(q.jsxs)(h.d,{marginLeft:"4px",fontSize:"12px",children:[Object(ge.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null})):""})]}),Object(q.jsxs)(Z.h,{width:"fit-content",onClick:function(){return g(!0)},disabled:!b,padding:"10px 12px",height:"fit-content",children:[Object(q.jsx)(_t,{}),Object(q.jsx)(h.d,{marginLeft:"4px",children:Object(q.jsx)(l.b,{id:"Harvest All"})})]})]})]})},qt=n("./node_modules/@ethersproject/constants/lib.esm/bignumbers.js"),Ht=n("./node_modules/ethers/lib.esm/index.js"),Ut=n("./node_modules/jsbi/dist/jsbi-umd.js"),Gt=n.n(Ut),Vt=n("./node_modules/react-feather/dist/icons/clock.js"),Yt=n("./node_modules/react-feather/dist/icons/share-2.js"),Zt=n("./node_modules/react-feather/dist/icons/plus.js"),Qt=n("./node_modules/react-feather/dist/icons/minus.js"),Kt=n("./node_modules/react-router-dom/esm/react-router-dom.js"),Jt=n("./src/components/Copy/index.tsx"),Xt=n("./src/components/CurrencyInputPanel/index.tsx"),$t=n("./src/components/DoubleLogo/index.tsx"),en=n("./src/components/Icons/index.ts"),tn=n("./src/components/swap/styleds.tsx"),nn=n("./src/hooks/Tokens.ts"),rn=n("./src/hooks/useApproveCallback.ts"),on=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,r=Object(j.useState)({value:ee.a.from(0),decimals:18}),i=Object(de.a)(r,2),o=i[0],c=i[1],s=Object(se.b)(),a=s.account,d=Object(me.c)(),l=Object(je.h)(e),u=Object(j.useCallback)(Object(oe.a)(Object(re.a)().mark((function e(){var r,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(t,r){var i,o;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===l||void 0===l?void 0:l.getUserInfo(t,r);case 3:return i=e.sent,o=i.amount,e.abrupt("return",{value:ee.a.from(o),decimals:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{value:ee.a.from(0),decimals:n});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=3,r(t,a);case 3:i=e.sent,c(i);case 5:case"end":return e.stop()}}),e)}))),[a,n,l,t]);return Object(j.useEffect)((function(){a&&l&&u()}),[a,c,d,u,l]),o},cn=n("./src/hooks/useTokenBalance.ts"),sn=n("./src/utils/currencyId.ts"),an=n("./src/components/YieldPools/FarmingPoolAPRCell.tsx"),dn=function(e,t){var n=new te.Fraction(e.toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(t)));return n.equalTo(Gt.a.BigInt(0))?"0":n.toFixed(18).replace(/\.?0+$/,"")},ln=function(e){var t,n,r,i,o,c,s,a,d,u,p,x,f,O,g,y,v,k,C=e.farm,S=e.setSharedPoolAddress,T=Object(se.b)(),A=T.account,_=T.chainId,z=Object(me.w)(),L=Math.floor(Date.now()/1e3),N=Object(K.a)().type||"active",F=Object(m.a)("(min-width: 992px)"),E=Object(fe.a)(),D=Object(nn.c)(null===(t=C.token0)||void 0===t?void 0:t.id),M=Object(nn.c)(null===(n=C.token1)||void 0===n?void 0:n.id),P=Object(pe.A)(C.id),R=Object(cn.a)(P),B=R.value,W=R.decimals,H=ce.Z[C.fairLaunchAddress],V=null!==(r=C.userData)&&void 0!==r&&r.stakedBalance?ee.a.from(null===(i=C.userData)||void 0===i?void 0:i.stakedBalance):ee.a.from(0),Y=Object(Ze.l)([C]),Q=new te.Fraction(C.totalStake.toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(W))).divide(new te.Fraction(Ht.a.utils.parseUnits(C.totalSupply,W).toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(W)))),J=new te.Fraction(B.toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(W))).divide(new te.Fraction(Ht.a.utils.parseUnits(C.totalSupply,W).toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(W)))),X=parseFloat(J.toSignificant(6))*parseFloat(C.reserve0),ne=parseFloat(J.toSignificant(6))*parseFloat(C.reserve1),le=new te.Fraction(V.toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(W))).divide(new te.Fraction(Ht.a.utils.parseUnits(C.totalSupply,W).toString(),Gt.a.exponentiate(Gt.a.BigInt(10),Gt.a.BigInt(W)))),ue=parseFloat(le.toSignificant(6))*parseFloat(C.reserve0),je=parseFloat(le.toSignificant(6))*parseFloat(C.reserve1),be=parseFloat(J.toSignificant(6))*parseFloat(C.reserveUSD),xe=parseFloat(le.toSignificant(6))*parseFloat(C.reserveUSD),he=parseFloat(Q.toSignificant(6))*parseFloat(C.reserveUSD),Oe=Object(Ze.k)(C,he.toString()),ve=null!==C&&void 0!==C&&C.oneDayFeeUSD?null===C||void 0===C?void 0:C.oneDayFeeUSD:null===C||void 0===C?void 0:C.oneDayFeeUntracked,we=Object(Ze.d)(null===C||void 0===C?void 0:C.reserveUSD,ve),ke=Oe;we<ce.S&&(ke+=we);var Se,Te=C.amp/1e4,Ae="".concat(C.token0.symbol,"-").concat(C.token1.symbol," LP"),_e=Object(j.useState)(""),ze=Object(de.a)(_e,2),Le=ze[0],Ne=ze[1],Fe=Object(j.useState)(""),Ee=Object(de.a)(Fe,2),De=Ee[0],Me=Ee[1],Pe=Object(pe.A)(C.id),Re=Object(cn.a)(Pe),Be=on(C.fairLaunchAddress,C.pid),We=Object(Ze.m)(Y),qe=Object(ae.c)().mixpanelHandler,He=Object(j.useMemo)((function(){return te.TokenAmount.fromRawAmount(new te.Token(_||1,Pe,Re.decimals,Ae,""),qt.b.toString())}),[Re.decimals,_,Pe,Ae]),Ue=Object(rn.b)(He,_?C.fairLaunchAddress:void 0),Ge=Object(de.a)(Ue,2),Ve=Ge[0],Ye=Ge[1];try{Se=""===Le||0===parseFloat(Le)||Ht.a.utils.parseUnits(Le||"0",Re.decimals).gt(Re.value)}catch(xt){Se=!0}var Qe,Ke=Se;try{Qe=""===De||0===parseFloat(De)||Ht.a.utils.parseUnits(De||"0",Be.decimals).gt(Be.value)}catch(xt){Qe=!0}var Je=Qe,Xe=!Y.some((function(e){return null===e||void 0===e?void 0:e.amount.gt(ee.a.from("0"))})),$e=It(C.fairLaunchAddress),et=$e.deposit,tt=$e.withdraw,nt=$e.harvest,rt=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(t){var n;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&A){e.next=2;break}return e.abrupt("return");case 2:return E(Object(Tt.d)(!0)),E(Object(Tt.a)(!0)),E(Object(Tt.e)("")),e.prev=5,e.next=8,et(t,Ht.a.utils.parseUnits(Le,Re.decimals),Ae,!1);case 8:n=e.sent,E(Object(Tt.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),E(Object(Tt.f)(e.t0));case 16:E(Object(Tt.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(t){var n;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&A){e.next=2;break}return e.abrupt("return");case 2:return E(Object(Tt.d)(!0)),E(Object(Tt.a)(!0)),E(Object(Tt.e)("")),e.prev=5,e.next=8,tt(t,Ht.a.utils.parseUnits(De,Be.decimals),Ae);case 8:n=e.sent,E(Object(Tt.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),E(Object(Tt.f)(e.t0));case 16:E(Object(Tt.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(t){var n;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_&&A){e.next=2;break}return e.abrupt("return");case 2:return E(Object(Tt.d)(!0)),E(Object(Tt.a)(!0)),E(Object(Tt.e)("")),e.prev=5,e.next=8,nt(t,Ae);case 8:(n=e.sent)&&qe(ae.a.INDIVIDUAL_REWARD_HARVESTED,{reward_tokens_and_amounts:JSON.stringify(Y&&Object.assign.apply(Object,[{}].concat(Object(ie.a)(Y.map((function(e){var t;return(null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.symbol)&&Object($.a)({},e.token.symbol,Object(ge.g)(e.amount,e.token.decimals))}))))))}),E(Object(Tt.e)(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0),E(Object(Tt.f)(e.t0));case 17:E(Object(Tt.a)(!1));case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),ct=Object(U.a)(),st=+new Date/1e3,at=ce.nb[Object(pe.A)(C.id)],dt=at&&C.endTime-st<172800&&C.endTime<at,lt=Object(j.useState)(null),jt=Object(de.a)(lt,2),bt=jt[0],pt=jt[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(zt.b,{isOpen:!!bt,onDismiss:function(){return pt(null)},children:Object(q.jsxs)(Nt,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(q.jsxs)(h.b,{children:[Object(q.jsx)($t.a,{currency0:D,currency1:M,size:24}),Object(q.jsx)(h.d,{fontSize:"20px",fontWeight:"500",children:function(){switch(bt){case"stake":return Object(q.jsx)(l.b,{id:"Stake"});case"unstake":return Object(q.jsx)(l.b,{id:"Unstake"});default:return Object(q.jsx)(l.b,{id:"Harvest"})}}()})]}),Object(q.jsx)(Z.c,{onClick:function(){return pt(null)},width:"36px",height:"36px",padding:"0",children:Object(q.jsx)(At.a,{color:ct.text})})]}),"harvest"!==bt&&Object(q.jsx)(Ie.b,{}),Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(q.jsx)(h.d,{color:ct.subText,fontSize:"0.75rem",children:"harvest"===bt?Object(q.jsx)(l.b,{id:"My Rewards"}):Object(q.jsx)(l.b,{id:"Available Balance"})}),Object(q.jsx)(h.d,{fontSize:"0.75rem",fontWeight:"500",children:function(){switch(bt){case"stake":return Object(pe.h)(be.toString(),!0);case"unstake":return Object(pe.h)(xe.toString(),!0);default:return Object(pe.h)(We.toString(),!0)}}()})]}),Object(q.jsxs)(w.x,{children:["harvest"===bt&&Y.map((function(e,t){return Object(q.jsxs)(b.a.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[_&&e.token.wrapped.address&&Object(q.jsx)(Ce.a,{currency:e.token,size:"16px"}),Object(ge.g)(e.amount,e.token.decimals)]}),t!==Y.length-1&&Object(q.jsx)(h.d,{color:ct.subText,children:"|"})]},e.token.wrapped.address)})),bt&&["stake","unstake"].includes(bt)&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(q.jsx)(Ce.a,{currency:D,size:"16px"}),Object(q.jsx)(h.d,{textAlign:"right",fontSize:"0.75rem",color:ct.subText,children:Object(ge.f)("stake"===bt?X:ue)})]}),Object(q.jsx)(h.d,{color:ct.subText,children:"|"}),Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(q.jsx)(Ce.a,{currency:M,size:"16px"}),Object(q.jsx)(h.d,{textAlign:"right",fontSize:"0.75rem",color:ct.subText,children:Object(ge.f)("stake"===bt?ne:je)})]})]})]}),"harvest"!==bt&&Object(q.jsx)(Ie.b,{}),"harvest"===bt?Object(q.jsx)(Z.h,{margin:"8px 0 0",onClick:function(){ot(C.pid),pt(null)},children:"Harvest"}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{marginTop:"20px",children:[A?Ve===rn.a.UNKNOWN&&Object(q.jsx)(tn.c,{}):Object(q.jsx)(Z.f,{onClick:z,children:Object(q.jsx)(l.b,{id:"Connect Wallet"})}),(Ve===rn.a.NOT_APPROVED||Ve===rn.a.PENDING)&&Object(q.jsx)(Z.h,{color:"blue",disabled:Ve===rn.a.PENDING,onClick:Ye,padding:"12px",children:Ve===rn.a.PENDING?Object(q.jsx)(tn.c,{children:Object(q.jsx)(l.b,{id:"Approving"})}):Object(q.jsx)(l.b,{id:"Approve"})}),Ve===rn.a.APPROVED&&_&&Object(q.jsx)(q.Fragment,{children:"stake"===bt?Object(q.jsx)(Xt.g,{value:Le,onUserInput:function(e){Ne(e)},onMax:function(){Ne(dn(Re.value,Re.decimals))},onHalf:function(){Ne(dn(Re.value.div(2),Re.decimals))},showMaxButton:!0,currency:new te.Token(_,C.id,Re.decimals,"".concat(Ae),"".concat(Ae)),id:"stake-lp-input",disableCurrencySelect:!0,positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(q.jsx)(Z.h,{disabled:Ke,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:function(){return rt(C.pid)},children:Le&&Se?"Invalid Amount":"Stake"})}):Object(q.jsx)(Xt.g,{value:De,onUserInput:function(e){Me(e)},onMax:function(){Me(dn(Be.value,Be.decimals))},onHalf:function(){Me(dn(Be.value.div(2),Be.decimals))},showMaxButton:!0,currency:new te.Token(_,C.id,Re.decimals,"".concat(Ae),"".concat(Ae)),id:"unstake-lp-input",disableCurrencySelect:!0,customBalanceText:"".concat(dn(Be.value,Be.decimals)),positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(q.jsx)(Z.h,{disabled:Je,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:function(){return it(C.pid)},children:De&&Qe?"Invalid Amount":"Unstake"})})})]}),Object(q.jsxs)(h.b,{justifyContent:"space-between",sx:{gap:"8px"},alignItems:"center",marginTop:"20px",children:[Object(q.jsx)(I.c,{href:H?H.poolInfoLink:"".concat(ce.E[_],"/pool/").concat(C.id),children:Object(q.jsxs)(w.h,{children:[Object(q.jsx)(l.b,{id:"Get pool {0} info",values:{0:H?"(".concat(H.name,")"):""}})," \u2197"]})}),H?Object(q.jsx)(I.c,{href:H.getLPTokenLink,children:Object(q.jsx)(w.h,{children:Object(q.jsx)(l.b,{id:"Get {0}-{1} {2} LP \u2197",values:{0:null===(o=C.token0)||void 0===o?void 0:o.symbol,1:null===(c=C.token1)||void 0===c?void 0:c.symbol,2:H?"(".concat(H.name,")"):""}})})}):Object(q.jsx)(Kt.b,{to:"/add/".concat(Object(sn.b)(null===(s=C.token0)||void 0===s?void 0:s.id,_),"/").concat(Object(sn.b)(null===(a=C.token1)||void 0===a?void 0:a.id,_),"/").concat(C.id),style:{textDecoration:"none"},children:Object(q.jsx)(w.h,{style:{textAlign:"right"},children:Object(q.jsx)(l.b,{id:"Get {0}-{1} LP \u2197",values:{0:null===(d=C.token0)||void 0===d?void 0:d.symbol,1:null===(u=C.token1)||void 0===u?void 0:u.symbol}})})})]})]})]})}),F?Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(w.J,{children:[Object(q.jsx)(w.d,{"grid-area":"pools",children:Object(q.jsxs)("div",{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)($t.a,{currency0:D,currency1:M,size:16,margin:!0}),Object(q.jsxs)(Kt.b,{to:"/add/".concat(Object(sn.b)(null===(p=C.token0)||void 0===p?void 0:p.id,_),"/").concat(Object(sn.b)(null===(x=C.token1)||void 0===x?void 0:x.id,_),"/").concat(C.id),style:{textDecoration:"none"},children:[null===(f=C.token0)||void 0===f?void 0:f.symbol," - ",null===(O=C.token1)||void 0===O?void 0:O.symbol]}),(dt||C.startTime>L)&&Object(q.jsx)(ut.a,{text:dt?ye.a._("To be extended"):C.time,width:"fit-content",placement:"top",children:Object(q.jsx)(Vt.a,{size:14,style:{marginLeft:"6px"}})}),Object(q.jsx)(h.b,{onClick:function(){S(C.id)},sx:{marginLeft:"8px",cursor:"pointer"},role:"button",children:Object(q.jsx)(Yt.a,{size:"14px",color:ct.subText})})]}),Object(q.jsxs)(h.d,{marginLeft:"36px",marginTop:"4px",color:ct.subText,fontSize:12,children:["AMP = ",Te]})]})}),Object(q.jsx)(w.d,{"grid-area":"liq",children:Object(pe.h)(he.toString(),!0)}),Object(q.jsx)(w.d,{"grid-area":"apy",align:"right",style:{color:ct.apr},children:Object(q.jsxs)(h.b,{sx:{alignItems:"center",gap:"4px"},children:[ke.toFixed(2),"%",Object(q.jsx)(h.b,{sx:{width:"16px",justifyContent:"center"},children:0!==ke&&Object(q.jsx)(ut.a,{width:"fit-content",placement:"right",text:Object(q.jsx)(an.a,{farmAPR:Oe,poolAPR:we<ce.S?we:0}),children:Object(q.jsx)(en.x,{size:16,color:ct.apr})})})]})}),Object(q.jsx)(w.d,{"grid-area":"vesting_duration",align:"right",children:Object(G.a)(C.vestingDuration,!0)}),Object(q.jsx)(w.d,{"grid-area":"staked_balance",align:"right",children:Object(pe.h)(xe.toString(),!0)}),Object(q.jsx)(w.d,{"grid-area":"reward",align:"right",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:Y.map((function(e){return Object(q.jsx)("div",{style:{marginTop:"2px"},children:Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(ge.g)(e.amount,e.token.decimals),_&&e.token.wrapped.address&&Object(q.jsx)(Ce.a,{currency:e.token,size:"16px",style:{marginLeft:"3px"}})]})},e.token.wrapped.address)}))}),Object(q.jsxs)(h.b,{"grid-area":"action",justifyContent:"flex-end",sx:{gap:"4px"},children:[Object(q.jsx)(w.a,{disabled:"ended"===N,onClick:function(){pt("stake")},children:Object(q.jsx)(ut.a,{text:ye.a._("Stake"),placement:"top",width:"fit-content",children:Object(q.jsx)(Zt.a,{color:"ended"!==N?ct.primary:ct.subText,size:16})})}),Object(q.jsx)(w.a,{backgroundColor:ct.subText+"33",onClick:function(){pt("unstake")},children:Object(q.jsx)(ut.a,{text:ye.a._("Unstake"),placement:"top",width:"fit-content",children:Object(q.jsx)(Qt.a,{color:ct.subText,size:16})})}),Object(q.jsx)(w.a,{backgroundColor:ct.subText+"33",disabled:Xe,onClick:function(){pt("harvest")},children:Object(q.jsx)(ut.a,{text:ye.a._("Harvest"),placement:"top",width:"fit-content",children:Object(q.jsx)(_t,{color:ct.subText})})})]})]})}):Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(w.E,{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)($t.a,{currency0:D,currency1:M,size:20,margin:!0}),Object(q.jsx)(Kt.b,{to:"/add/".concat(Object(sn.b)(null===(g=C.token0)||void 0===g?void 0:g.id,_),"/").concat(Object(sn.b)(null===(y=C.token1)||void 0===y?void 0:y.id,_),"/").concat(C.id),children:Object(q.jsxs)(h.d,{as:"span",fontSize:16,fontWeight:500,children:[null===(v=C.token0)||void 0===v?void 0:v.symbol," - ",null===(k=C.token1)||void 0===k?void 0:k.symbol]})}),(dt||C.startTime>L)&&Object(q.jsx)(ut.a,{text:dt?ye.a._("To be extended"):C.time,width:"fit-content",placement:"top",children:Object(q.jsx)(Vt.a,{size:14,style:{marginLeft:"6px"}})})]}),Object(q.jsxs)(h.b,{marginTop:"8px",marginBottom:"16px",fontSize:12,color:ct.subText,children:["AMP = ",Te," | ",Object(pe.C)(C.id)," ",Object(q.jsx)(Jt.a,{toCopy:C.id})]}),Object(q.jsx)(Ie.b,{}),Object(q.jsxs)(h.b,{justifyContent:"space-between",fontSize:12,marginTop:"16px",children:[Object(q.jsx)(h.d,{color:ct.subText,children:Object(q.jsx)(l.b,{id:"Staked TVL"})}),Object(q.jsx)(h.d,{fontWeight:"500",children:Object(pe.h)(he.toString(),!0)})]}),Object(q.jsxs)(h.b,{justifyContent:"space-between",fontSize:12,marginTop:"12px",children:[Object(q.jsxs)(h.d,{color:ct.subText,children:[Object(q.jsx)(l.b,{id:"APR"}),Object(q.jsx)(wt.a,{text:"Once a farm has ended, you will continue to receive returns through LP Fees",size:12})]}),Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},color:ct.apr,fontWeight:"500",children:[Object(q.jsxs)(h.d,{as:"span",children:[(we+Oe).toFixed(2),"%"]}),Object(q.jsx)(ut.a,{width:"fit-content",placement:"top",text:Object(q.jsx)(an.a,{farmAPR:Oe,poolAPR:we}),children:Object(q.jsx)(en.x,{size:16,color:ct.apr})})]})]}),Object(q.jsxs)(h.b,{justifyContent:"space-between",fontSize:12,marginTop:"12px",children:[Object(q.jsxs)(h.d,{color:ct.subText,children:[Object(q.jsx)(l.b,{id:"Vesting"}),Object(q.jsx)(wt.a,{text:ye.a._("After harvesting, your rewards will unlock linearly over the indicated time period"),size:12})]}),Object(q.jsx)(h.d,{fontSize:"12px",fontWeight:"500",children:Object(G.a)(C.vestingDuration,!0)})]}),Object(q.jsxs)(h.b,{justifyContent:"space-between",fontSize:12,marginTop:"12px",children:[Object(q.jsx)(h.d,{color:ct.subText,children:Object(q.jsx)(l.b,{id:"My Deposit"})}),Object(q.jsx)(h.d,{fontSize:"12px",fontWeight:"500",children:Object(pe.h)(xe.toString(),!0)})]}),Object(q.jsxs)(h.b,{justifyContent:"space-between",fontSize:12,marginTop:"12px",children:[Object(q.jsx)(h.d,{color:ct.subText,children:Object(q.jsx)(l.b,{id:"My Rewards"})}),Object(q.jsx)(h.d,{fontSize:"12px",fontWeight:"500",children:Object(pe.h)(We.toString(),!0)})]}),Object(q.jsxs)(w.x,{children:[Y.map((function(e,t){return Object(q.jsxs)(b.a.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[_&&e.token.wrapped.address&&Object(q.jsx)(Ce.a,{currency:e.token,size:"16px"}),Object(ge.g)(e.amount,e.token.decimals)]}),t!==Y.length-1&&Object(q.jsx)(h.d,{color:ct.subText,children:"|"})]},e.token.wrapped.address)})),Object(q.jsxs)(Z.f,{margin:"8px 0 0",disabled:Xe,onClick:function(){ot(C.pid)},children:[Object(q.jsx)(_t,{}),Object(q.jsx)(h.d,{marginLeft:"8px",children:"Harvest"})]})]}),Object(q.jsxs)(h.b,{sx:{gap:"1rem"},marginTop:"16px",children:[Object(q.jsx)(Z.g,{onClick:function(){return pt("unstake")},flex:1,children:Object(q.jsx)(l.b,{id:"Unstake"})}),Object(q.jsx)(Z.h,{onClick:function(){return pt("stake")},flex:1,children:Object(q.jsx)(l.b,{id:"Stake"})})]})]})})]})},un=function(e){var t=e.fairLaunchAddress,n=e.farms,r=Object(fe.a)(),i=Object(se.b)(),o=i.chainId,c=i.account,s=o?C.b[o].route:void 0,a=Object(U.a)(),u=Object(me.c)(),b=Object(Ze.l)(n),p=Object(je.j)(t),x=It(t).harvestMultiplePools,m=Object(ae.c)().mixpanelHandler,f=Object(j.useState)(""),O=Object(de.a)(f,2),g=O[0],y=O[1],v=Object(me.h)(St.a.SHARE),k=Object(me.e)(St.a.SHARE),S=g?window.location.origin+"/farms?search="+g+"&tab=classic&networkId="+s:void 0,T=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){var t,i;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&c){e.next=2;break}return e.abrupt("return");case 2:return r(Object(Tt.d)(!0)),r(Object(Tt.a)(!0)),r(Object(Tt.e)("")),e.prev=5,t=(n||[]).filter((function(e){var t,n,r;return!(null===(t=e.userData)||void 0===t||!t.rewards)&&(null===(n=e.userData)||void 0===n||null===(r=n.rewards)||void 0===r?void 0:r.some((function(e){return ee.a.from(e).gt(0)})))})),e.next=9,x(t.map((function(e){return e.pid})));case 9:(i=e.sent)&&m(ae.a.ALL_REWARDS_HARVESTED,{reward_tokens_and_amounts:b&&Object.assign.apply(Object,[{}].concat(Object(ie.a)(b.map((function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.token)&&void 0!==t&&t.symbol?Object($.a)({},e.token.symbol,Object(ge.g)(e.amount,e.token.decimals)):{}})))))}),r(Object(Tt.e)(i)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0),r(Object(Tt.f)(e.t0));case 18:r(Object(Tt.a)(!1));case 19:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}(),A=Math.floor(Date.now()/1e3),_=(p===he.a.V1?(n||[]).map((function(e){var t,n,r,i=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&o===te.ChainId.MAINNET,c=e&&u&&e.startBlock<u,s=e&&u&&e.endBlock<u;return r=c?(n=(t=e&&u&&e.endBlock-u)&&t*C.b[o||te.ChainId.MAINNET].averageBlockTimeInSeconds)&&Object(G.a)(n):(n=(t=e&&u&&e.startBlock-u)&&t*C.b[o||te.ChainId.MAINNET].averageBlockTimeInSeconds)&&Object(G.a)(n),Object(d.a)(Object(d.a)({},e),{},{time:"".concat(i?"":s?"Ended":(c?"":"Starting in ")+r)})})):(n||[]).map((function(e){var t,n=e&&A&&e.startTime<A,r=e&&A&&e.endTime<A;return t=n?Object(G.a)(e.endTime-A):Object(G.a)(e.startTime-A),Object(d.a)(Object(d.a)({},e),{},{time:"".concat(r?"Ended":(n?"":"Starting in ")+t)})}))).sort((function(e,t){return t.endBlock-e.endBlock})),z=ce.Z[t];return Object(j.useEffect)((function(){g&&v()}),[v,g]),Object(j.useEffect)((function(){y((function(e){return k?e:""}))}),[k,y]),Object(q.jsxs)(w.g,{children:[!!_.length&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(w.f,{justify:z?"space-between":"flex-end",children:[z&&Object(q.jsx)(h.d,{fontSize:14,fontStyle:"italic",color:a.subText,children:Object(q.jsx)(l.b,{id:"This pool require {0} LP Tokens. Get the LP Tokens <0>here \u2197</0>",values:{0:z.name},components:{0:Object(q.jsx)(I.c,{href:z.getLPTokenLink})}})}),Object(q.jsx)(Wt,{totalRewards:b,onHarvestAll:T})]}),Object(q.jsx)(w.o,{children:_.map((function(e,t){return Object(q.jsx)(ln,{farm:e,oddRow:(t+1)%2!==0,setSharedPoolAddress:y},"".concat(e.fairLaunchAddress,"_").concat(e.stakeToken))}))})]}),Object(q.jsx)(Ct.b,{title:ye.a._("Share this farm with your friends!"),url:S})]})},jn=n("./src/hooks/useDebounce.ts"),bn=n("./src/state/farms/hooks.ts");function pn(){var e=Object(p.d)((function(e){return e.farms.showConfirm})),t=Object(p.d)((function(e){return e.farms.attemptingTxn})),n=Object(p.d)((function(e){return e.farms.txHash})),r=Object(p.d)((function(e){return e.farms.error})),i=Object(fe.a)(),o=Object(j.useCallback)((function(){i(Object(Tt.d)(!1)),i(Object(Tt.a)(!1)),i(Object(Tt.e)("")),i(Object(Tt.f)(null))}),[i]),c=Object(j.useCallback)((function(){return r?Object(q.jsx)(Qe.b,{onDismiss:o,message:r}):null}),[o,r]);return Object(q.jsx)(Qe.c,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:c,pendingText:""})}var xn,mn=function(e){var t=e.loading,n=e.active,r=Object(U.a)(),i=Object(se.b)().chainId,o=Object(m.a)("(min-width: 1000px)"),c=Object(bn.b)().data,s=Object(j.useState)({active:!1,ended:!1}),a=Object(de.a)(s,2),b=a[0],p=a[1],f=n?"active":"ended",O=Object(me.c)(),g=Math.floor(Date.now()/1e3),y=Object(j.useRef)(),v=Object(j.useState)(!1),k=Object(de.a)(v,2),C=k[0],I=k[1];Object(Lt.a)(y,C?function(){return I((function(e){return!e}))}:void 0);var S=Object(K.a)(),T=S.search||"",A=Object(x.g)(),_=Object(x.h)(),z=Object(jn.a)(T.trim().toLowerCase(),200),L=Object(j.useState)(!1),N=Object(de.a)(L,2),F=N[0],E=N[1],D=Object(j.useCallback)((function(e){var t=Object(d.a)(Object(d.a)({},_),{},{search:Object(u.stringify)(Object(d.a)(Object(d.a)({},S),{},{search:e}))});A.replace(t)}),[A,_,S]),M=Object(j.useCallback)((function(e){var t,r,o,c,s,a,d=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&i===te.ChainId.MAINNET,l=+new Date/1e3,u=ce.nb[Object(pe.A)(e.id)],j=u&&e.endTime-l<172800&&e.endTime<u;return e.rewardPerSeconds?g&&(n?e.endTime>=g||j:e.endTime<g)&&(!z||((null===(t=e.token0)||void 0===t?void 0:t.symbol.toLowerCase().includes(z))||(null===(r=e.token1)||void 0===r?void 0:r.symbol.toLowerCase().includes(z))||e.id===z))&&(!b[f]||(null===(o=e.userData)||void 0===o?void 0:o.stakedBalance)&&ee.a.from(e.userData.stakedBalance).gt(0)):O&&(d?n:n?e.endBlock>=O||j:e.endBlock<O)&&(!z||((null===(c=e.token0)||void 0===c?void 0:c.symbol.toLowerCase().includes(z))||(null===(s=e.token1)||void 0===s?void 0:s.symbol.toLowerCase().includes(z))||e.id===z))&&(!b[f]||(null===(a=e.userData)||void 0===a?void 0:a.stakedBalance)&&ee.a.from(e.userData.stakedBalance).gt(0))}),[n,f,O,z,b,g,i]),P=Object(j.useMemo)((function(){return Object.keys(c).reduce((function(e,t){var n=c[t].filter((function(e){return M(e)}));return n.length&&(e[t]=n),e}),{})}),[c,M]),R=!Object.keys(P).length;return Object(j.useEffect)((function(){n||b.ended||F||Object.keys(c).filter((function(e){return!!c[e].filter((function(e){var t,n;return e.rewardPerSeconds?g&&e.endTime<g&&(null===(t=e.userData)||void 0===t?void 0:t.stakedBalance)&&ee.a.from(e.userData.stakedBalance).gt(0):O&&e.endBlock<O&&(null===(n=e.userData)||void 0===n?void 0:n.stakedBalance)&&ee.a.from(e.userData.stakedBalance).gt(0)})).length})).length&&(E(!0),p((function(e){return Object(d.a)(Object(d.a)({},e),{},{ended:!0})})))}),[n,b,c,O,F,g]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(pn,{}),Object(q.jsxs)(w.l,{children:[Object(q.jsxs)(w.D,{children:[Object(q.jsx)(w.C,{children:Object(q.jsx)(l.b,{id:"Staked Only"})}),Object(q.jsx)(kt.a,{isActive:b[n?"active":"ended"],toggle:function(){return p((function(e){return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},f,!e[f]))}))}})]}),Object(q.jsx)(w.m,{children:Object(q.jsxs)(w.z,{children:[Object(q.jsx)(w.A,{placeholder:ye.a._("Search by token name or pool address"),maxLength:255,value:T,onChange:function(e){return D(e.target.value)}}),Object(q.jsx)(vt.a,{color:r.subText})]})})]}),o&&Object(q.jsxs)(w.I,{children:[Object(q.jsxs)(h.b,{"grid-area":"pools",alignItems:"center",justifyContent:"flex-start",children:[Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Pools | AMP"})}),Object(q.jsx)(wt.a,{text:ce.g})]}),Object(q.jsx)(h.b,{"grid-area":"liq",alignItems:"center",justifyContent:"flex-center",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Staked TVL"})})}),Object(q.jsxs)(h.b,{"grid-area":"apy",alignItems:"center",justifyContent:"flex-end",sx:{paddingRight:"18px"},children:[Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"APR"})}),Object(q.jsx)(wt.a,{text:n?ye.a._("Total estimated return based on yearly fees and bonus rewards of the pool"):ye.a._("Estimated return based on yearly fees of the pool")})]}),Object(q.jsxs)(h.b,{"grid-area":"vesting_duration",alignItems:"center",justifyContent:"flex-end",children:[Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Vesting"})}),Object(q.jsx)(wt.a,{text:ye.a._("After harvesting, your rewards will unlock linearly over the indicated time period")})]}),Object(q.jsx)(h.b,{"grid-area":"staked_balance",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"My Deposit"})})}),Object(q.jsx)(h.b,{"grid-area":"reward",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"My Rewards"})})})]}),t&&R?Object(q.jsx)(h.b,{backgroundColor:r.background,children:Object(q.jsx)(ne.a,{})}):R?Object(q.jsx)(h.b,{backgroundColor:r.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(q.jsx)(h.d,{color:r.subText,children:b[f]||z?Object(q.jsx)(l.b,{id:"No Farms found"}):Object(q.jsx)(l.b,{id:"Currently there are no Farms."})})}):Object.keys(P).map((function(e){return Object(q.jsx)(un,{fairLaunchAddress:e,farms:P[e]},e)}))]})},hn=["title","titleId"];function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fn.apply(this,arguments)}function On(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gn(e,t){var n=e.title,r=e.titleId,i=On(e,hn);return j.createElement("svg",fn({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?j.createElement("title",{id:r},n):null,xn||(xn=j.createElement("path",{d:"M4.83333 16.6667H8.16667C8.16667 17.5833 7.41667 18.3333 6.5 18.3333C5.58333 18.3333 4.83333 17.5833 4.83333 16.6667ZM3.16667 15C3.16667 15.4583 3.54167 15.8333 4 15.8333H9C9.45833 15.8333 9.83333 15.4583 9.83333 15C9.83333 14.5417 9.45833 14.1667 9 14.1667H4C3.54167 14.1667 3.16667 14.5417 3.16667 15ZM12.75 7.91667C12.75 11.1 10.5333 12.8 9.60833 13.3333H3.39167C2.46667 12.8 0.25 11.1 0.25 7.91667C0.25 4.46667 3.05 1.66667 6.5 1.66667C9.95 1.66667 12.75 4.46667 12.75 7.91667ZM16.8083 6.14167L15.6667 6.66667L16.8083 7.19167L17.3333 8.33333L17.8583 7.19167L19 6.66667L17.8583 6.14167L17.3333 5L16.8083 6.14167ZM14.8333 5L15.6167 3.28333L17.3333 2.5L15.6167 1.71667L14.8333 0L14.05 1.71667L12.3333 2.5L14.05 3.28333L14.8333 5Z",fill:"#FF9901"})))}var yn,vn,wn,kn=j.forwardRef(gn),Cn=(n.p,T.default.ul.withConfig({displayName:"SummaryContent__TextContainer",componentId:"sc-9807ta-0"})(["flex-shrink:0;display:flex;flex-direction:column;margin:0;padding-left:24px;padding-right:8px;width:100%;row-gap:8px;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;list-style-type:disc;list-style-position:outside;color:",";font-weight:400;font-size:14px;line-height:20px;"],(function(e){return e.theme.subText}))),In=T.default.span.withConfig({displayName:"SummaryContent__HighlightedText",componentId:"sc-9807ta-1"})(["color:",";font-weight:500;"],(function(e){return e.theme.text})),Sn=function(e){var t=e.isOpen,n=Object(U.a)();return Object(q.jsxs)(h.b,{sx:{width:"100%",flexDirection:"column",rowGap:"12px",maxHeight:t?"1000px":"0",transition:"max-height 150ms, margin 150ms",overflow:"hidden",marginTop:t?"12px":"0px"},children:[Object(q.jsx)(h.d,{fontSize:14,fontWeight:500,color:n.text,children:Object(q.jsx)(l.b,{id:"Farming Mechanism - Active Liquidity Time"})}),Object(q.jsxs)(Cn,{children:[Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"Farms using this mechanism rely on the <0>total time</0> your liquidity position is <1>active</1> (i.e. in range) in the pool.",components:{0:Object(q.jsx)(In,{}),1:Object(q.jsx)(In,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"Once you stake your liquidity position into a farm, your farming rewards are calculated based on the time your liquidity position is currently <0>active</0> and supporting the <1>current market price</1> of the pool.",components:{0:Object(q.jsx)(In,{}),1:Object(q.jsx)(In,{})}})}),Object(q.jsxs)("li",{children:[Object(q.jsx)(l.b,{id:"If your liquidity position goes out of range (i.e. becomes inactive), you will <0>stop</0> accumulating farming rewards. You have 2 options:",components:{0:Object(q.jsx)(In,{})}}),Object(q.jsxs)(Cn,{style:{marginTop:"8px"},children:[Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"<0>Option 1</0>: Wait for the current market price of the pool to come back in your price range (i.e. for your liquidity position to become active again).",components:{0:Object(q.jsx)(In,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"<0>Option 2</0>: Remove your liquidity position from the pool, create a new liquidity position with an active price range, and stake in the farm again.",components:{0:Object(q.jsx)(In,{})}})})]})]}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"You will accumulate farming rewards as long as your liquidity position is active."})})]}),Object(q.jsx)(h.d,{as:"span",sx:{fontWeight:"400",fontSize:"14px",lineHeight:"20px",color:n.subText,flexShrink:"0"},children:Object(q.jsx)(l.b,{id:"If you wish to learn more, click <0>here \u2197</0>",components:{0:Object(q.jsx)(I.c,{href:"https://docs.kyberswap.com/guides/farming-mechanisms"})}})})]})},Tn=Object(T.default)(Se.a).withConfig({displayName:"ElasticFarmSummary__DropdownIcon",componentId:"sc-1ll9mok-0"})(["transition:transform 300ms;color:",";&[data-flip='true']{transform:rotate(180deg);}"],(function(e){return e.theme.subText})),An=T.default.span.withConfig({displayName:"ElasticFarmSummary__HighlightedText",componentId:"sc-1ll9mok-1"})(["color:",";font-weight:500;"],(function(e){return e.theme.text})),_n=function(){var e=Object(U.a)(),t=Object(j.useState)(!1),n=Object(de.a)(t,2),r=n[0],i=n[1];return Object(q.jsxs)(h.b,{sx:{flexDirection:"column",width:"100%",border:"1px solid ".concat(e.warning),borderRadius:"26px",padding:"16px 18px"},children:[Object(q.jsxs)(h.b,{sx:{justifyContent:"space-between",alignItems:"center",width:"100%",cursor:"pointer",userSelect:"none"},role:"button",onClick:function(){return i((function(e){return!e}))},children:[Object(q.jsxs)(h.b,{sx:{alignItems:"center",gap:"8px",flex:"1 1"},children:[Object(q.jsx)(h.b,{sx:{flex:"0 0 20px"},children:Object(q.jsx)(kn,{})}),Object(q.jsx)(h.d,{sx:{fontWeight:"400",fontSize:"14px",lineHeight:"20px",color:e.subText,flex:"1 1"},children:Object(q.jsx)(l.b,{id:"Our current farms are based on an innovative farming mechanism we call <0>Active Liquidity Time</0>. Read the tips below to <1>maximize</1> your rewards!",components:{0:Object(q.jsx)(An,{}),1:Object(q.jsx)(An,{})}})})]}),Object(q.jsx)(h.b,{sx:{flex:"0 0 24px",justifyContent:"center",alignItems:"center"},children:Object(q.jsx)(Tn,{"data-flip":r})})]}),Object(q.jsx)(Sn,{isOpen:r})]})},zn=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),Ln=n("./node_modules/querystring-es3/index.js"),Nn=n("./node_modules/react-feather/dist/icons/search.js"),Fn=Object(T.default)(Se.a).withConfig({displayName:"FarmIssueAnnouncement__DropdownIcon",componentId:"sc-nrcidj-0"})(["transition:transform 300ms;color:",";&[data-flip='true']{transform:rotate(180deg);}"],(function(e){return e.theme.subText})),En=T.default.div.withConfig({displayName:"FarmIssueAnnouncement__Wrapper",componentId:"sc-nrcidj-1"})(["border-radius:20px;padding:16px;font-size:14px;border:1px solid ",";margin-bottom:16px;color:",";li{line-height:20px;}"],(function(e){return e.theme.warning}),(function(e){return e.theme.subText})),Dn=T.default.ul.withConfig({displayName:"FarmIssueAnnouncement__StyledUL",componentId:"sc-nrcidj-2"})(["flex-shrink:0;display:flex;flex-direction:column;margin:0;padding-left:24px;padding-right:8px;width:100%;row-gap:8px;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;list-style-type:disc;list-style-position:outside;color:",";font-weight:400;font-size:14px;line-height:20px;"],(function(e){return e.theme.subText})),Mn=T.default.span.withConfig({displayName:"FarmIssueAnnouncement__Highlighted",componentId:"sc-nrcidj-3"})(["font-weight:500;color:",";"],(function(e){return e.theme.text})),Pn=function(){var e=Object(U.a)();return Object(q.jsxs)(Dn,{style:{marginTop:"8px"},children:[Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(q.jsx)(Mn,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"Don't worry, your funds are <0>100% safe</0>. And you are still earning farming rewards.",components:{0:Object(q.jsx)(Mn,{})}})}),Object(q.jsxs)("li",{children:[Object(q.jsx)(l.b,{id:"If you still wish to withdraw your liquidity positions from the farm, you can use the <0>Force Withdraw</0> button as an emergency option. Note:",components:{0:Object(q.jsx)(Mn,{style:{color:e.red}})}}),Object(q.jsxs)(Dn,{style:{marginTop:"8px",listStyleType:"circle"},children:[Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"If you do this, your farming rewards will <0>not</0> be automatically harvested but we can <1>manually transfer</1> your farming rewards to you.",components:{0:Object(q.jsx)(Mn,{}),1:Object(q.jsx)(Mn,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"After force withdrawing your liquidity position from the farm, remember <0>not</0> to re-stake this in the farm.",components:{0:Object(q.jsx)(Mn,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"If you wish to continue participating in the farm, you should remove liquidity from the <0>pool</0>, create a <1>new</1> liquidity position by adding liquidity into the pool, and then stake this new liquidity position into the farm.",components:{0:Object(q.jsx)(Mn,{}),1:Object(q.jsx)(Mn,{})}})})]})]}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(q.jsx)(I.c,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},Rn=function(){var e=Object(U.a)();return Object(q.jsxs)(Dn,{style:{marginTop:"8px"},children:[Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(q.jsx)(Mn,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"Don't worry, your funds are <0>100% safe</0>.",components:{0:Object(q.jsx)(Mn,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"You can use the <0>Force Withdraw</0> button as an emergency option. If you do this, your farming rewards will <1>not</1> be automatically harvested but we can <2>manually transfer</2> your farming rewards to you.",components:{0:Object(q.jsx)(Mn,{style:{color:e.red}}),1:Object(q.jsx)(Mn,{}),2:Object(q.jsx)(Mn,{})}})}),Object(q.jsx)("li",{children:Object(q.jsx)(l.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(q.jsx)(I.c,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},Bn=function(e){var t=e.isEnded,n=Object(U.a)(),r=Object(j.useState)(!0),i=Object(de.a)(r,2),o=i[0],c=i[1];return Object(q.jsxs)(En,{children:[Object(q.jsxs)(h.b,{justifyContent:"space-between",onClick:function(){return c((function(e){return!e}))},sx:{cursor:"pointer"},children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(q.jsx)("path",{d:"M4.83333 16.6667H8.16667C8.16667 17.5833 7.41667 18.3333 6.5 18.3333C5.58333 18.3333 4.83333 17.5833 4.83333 16.6667ZM3.16667 15C3.16667 15.4583 3.54167 15.8333 4 15.8333H9C9.45833 15.8333 9.83333 15.4583 9.83333 15C9.83333 14.5417 9.45833 14.1667 9 14.1667H4C3.54167 14.1667 3.16667 14.5417 3.16667 15ZM12.75 7.91667C12.75 11.1 10.5333 12.8 9.60833 13.3333H3.39167C2.46667 12.8 0.25 11.1 0.25 7.91667C0.25 4.46667 3.05 1.66667 6.5 1.66667C9.95 1.66667 12.75 4.46667 12.75 7.91667ZM16.8083 6.14167L15.6667 6.66667L16.8083 7.19167L17.3333 8.33333L17.8583 7.19167L19 6.66667L17.8583 6.14167L17.3333 5L16.8083 6.14167ZM14.8333 5L15.6167 3.28333L17.3333 2.5L15.6167 1.71667L14.8333 0L14.05 1.71667L12.3333 2.5L14.05 3.28333L14.8333 5Z",fill:"#FF9901"})}),Object(q.jsx)(h.d,{fontWeight:"500",color:n.warning,marginLeft:"8px",children:Object(q.jsx)(l.b,{id:"Important Announcement"})})]}),Object(q.jsx)(h.b,{sx:{flex:"0 0 24px",justifyContent:"center",alignItems:"center"},children:Object(q.jsx)(Fn,{"data-flip":o})})]}),o&&Object(q.jsxs)(q.Fragment,{children:[t?Object(q.jsx)(Rn,{}):Object(q.jsx)(Pn,{}),Object(q.jsx)(h.d,{fontStyle:"italic",marginTop:"16px",children:Object(q.jsx)(l.b,{id:"We really apologize for the trouble."})})]})]})},Wn=n("./src/state/farms/elastic/hooks.ts"),qn=n("./node_modules/polished/dist/polished.esm.js"),Hn=n("./node_modules/react-feather/dist/icons/info.js"),Un=n("./src/components/Column/index.tsx"),Gn=n("./src/components/Icons/Withdraw.tsx"),Vn=n("./src/pages/Pool/styleds.tsx"),Yn=n("./src/state/multicall/hooks.ts"),Zn=n("./src/state/tokenPrices/hooks.ts"),Qn=b.a.createContext((function(){})),Kn=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Jn=n("./src/components/Icons/Deposit.tsx"),Xn=["disabled","onClick","style"],$n=["disabled","onClick","style"],er=["disabled","onClick","style"],tr=["onClick","style"],nr=["onClick","style"];!function(e){e.Red="Red",e.Gray="Gray",e.Green="Green"}(wn||(wn={}));var rr,ir=function(){return Object(m.a)("(max-width: ".concat(I.i.upToSmall,"px)"))},or=Object(T.default)(Z.f).withConfig({displayName:"buttons__BtnLight",componentId:"sc-1itozg9-0"})(["padding:8px 12px;width:fit-content;",";"],(function(e){return e.theme.mediaWidth.upToSmall(yn||(yn=Object(S.a)(["\n    padding: 8px;\n  "])))})),cr=Object(T.default)(Z.h).withConfig({displayName:"buttons__BtnPrimary",componentId:"sc-1itozg9-1"})(["font-size:14px;:disabled{background:",";cursor:not-allowed;opacity:0.4;}"],(function(e){return e.theme.buttonGray})),sr=Object(T.default)(Z.f).withConfig({displayName:"buttons__ButtonOutlined",componentId:"sc-1itozg9-2"})(["padding:8px 12px;width:fit-content;white-space:nowrap;"," ",";"],(function(e){return function(e,t,n){var r,i=(r={},Object($.a)(r,wn.Red,e.red),Object($.a)(r,wn.Gray,e.subText),Object($.a)(r,wn.Green,e.primary),r);t||(t=wn.Green);var o=i[t];return Object(T.css)(["border-color:",";background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],o,"".concat(o,"20"),o,n?void 0:Object(qn.a)(.03,"".concat(o,"20")),n?void 0:"0 0 0 1pt ".concat(Object(qn.a)(.05,"".concat(o,"20"))),n?void 0:Object(qn.a)(.05,"".concat(o,"20")))}(e.theme,e.colorScheme,e.disabled)}),(function(e){return e.theme.mediaWidth.upToSmall(vn||(vn=Object(S.a)(["\n    padding: 8px;\n  "])))})),ar=function(e){var t=e.disabled,n=e.onClick,r=e.style,i=Object(Kn.a)(e,Xn),o=ir(),c=o?"44px":"max-content",s=o?"44px":"38px",a=function(){return Object(q.jsx)(sr,Object(d.a)(Object(d.a)({disabled:t,onClick:n,style:Object(d.a)({width:c,height:s},r)},i),{},{children:o?Object(q.jsx)(Jn.a,{width:24,height:24}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Jn.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"4px",children:Object(q.jsx)(l.b,{id:"Deposit"})})]})}))};return t?a():Object(q.jsx)(ut.b,{text:ye.a._("Deposit your liquidity positions (i.e. your NFT tokens) into the farming contract. Then stake them into the farm"),children:a()})},dr=function(e){var t=e.disabled,n=e.onClick,r=e.style,i=Object(Kn.a)(e,$n),o=ir(),c=o?"44px":"max-content",s=o?"44px":"38px",a=function(){return Object(q.jsx)(sr,Object(d.a)(Object(d.a)({colorScheme:wn.Red,onClick:n,disabled:t,style:Object(d.a)({width:c,height:s},r)},i),{},{children:o?Object(q.jsx)(Gn.a,{width:24,height:24}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Gn.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"4px",children:Object(q.jsx)(l.b,{id:"Withdraw"})})]})}))};return t?a():Object(q.jsx)(ut.b,{text:ye.a._("Withdraw your liquidity positions (i.e. your NFT tokens) from the farming contract"),children:a()})},lr=function(e){var t=e.disabled,n=e.onClick,r=e.style,i=Object(Kn.a)(e,er),o=ir(),c=o?"44px":"max-content",s=o?"44px":"38px";return Object(q.jsx)(sr,Object(d.a)(Object(d.a)({onClick:n,colorScheme:wn.Gray,disabled:t,style:Object(d.a)({whiteSpace:"nowrap",width:c,height:s},r)},i),{},{children:o?Object(q.jsx)(_t,{width:24,height:24}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_t,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"4px",children:Object(q.jsx)(l.b,{id:"Harvest All"})})]})}))},ur=function(e){var t=e.onClick,n=e.style,r=Object(Kn.a)(e,tr),i=ir()?{flex:"1",height:"44px"}:{},o=Object(d.a)(Object(d.a)({},i),n);return Object(q.jsx)(or,Object(d.a)(Object(d.a)({style:o,onClick:t},r),{},{children:Object(q.jsx)(l.b,{id:"Connect Wallet"})}))},jr=function(e){var t=e.onClick,n=e.style,r=Object(Kn.a)(e,nr),i=Object(d.a)({padding:"8px"},n);return Object(q.jsxs)(sr,Object(d.a)(Object(d.a)({colorScheme:wn.Red,style:i,onClick:t},r),{},{children:[Object(q.jsx)(Gn.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"4px",children:Object(q.jsx)(l.b,{id:"Force Withdraw"})})]}))},br=function(e,t,n){var r,i=(r={},Object($.a)(r,wn.Red,e.red),Object($.a)(r,wn.Gray,e.subText),Object($.a)(r,wn.Green,e.primary),r);t||(t=wn.Green);var o=i[t];return Object(T.css)(["background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],"".concat(o,"20"),o,n?void 0:Object(qn.a)(.03,"".concat(o,"20")),n?void 0:"0 0 0 1pt ".concat(Object(qn.a)(.05,"".concat(o,"20"))),n?void 0:Object(qn.a)(.05,"".concat(o,"20")))},pr=Object(T.default)(Z.f).withConfig({displayName:"buttons__MinimalActionButton",componentId:"sc-1itozg9-3"})(["background-color:",";width:28px;height:28px;padding:0;"," :disabled{background:",";cursor:not-allowed;}"],(function(e){var t=e.theme;return Object(qn.d)(t.primary,.2)}),(function(e){var t=e.theme,n=e.colorScheme,r=e.disabled;return br(t,n,r)}),(function(e){return e.theme.buttonGray})),xr=Object(T.default)(Z.f).withConfig({displayName:"buttons__ActionButton",componentId:"sc-1itozg9-4"})(["display:flex;align-items:center;justify-content:center;gap:8px;width:max-content;height:38px;padding:0;background-color:",";",""],(function(e){var t=e.theme;return Object(qn.d)(t.primary,.2)}),(function(e){var t=e.theme,n=e.colorScheme,r=e.disabled;return br(t,n,r)})),mr=T.default.div.withConfig({displayName:"Row__ButtonGroupContainerOnMobile",componentId:"sc-1f1k7c1-0"})(["display:flex;margin-top:1.25rem;gap:16px;> *{flex:1;}"]),hr=function(e){var t,n,r,i=e.isApprovedForAll,o=e.fairlaunchAddress,c=e.pool,s=e.onOpenModal,a=e.onHarvest,d=e.isUserAffectedByFarmIssue,u=Object(U.a)(),b=Math.floor(Date.now()/1e3),p=Object(m.a)("(min-width: 1000px)"),x=Object(K.a)(),f=x.type||"active",O=Object(se.b)().chainId,g=Object(Wn.b)(),y=g.userFarmInfo,v=g.poolFeeLast24h,k=Object(ie.a)(new Set([c.token0.wrapped.address.toLowerCase(),c.token1.wrapped.address.toLowerCase()].concat(Object(ie.a)(c.rewardTokens.map((function(e){return e.wrapped.address.toLowerCase()})))))),S=Object(Zn.a)(k),T=S[c.token0.wrapped.address]*Number(c.tvlToken0.toExact())+S[c.token1.wrapped.address]*Number(c.tvlToken1.toExact()),A=36500*(c.totalRewards.reduce((function(e,t){return e+Number(t.toExact())*S[t.currency.wrapped.address]}),0)||0)/((c.endTime-c.startTime)/86400)/c.poolTvl,_=0;c.feesUSD&&v[c.poolAddress]&&(_=100*(c.feesUSD-v[c.poolAddress])*365/c.poolTvl);var z=(null===y||void 0===y||null===(t=y[o])||void 0===t?void 0:t.joinedPositions[c.pid])||[],L=(null===y||void 0===y||null===(n=y[o])||void 0===n?void 0:n.depositedPositions.filter((function(e){return c.poolAddress.toLowerCase()===Object(zn.computePoolAddress)({factoryAddress:C.b[O||te.ChainId.MAINNET].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:C.b[O||te.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase()})))||[],N=(null===y||void 0===y||null===(r=y[o])||void 0===r?void 0:r.rewardPendings[c.pid])||c.rewardTokens.map((function(e){return te.CurrencyAmount.fromRawAmount(e,0)})),F=L.some((function(e){var t=z.find((function(t){return t.nftId.toString()===e.nftId.toString()}));return!t||ee.a.from(e.liquidity.toString()).gt(ee.a.from(t.liquidity.toString()))})),E=N.some((function(e){return e.greaterThan(0)})),D=!!z.length,M=c.startTime<=b,P=Object(j.useContext)(Qn),R=Object(j.useState)(!1),B=Object(de.a)(R,2),W=B[0],H=B[1],V=L.reduce((function(e,t){return e+Number(t.amount1.toExact())*(S[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(S[t.pool.token0.address.toLowerCase()]||0)}),0),Y=z.reduce((function(e,t){return e+Number(t.amount1.toExact())*(S[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(S[t.pool.token0.address.toLowerCase()]||0)}),0),Q=V-Y;if(!p){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(zt.b,{onDismiss:function(){return H(!1)},isOpen:W,children:Object(q.jsxs)(Nt,{children:[Object(q.jsx)(h.d,{fontSize:"12px",marginBottom:"24px",lineHeight:1.5,children:Object(q.jsx)(l.b,{id:"Some farms have a target trading volume (represented by the progress bar) that your liquidity positions need to fully unlock to start earning maximum farming rewards. This target volume ensures that your liquidity positions are supporting the pools trading volume.<0/><1/>Based on the progress of your target volume, you will still earn partial farming rewards. But once you fully unlock your target volume, your liquidity position(s) will start earning maximum rewards. Adjusting your liquidity position(s) staked in the farm will recalculate this volume target.",components:{0:Object(q.jsx)("br",{}),1:Object(q.jsx)("br",{})}})}),Object(q.jsx)(Z.h,{as:I.c,href:"https://docs.kyberswap.com/guides/farming-mechanisms",style:{color:u.textReverse},children:Object(q.jsx)(l.b,{id:"Learn More"})})]})}),Object(q.jsxs)(w.w,{children:[Object(q.jsxs)(h.b,{alignItems:"center",marginBottom:"20px",children:[Object(q.jsx)($t.a,{currency0:c.token0,currency1:c.token1,size:20}),Object(q.jsx)(Kt.b,{to:"/elastic/add/".concat(c.token0.isNative?c.token0.symbol:c.token0.address,"/").concat(c.token1.isNative?c.token1.symbol:c.token1.address,"/").concat(c.pool.fee),children:Object(q.jsxs)(h.d,{fontSize:16,fontWeight:"500",children:[c.token0.symbol," - ",c.token1.symbol]})})]}),Object(q.jsxs)(h.b,{marginTop:"0.5rem",alignItems:"center",sx:{gap:"4px"},fontSize:"12px",color:u.subText,width:"max-content",children:[Object(q.jsxs)(h.d,{children:["Fee = ",100*c.pool.fee/ce.F,"%"]}),Object(q.jsx)(h.d,{color:u.subText,children:"|"}),Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(h.d,{children:Object(pe.C)(c.poolAddress,2)}),Object(q.jsx)(Jt.a,{toCopy:c.poolAddress})]})]}),Object(q.jsxs)(w.n,{children:[Object(q.jsx)(h.d,{color:u.subText,children:Object(q.jsx)(l.b,{id:"Staked TVL"})}),Object(q.jsx)(h.d,{children:Object(Ne.a)(T)})]}),Object(q.jsxs)(w.n,{children:[Object(q.jsxs)(h.d,{color:u.subText,children:[Object(q.jsx)(l.b,{id:"AVG APR"}),Object(q.jsx)(wt.a,{text:"active"===x.type?ye.a._("Average estimated return based on yearly fees and bonus rewards of the pool"):ye.a._("Average estimated return based on yearly fees of the pool plus bonus rewards from the farm")})]}),Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},color:u.apr,children:[Object(q.jsxs)(h.d,{as:"span",children:[(A+_).toFixed(2),"%"]}),Object(q.jsx)(ut.a,{width:"fit-content",placement:"top",text:Object(q.jsx)(an.a,{farmAPR:A,poolAPR:_}),children:Object(q.jsx)(en.x,{size:16,color:u.apr})})]})]}),Object(q.jsxs)(w.n,{children:[Object(q.jsxs)(h.d,{color:u.subText,children:[Object(q.jsx)(l.b,{id:"Vesting"}),Object(q.jsx)(wt.a,{text:ye.a._("After harvesting, your rewards will unlock linearly over the indicated time period")})]}),Object(q.jsx)(h.d,{children:Object(G.a)(c.vestingDuration,!0)})]}),Object(q.jsxs)(w.n,{children:[Object(q.jsxs)(h.d,{color:u.subText,children:[Object(q.jsx)(l.b,{id:"Ending In"}),Object(q.jsx)(wt.a,{text:ye.a._("Once a farm has ended, you will continue to receive returns through LP Fees")})]}),Object(q.jsx)(h.b,{flexDirection:"column",alignItems:"flex-end",justifyContent:"center",sx:{gap:"8px"},children:c.startTime>b?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{color:u.subText,fontSize:"12px",children:Object(q.jsx)(l.b,{id:"New phase will start in"})}),Object(G.a)(c.startTime-b)]}):c.endTime>b?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{color:u.subText,fontSize:"12px",children:Object(q.jsx)(l.b,{id:"Current phase will end in"})}),Object(G.a)(c.endTime-b)]}):Object(q.jsx)(l.b,{id:"ENDED"})})]}),Object(q.jsxs)(w.n,{children:[Object(q.jsx)(h.d,{color:u.subText,children:Object(q.jsx)(l.b,{id:"My Deposit"})}),Object(q.jsxs)(h.b,{justifyContent:"flex-end",color:Q?u.warning:u.text,children:[V?Object(Ne.a)(V):"--",!!V&&Object(q.jsx)(wt.a,{color:u.warning,text:ye.a._("You still have {0} liquidity to stake to earn more rewards",{0:Object(Ne.a)(Q)})})]})]}),Object(q.jsx)(w.n,{children:Object(q.jsx)(h.d,{color:u.subText,children:Object(q.jsx)(l.b,{id:"My Rewards"})})}),Object(q.jsxs)(w.y,{children:[Object(q.jsx)(h.b,{justifyContent:"center",alignItems:"center",marginBottom:"8px",sx:{gap:"4px"},children:N.map((function(e,t){return Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(q.jsx)(Le.a,{text:e.toSignificant(6),maxCharacters:10}),Object(q.jsx)(ut.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol||t)}))}),Object(q.jsxs)(xr,{style:{width:"100%"},colorScheme:wn.Gray,onClick:a,disabled:!E,children:[Object(q.jsx)(_t,{}),Object(q.jsx)(h.d,{as:"span",fontSize:"14px",children:Object(q.jsx)(l.b,{id:"Harvest"})})]})]}),Object(q.jsxs)(mr,{children:[Object(q.jsxs)(xr,{colorScheme:wn.Red,style:{flex:1},onClick:function(){return s("unstake",Number(c.pid))},disabled:!D,children:[Object(q.jsx)(Qt.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:14,children:Object(q.jsx)(l.b,{id:"Unstake"})})]}),d?Object(q.jsx)(ut.b,{text:ye.a._("This farm is currently under maintenance. You can deposit your liquidity into the new farms instead. Your withdrawals are not affected."),placement:"top",width:"300px",children:Object(q.jsxs)(xr,{style:{cursor:"not-allowed",width:"100%",backgroundColor:u.buttonGray,color:u.border},children:[Object(q.jsx)(Zt.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:14,children:Object(q.jsx)(l.b,{id:"Stake"})})]})}):Object(q.jsxs)(xr,{disabled:!i||"ended"===f||!M||!F,style:{flex:1},onClick:function(){return s("stake",c.pid)},children:[Object(q.jsx)(Zt.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:14,children:Object(q.jsx)(l.b,{id:"Stake"})})]})]})]})]})}return Object(q.jsxs)(w.v,{children:[Object(q.jsxs)("div",{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)($t.a,{currency0:c.token0,currency1:c.token1}),Object(q.jsx)(Kt.b,{to:"/elastic/add/".concat(c.token0.isNative?c.token0.symbol:c.token0.address,"/").concat(c.token1.isNative?c.token1.symbol:c.token1.address,"/").concat(c.pool.fee),style:{textDecoration:"none"},children:Object(q.jsxs)(h.d,{fontSize:14,fontWeight:500,children:[c.token0.symbol," - ",c.token1.symbol]})}),Object(q.jsx)(h.b,{onClick:function(){P(c.poolAddress)},sx:{marginLeft:"8px",cursor:"pointer"},role:"button",children:Object(q.jsx)(Yt.a,{size:"14px",color:u.subText})})]}),Object(q.jsxs)(h.b,{marginTop:"0.5rem",alignItems:"center",sx:{gap:"3px"},fontSize:"12px",color:u.subText,width:"max-content",children:[Object(q.jsxs)(h.d,{children:["Fee = ",100*c.pool.fee/ce.F,"%"]}),Object(q.jsx)(h.d,{color:u.subText,children:"|"}),Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(h.d,{children:Object(pe.C)(c.poolAddress,2)}),Object(q.jsx)(Jt.a,{toCopy:c.poolAddress})]})]})]}),Object(q.jsx)(h.d,{textAlign:"right",children:Object(Ne.a)(T)}),Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"flex-end",color:u.apr,sx:{gap:"4px"},children:[(A+_).toFixed(2),"%",Object(q.jsx)(ut.a,{width:"fit-content",placement:"right",text:Object(q.jsx)(an.a,{farmAPR:A,poolAPR:_}),children:Object(q.jsx)(en.x,{size:16,color:u.apr})})]}),Object(q.jsx)(h.b,{flexDirection:"column",alignItems:"flex-end",justifyContent:"center",sx:{gap:"8px"},children:c.startTime>b?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{color:u.subText,fontSize:"12px",children:Object(q.jsx)(l.b,{id:"New phase will start in"})}),Object(G.a)(c.startTime-b)]}):c.endTime>b?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{color:u.subText,fontSize:"12px",children:Object(q.jsx)(l.b,{id:"Current phase will end in"})}),Object(G.a)(c.endTime-b)]}):Object(q.jsx)(l.b,{id:"ENDED"})}),Q?Object(q.jsxs)(h.b,{justifyContent:"flex-end",color:u.warning,children:[Object(Ne.a)(V),Object(q.jsx)(wt.a,{placement:"top",color:u.warning,width:"270px",text:Object(q.jsxs)(h.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(q.jsx)(h.d,{as:"span",color:u.subText,children:Object(q.jsx)(l.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(Ne.a)(Q)}})}),Object(q.jsxs)(h.d,{as:"span",color:u.text,children:["Staked: ",Object(Ne.a)(Y)]}),Object(q.jsxs)(h.d,{as:"span",color:u.warning,children:["Not staked: ",Object(Ne.a)(Q)]})]})})]}):Object(q.jsx)(h.b,{justifyContent:"flex-end",color:u.text,children:V?Object(Ne.a)(V):"--"}),Object(q.jsx)(h.b,{flexDirection:"column",alignItems:"flex-end",sx:{gap:"8px"},children:N.map((function(e,t){return Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(q.jsx)(Le.a,{text:e.toSignificant(6),maxCharacters:10}),Object(q.jsx)(ut.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol||t)}))}),Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},children:[d?Object(q.jsx)(ut.b,{text:ye.a._("This farm is currently under maintenance. You can deposit your liquidity into the new farms instead. Your withdrawals are not affected."),placement:"top",width:"300px",children:Object(q.jsx)(pr,{style:{cursor:"not-allowed",backgroundColor:u.buttonGray,opacity:.4},children:Object(q.jsx)(Zt.a,{size:16})})}):i&&"ended"!==f&&F?M?Object(q.jsx)(ut.b,{text:ye.a._("Stake your liquidity positions (i.e. your NFT tokens) into the farm to start earning rewards"),placement:"top",width:"300px",children:Object(q.jsx)(pr,{onClick:function(){return s("stake",Number(c.pid))},children:Object(q.jsx)(Zt.a,{size:16})})}):Object(q.jsx)(ut.b,{text:ye.a._("Farm has not started"),placement:"top",width:"fit-content",children:Object(q.jsx)(pr,{style:{cursor:"not-allowed",backgroundColor:u.buttonGray,color:u.border},children:Object(q.jsx)(Zt.a,{size:16})})}):Object(q.jsx)(pr,{disabled:!0,children:Object(q.jsx)(Zt.a,{size:16})}),D?Object(q.jsx)(ut.b,{text:ye.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(q.jsx)(pr,{colorScheme:wn.Red,onClick:function(){return s("unstake",Number(c.pid))},children:Object(q.jsx)(Qt.a,{size:16})})}):Object(q.jsx)(pr,{colorScheme:wn.Red,disabled:!D,children:Object(q.jsx)(Qt.a,{size:16})}),E?Object(q.jsx)(ut.b,{text:ye.a._("Harvest"),placement:"top",width:"fit-content",children:Object(q.jsx)(pr,{colorScheme:wn.Gray,onClick:a,children:Object(q.jsx)(_t,{})})}):Object(q.jsx)(pr,{colorScheme:wn.Gray,disabled:!0,children:Object(q.jsx)(_t,{})})]})]})},fr=T.default.div.withConfig({displayName:"ElasticFarmGroup__FarmContent",componentId:"sc-xiroiy-0"})(["background:",";border-radius:20px;overflow:hidden;"],(function(e){return e.theme.background})),Or=T.default.div.withConfig({displayName:"ElasticFarmGroup__FarmRow",componentId:"sc-xiroiy-1"})(["height:68px;display:flex;justify-content:flex-end;align-items:center;background-color:",";padding:0 1rem;",""],(function(e){var t=e.theme;return Object(qn.d)(t.buttonBlack,.4)}),(function(e){return e.theme.mediaWidth.upToMedium(rr||(rr=Object(S.a)(["\n    width: 100%;\n    flex-direction: column;\n    gap: 20px;\n    align-items: flex-start;\n  "])))})),gr=function(e){var t,n=e.address,r=e.onOpenModal,i=e.pools,o=e.userInfo,c=Object(U.a)(),s=Object(se.b)().account,a=Object(m.a)("(min-width: 768px)"),d=Object(m.a)("(min-width: 1000px)"),u=i.map((function(e){return[e.token0.wrapped.address,e.token1.wrapped.address].concat(Object(ie.a)(e.rewardTokens.map((function(e){return e.wrapped.address}))))})).flat(),b=Object(Zn.a)(Object(ie.a)(new Set(u))),p=(null===o||void 0===o?void 0:o.depositedPositions.reduce((function(e,t){return e+Number(t.amount0.toExact())*(b[t.amount0.currency.wrapped.address]||0)+Number(t.amount1.toExact())*(b[t.amount1.currency.wrapped.address]||0)}),0))||0,x=(null===o||void 0===o?void 0:o.depositedPositions.reduce((function(e,t){var n=t.amount0.currency.address,r=t.amount1.currency.address;return e[n]?e[n]=e[n].add(t.amount0):e[n]=t.amount0,e[r]?e[r]=e[r].add(t.amount1):e[r]=t.amount1,e}),{}))||{},f=Object.values((null===o||void 0===o?void 0:o.rewardPendings)||{}).flat(),O=f.reduce((function(e,t){return e+Number(t.toExact())*(b[t.currency.wrapped.address]||0)}),0)||0,g=f.reduce((function(e,t){var n=t.currency.wrapped.address;return e[n]?e[n]=e[n].add(t):e[n]=t,e}),{})||{},y=Object(Wn.c)(),v=((null===o||void 0===o?void 0:o.depositedPositions.map((function(e){return e.nftId.toString()})))||[]).some((function(e){return y.includes(e)})),k=Object(me.w)(),C=Object(je.o)(),I=Object(Yn.c)(C,"isApprovedForAll",[s||ce.ub,n]),S=null===I||void 0===I||null===(t=I.result)||void 0===t?void 0:t[0],T=Object(Wn.d)(n).approve,A=Object(j.useState)(""),_=Object(de.a)(A,2),z=_[0],L=_[1],N=Object(be.d)(z),F=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){var t;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=5;break}return e.next=3,T();case 3:t=e.sent,L(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Object(K.a)().type||"active";if(!i)return null;var D=Object.values((null===o||void 0===o?void 0:o.rewardPendings)||{}).some((function(e){return e.some((function(e){return e.greaterThan("0")}))})),M=!(null===o||void 0===o||!o.depositedPositions.length);return Object(q.jsxs)(fr,{"data-testid":"farm-block",children:[d?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{sx:{alignItems:"center",padding:"0 1rem",justifyContent:"space-between",height:"72px"},children:[Object(q.jsx)(h.d,{sx:{fontWeight:500,fontSize:"16px",lineHeight:"20px",color:c.subText},children:Object(q.jsx)(l.b,{id:"Farming Contract"})}),Object(q.jsxs)(h.b,{sx:{alignItems:"center",gap:"16px"},children:[Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"12px"},children:[Object(q.jsxs)(h.d,{fontSize:"12px",color:c.subText,children:[Object(q.jsx)(l.b,{id:"Deposited Liquidity"}),Object(q.jsx)(wt.a,{text:ye.a._("Total value of liquidity positions (i.e. NFT tokens) you've deposited into the farming contract"),placement:"top"})]}),Object(q.jsx)(ze,{style:{padding:"8px 0"},content:s?Object(q.jsx)(h.d,{as:"span",sx:{fontSize:"16px",fontWeight:500},children:Object(Ne.a)(p)}):"--",hideIcon:!s,dropdownContent:Object.values(x).some((function(e){return e.greaterThan(0)}))?Object(q.jsx)(Un.a,{gap:"sm",children:Object.values(x).map((function(e){return e.greaterThan(0)&&Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:"12px",marginLeft:"4px",children:e.toSignificant(8)})]},e.currency.address)}))}):""})]}),!S&&null!==I&&void 0!==I&&I.loading?Object(q.jsx)(Vn.b,{}):Object(q.jsxs)(h.b,{sx:{gap:"12px"},alignItems:"center",children:[s?S||"ended"===E?null:z&&N?Object(q.jsxs)(Z.h,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:F,disabled:!0,children:[Object(q.jsx)(Hn.a,{width:"16px"}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"8px",children:Object(q.jsx)(Vn.b,{children:Object(q.jsx)(l.b,{id:"Approving"})})})]}):Object(q.jsx)(ut.b,{text:Object(q.jsx)(h.d,{color:c.subText,as:"span",children:Object(q.jsx)(l.b,{id:"Authorize the farming contract so it can access your liquidity positions (i.e. your NFT tokens). Then deposit your liquidity positions using the <0>Deposit</0> button",components:{0:Object(q.jsx)(h.d,{as:"span",color:c.text})}})}),width:"400px",placement:"top",children:Object(q.jsxs)(Z.h,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:F,children:[Object(q.jsx)(Hn.a,{width:"16px"}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"8px",children:z&&N?Object(q.jsx)(Vn.b,{children:Object(q.jsx)(l.b,{id:"Approving"})}):Object(q.jsx)(l.b,{id:"Approve Farming Contract"})})]})}):Object(q.jsx)(ur,{onClick:k}),Object(q.jsx)(ar,{disabled:!s||!S||"ended"===E,onClick:function(){return r("deposit")}}),Object(q.jsx)(dr,{disabled:!s||!M||!S,onClick:function(){return r("withdraw")}}),!!v&&Object(q.jsx)(jr,{onClick:function(){return r("forcedWithdraw")}})]})]})]}),Object(q.jsxs)(w.u,{children:[Object(q.jsx)(h.b,{"grid-area":"token_pairs",alignItems:"center",justifyContent:"flex-start",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Pool"})})}),Object(q.jsx)(h.b,{"grid-area":"liq",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Staked TVL"})})}),Object(q.jsxs)(h.b,{"grid-area":"apy",alignItems:"center",justifyContent:"flex-end",children:[Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"AVG APR"})}),Object(q.jsx)(wt.a,{text:ye.a._("Average estimated return based on yearly fees of the pool and if it's still active, plus bonus rewards of the pool")})]}),Object(q.jsxs)(h.b,{"grid-area":"end",alignItems:"center",justifyContent:"flex-end",children:[Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Ending In"})}),Object(q.jsx)(wt.a,{text:ye.a._("Once a farm has ended, you will continue to receive returns through LP Fees")})]}),Object(q.jsx)(h.b,{"grid-area":"staked_balance",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"My Deposit"})})}),Object(q.jsx)(h.b,{"grid-area":"reward",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"My Rewards"})})}),Object(q.jsx)(h.b,{"grid-area":"action",alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(w.c,{children:Object(q.jsx)(l.b,{id:"Actions"})})})]}),Object(q.jsxs)(Or,{children:[Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"24px"},justifyContent:a?"flex-end":"space-between",width:a?void 0:"100%",children:[Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(q.jsx)(h.d,{fontSize:"12px",color:c.subText,children:Object(q.jsx)(l.b,{id:"Total Rewards"})}),Object(q.jsx)(ze,{style:{padding:"8px 0"},content:s?Object(q.jsx)(h.d,{as:"span",sx:{fontSize:"16px",fontWeight:500},children:Object(Ne.a)(O)}):"--",hideIcon:!s,dropdownContent:Object.values(g).length?Object(q.jsx)(Un.a,{gap:"sm",children:Object.values(g).map((function(e){return e.greaterThan(0)&&Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:"12px",marginLeft:"4px",children:e.toSignificant(8)})]},e.currency.wrapped.address)}))}):""})]}),Object(q.jsx)(lr,{onClick:function(){return r("harvest")},disabled:!s||!D})]}),v&&!a&&Object(q.jsxs)(cr,{style:{color:c.red,border:"1px solid ".concat(c.red),background:c.red+"33"},padding:"12px",onClick:function(){return r("forcedWithdraw")},children:[Object(q.jsx)(Gn.a,{width:20,height:20}),Object(q.jsx)(h.d,{fontSize:"14px",marginLeft:"4px",children:Object(q.jsx)(l.b,{id:"Force Withdraw"})})]})]})]}):Object(q.jsxs)(h.b,{flexDirection:"column",padding:"0 1rem",sx:{backgroundColor:Object(qn.d)(c.buttonBlack,.4)},children:[Object(q.jsxs)(h.b,{sx:{alignItems:"center",justifyContent:"space-between",height:"72px",gap:"8px"},children:[Object(q.jsx)(h.b,{sx:{alignItems:"center",height:"100%",flex:"1 1"},children:s?S?Object(q.jsxs)(h.b,{flexDirection:"column",justifyContent:"center",sx:{gap:"4px"},children:[Object(q.jsx)(h.d,{fontSize:"12px",color:c.subText,children:Object(q.jsx)(l.b,{id:"Deposited Liquidity"})}),Object(q.jsx)(ze,{style:{padding:"0"},content:s?Object(q.jsx)(h.d,{as:"span",sx:{fontSize:"16px",fontWeight:500},children:Object(Ne.a)(p)}):"--",hideIcon:!s,dropdownContent:Object.values(x).some((function(e){return e.greaterThan(0)}))?Object(q.jsx)(Un.a,{gap:"sm",children:Object.values(x).map((function(e){return e.greaterThan(0)&&Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:"12px",marginLeft:"4px",children:e.toSignificant(8)})]},e.currency.address)}))}):""})]}):null!==I&&void 0!==I&&I.loading?Object(q.jsx)(Vn.b,{}):Object(q.jsxs)(Z.h,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:F,children:[Object(q.jsx)(ut.a,{text:Object(q.jsx)(h.d,{color:c.subText,as:"span",children:Object(q.jsx)(l.b,{id:"Authorize the farming contract so it can access your liquidity positions (i.e. your NFT tokens). Then deposit your liquidity positions using the <0>Deposit</0> button",components:{0:Object(q.jsx)(h.d,{as:"span",color:c.text})}})}),placement:"top",children:Object(q.jsx)(h.b,{width:"24px",height:"24px",justifyContent:"center",alignItems:"center",children:Object(q.jsx)(Hn.a,{width:"16px",height:"16px",onClick:function(e){e.preventDefault(),e.stopPropagation()}})})}),Object(q.jsx)(h.d,{fontSize:"14px",children:z&&N?Object(q.jsx)(Vn.b,{children:Object(q.jsx)(l.b,{id:"Approving"})}):Object(q.jsx)(l.b,{id:"Approve"})})]}):Object(q.jsx)(ur,{onClick:k})}),Object(q.jsx)(ar,{disabled:!s||!S||"ended"===E,onClick:function(){return r("deposit")},style:{flex:"0 0 44px"}}),Object(q.jsx)(dr,{disabled:!s||!M||!S,onClick:function(){return r("withdraw")},style:{flex:"0 0 44px"}})]}),Object(q.jsx)(Ie.b,{}),Object(q.jsxs)(h.b,{sx:{height:"68px",alignItems:"center",justifyContent:"space-between"},children:[Object(q.jsxs)(h.b,{flexDirection:"column",justifyContent:"center",sx:{gap:"4px"},children:[Object(q.jsx)(h.d,{fontSize:"12px",color:c.subText,children:Object(q.jsx)(l.b,{id:"Total Rewards"})}),Object(q.jsx)(ze,{style:{padding:"0"},content:s?Object(q.jsx)(h.d,{as:"span",sx:{fontSize:"16px",fontWeight:500},children:Object(Ne.a)(O)}):"--",hideIcon:!s,dropdownContent:Object.values(g).length?Object(q.jsx)(Un.a,{gap:"sm",children:Object.values(g).map((function(e){return e.greaterThan(0)&&Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:"12px",marginLeft:"4px",children:e.toSignificant(8)})]},e.currency.wrapped.address)}))}):""})]}),Object(q.jsx)(lr,{onClick:function(){return r("harvest")},disabled:!s||!D})]}),!!v&&Object(q.jsx)(jr,{style:{width:"100%",marginBottom:"1rem"},onClick:function(){return r("forcedWithdraw")}})]}),Object(q.jsx)(Ie.b,{}),i.map((function(e){return Object(q.jsx)(hr,{isUserAffectedByFarmIssue:v,isApprovedForAll:S,pool:e,onOpenModal:r,fairlaunchAddress:n,onHarvest:function(){r("harvest",Number(e.pid))}},e.id)}))]})},yr=n("./src/components/Badge/RangeBadge.tsx"),vr=n("./src/components/CheckBox.tsx"),wr=n("./src/hooks/usePools.ts"),kr=n("./src/hooks/useProAmmPositions.ts"),Cr=n("./src/utils/wrappedCurrency.ts"),Ir=function(e){var t=e.position,n=e.onChange,r=e.selected,i=t.token0,o=t.token1,c=t.fee,s=t.liquidity,a=t.tickLower,d=t.tickUpper,l=Object(nn.c)(i),u=Object(nn.c)(o),b=l?Object(Cr.a)(l):void 0,p=u?Object(Cr.a)(u):void 0,x=Object(Zn.a)([i,o]),f=Object(wr.b)(null!==b&&void 0!==b?b:void 0,null!==p&&void 0!==p?p:void 0,c),O=Object(de.a)(f,2)[1],g=Object(j.useMemo)((function(){if(O)return new zn.Position({pool:O,liquidity:s.toString(),tickLower:a,tickUpper:d})}),[s,O,a,d]),y=ee.a.from(t.liquidity.toString()).eq(0),v=g&&(g.pool.tickCurrent<t.tickLower||g.pool.tickCurrent>=t.tickUpper),w=((null===x||void 0===x?void 0:x[i])||0)*parseFloat((null===g||void 0===g?void 0:g.amount0.toExact())||"0")+((null===x||void 0===x?void 0:x[o])||0)*parseFloat((null===g||void 0===g?void 0:g.amount1.toExact())||"0"),k=Object(m.a)("(min-width: 768px)");return Object(q.jsxs)(Dt,{children:[Object(q.jsx)(vr.a,{type:"checkbox",onChange:function(e){n(e.currentTarget.checked)},checked:r}),k?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.b,{alignItems:"center",children:Object(q.jsx)(h.d,{children:t.tokenId.toString()})}),Object(q.jsx)(h.d,{children:Object(Ne.a)(w)}),Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===g||void 0===g?void 0:g.amount0.toSignificant(6),Object(q.jsx)(Ce.a,{size:"16px",currency:b})]}),Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===g||void 0===g?void 0:g.amount1.toSignificant(6),Object(q.jsx)(Ce.a,{size:"16px",currency:p})]}),Object(q.jsx)(h.b,{justifyContent:"flex-end",children:Object(q.jsx)(yr.a,{removed:y,inRange:!v})})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(h.d,{marginRight:"4px",children:t.tokenId.toString()}),Object(q.jsx)($t.a,{currency0:b,currency1:p,size:16}),Object(q.jsx)(yr.a,{removed:y,inRange:!v,hideText:!0})]}),Object(q.jsx)(h.b,{justifyContent:"flex-end",children:Object(q.jsx)(ze,{placement:"right",content:Object(q.jsx)(h.d,{children:Object(Ne.a)(w)}),dropdownContent:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:b}),null===g||void 0===g?void 0:g.amount0.toSignificant(6)," ",null===g||void 0===g?void 0:g.amount0.currency.symbol]}),Object(q.jsxs)(h.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:p}),null===g||void 0===g?void 0:g.amount1.toSignificant(6)," ",null===g||void 0===g?void 0:g.amount1.currency.symbol]})]})})})]})]})};var Sr,Tr=function(e){var t,n=e.selectedFarmAddress,r=e.onDismiss,i=Object(K.a)().type||"active",o=Object(se.b)().account,c=Object(U.a)(),s=Object(j.useRef)(),a=Object(m.a)("(min-width: 768px)"),d=Object(Wn.b)().farms,u=null===d||void 0===d?void 0:d.find((function(e){return e.id.toLowerCase()===n.toLowerCase()})),b=(null===u||void 0===u?void 0:u.pools.filter((function(e){return"active"===i?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3})).map((function(e){return e.poolAddress.toLowerCase()})))||[],p=Object(j.useState)([]),x=Object(de.a)(p,2),f=x[0],O=x[1],g=Object(Wn.d)(n).deposit,y=Object(kr.a)(o),v=y.positions,w=y.loading,k=Object(Wn.e)(v||[],b),C=k.filterOptions,S=k.activeFilter,T=k.setActiveFilter,A=k.eligiblePositions,_=Object(j.useState)(!1),z=Object(de.a)(_,2),L=z[0],N=z[1],F=Object(j.useRef)(null);Object(Lt.a)(F,(function(){return N(!1)})),Object(j.useEffect)((function(){s.current&&(0===f.length?(s.current.checked=!1,s.current.indeterminate=!1):f.length>0&&null!==A&&void 0!==A&&A.length&&f.length<(null===A||void 0===A?void 0:A.length)?(s.current.checked=!1,s.current.indeterminate=!0):(s.current.checked=!0,s.current.indeterminate=!1))}),[f.length,A]);var E=Object(ae.c)().mixpanelHandler;if(!n)return null;var D=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(f.map((function(e){return ee.a.from(e)})));case 2:e.sent&&A.filter((function(e){return f.includes(e.tokenId.toString())})).forEach((function(e){E(ae.a.ELASTIC_DEPOSIT_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=Object(q.jsxs)(Mt,{role:"button",onClick:function(){return N((function(e){return!e}))},children:[null===(t=C.find((function(e){return e.code===S})))||void 0===t?void 0:t.value,Object(q.jsx)(Bt,{rotate:L}),L&&Object(q.jsx)(Pt,{ref:F,children:C.map((function(e){return Object(q.jsx)(Rt,{role:"button",onClick:function(t){t.stopPropagation(),t.preventDefault(),T(e.code),N((function(e){return!e}))},children:e.value},e.code)}))})]});return Object(q.jsx)(zt.b,{isOpen:!!u,onDismiss:r,maxHeight:80,width:"80vw",maxWidth:"808px",children:Object(q.jsxs)(Nt,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(Ft,{children:Object(q.jsx)(l.b,{id:"Deposit your liquidity"})}),Object(q.jsxs)(h.b,{sx:{gap:"12px"},children:[a&&M,Object(q.jsx)(Z.c,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(q.jsx)(At.a,{color:c.text})})]})]}),Object(q.jsx)(h.d,{fontSize:"12px",marginTop:"20px",color:c.subText,children:Object(q.jsx)(l.b,{id:"Deposit your liquidity positions (NFT tokens) first to enable farming. Only your in range liquidity positions (NFT tokens) will earn you farming rewards"})}),!a&&M,w?Object(q.jsx)(ne.a,{}):null!==A&&void 0!==A&&A.length?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Et,{children:[Object(q.jsx)(vr.a,{type:"checkbox",ref:s,onChange:function(e){e.currentTarget.checked?O((null===A||void 0===A?void 0:A.map((function(e){return e.tokenId.toString()})))||[]):O([])}}),Object(q.jsx)(h.d,{textAlign:"left",children:a?"ID":"ID | Token | Status"}),Object(q.jsx)(h.d,{textAlign:a?"left":"right",children:Object(q.jsx)(l.b,{id:"Your liquidity"})}),a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{textAlign:"right",children:"Token 1"}),Object(q.jsx)(h.d,{textAlign:"right",children:"Token 2"}),Object(q.jsx)(h.d,{textAlign:"right",children:"Status"})]})]}),Object(q.jsx)("div",{style:{overflowY:"scroll",minHeight:"100px"},children:A.map((function(e){return Object(q.jsx)(Ir,{selected:f.includes(e.tokenId.toString()),position:e,onChange:function(t){O(t?function(t){return[].concat(Object(ie.a)(t),[e.tokenId.toString()])}:function(t){return t.filter((function(t){return t!==e.tokenId.toString()}))})}},e.tokenId.toString())}))}),Object(q.jsxs)(h.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(q.jsx)("div",{}),Object(q.jsx)(Z.h,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:D,disabled:!f.length,children:Object(q.jsx)(l.b,{id:"Deposit Selected"})})]})]}):Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"center",padding:"16px",color:c.subText,marginTop:"40px",flexDirection:"column",children:[Object(q.jsx)(Hn.a,{size:"48px"}),Object(q.jsx)(h.d,{fontSize:14,textAlign:"center",marginTop:"16px",maxWidth:"480px",lineHeight:1.5,children:Object(q.jsx)(l.b,{id:"You dont have any relevant liquidity positions yet.<0/> Add liquidity to the farming pools first. Check out our <1>Pools.</1>",components:{0:Object(q.jsx)("br",{}),1:Object(q.jsx)(I.k,{to:"/pools"})}})})]})]})})},Ar=n("./src/state/farms/elastic/types.ts"),_r=function(e){return Object(T.css)([""," ",""],e?"grid-template-columns: 18px 120px repeat(2, 1fr);":"grid-template-columns: 18px 120px repeat(3, 1fr);",(function(e){return e.theme.mediaWidth.upToSmall(Sr||(Sr=Object(S.a)(["\n        grid-template-columns: 18px 120px 1fr;\n      "])))}))},zr=Object(T.default)(Se.a).withConfig({displayName:"StakeModal__DropdownIcon",componentId:"sc-cqthaq-0"})(["transition:transform 300ms;color:",";&:hover{transform:rotate(180deg);}"],(function(e){return e.theme.text})),Lr=T.default.div.withConfig({displayName:"StakeModal__ScrollContainer",componentId:"sc-cqthaq-1"})(["display:flex;flex-direction:column;width:100%;min-height:90px;overflow-y:auto;overflow-x:hidden;::-webkit-scrollbar{display:unset;width:8px;border-radius:999px;}::-webkit-scrollbar-track{background:transparent;border-radius:999px;}::-webkit-scrollbar-thumb{background:",";border-radius:999px;}"],(function(e){return e.theme.disableText})),Nr=Object(T.default)(Et).withConfig({displayName:"StakeModal__StakeTableHeader",componentId:"sc-cqthaq-2"})(["",""],(function(e){var t=e.isUnstake;return _r(t)})),Fr=Object(T.default)(Dt).withConfig({displayName:"StakeModal__StakeTableRow",componentId:"sc-cqthaq-3"})(["",""],(function(e){var t=e.isUnstake;return _r(t)})),Er=function(e){var t=e.position,n=e.onChange,r=e.selected,i=e.type,o=Object(m.a)("(min-width: 768px)"),c=Object(Zn.a)([t.available.pool.token0.address,t.available.pool.token1.address]),s=t.available.pool.tickCurrent<t.available.tickLower||t.available.pool.tickCurrent>=t.available.tickUpper,a=c[t.available.pool.token0.address]||0,d=c[t.available.pool.token1.address]||0,l=a*parseFloat(t.available.amount0.toExact()||"0")+d*parseFloat(t.available.amount1.toExact()||"0"),u=a*parseFloat(t.staked.amount0.toExact()||"0")+d*parseFloat(t.staked.amount1.toExact()||"0");return Object(q.jsxs)(Fr,{isUnstake:"unstake"===i,children:[Object(q.jsx)(vr.a,{type:"checkbox",onChange:function(e){n(e.currentTarget.checked)},checked:r}),o?Object(q.jsx)(h.b,{alignItems:"center",children:Object(q.jsx)(h.d,{children:t.available.nftId.toString()})}):Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(h.d,{marginRight:"4px",children:t.available.nftId.toString()}),Object(q.jsx)($t.a,{currency0:t.available.pool.token0,currency1:t.available.pool.token1,size:16}),Object(q.jsx)(yr.a,{removed:!1,inRange:!s,hideText:!0})]}),"stake"===i&&Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(Ne.a)(l),Object(q.jsx)(ut.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:t.available.amount0.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:12,marginLeft:"4px",children:t.available.amount0.toSignificant(8)})]}),Object(q.jsxs)(h.b,{alignItems:"center",marginTop:"8px",children:[Object(q.jsx)(Ce.a,{currency:t.available.amount1.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:12,marginLeft:"4px",children:t.available.amount1.toSignificant(8)})]})]}),children:Object(q.jsx)(zr,{})})]}),("unstake"===i||o)&&Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(Ne.a)(u),Object(q.jsx)(ut.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(Ce.a,{currency:t.available.amount0.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:12,marginLeft:"4px",children:t.staked.amount0.toSignificant(8)})]}),Object(q.jsxs)(h.b,{alignItems:"center",marginTop:"8px",children:[Object(q.jsx)(Ce.a,{currency:t.available.amount1.currency,size:"16px"}),Object(q.jsx)(h.d,{fontSize:12,marginLeft:"4px",children:t.staked.amount1.toSignificant(8)})]})]}),children:Object(q.jsx)(zr,{})})]}),o&&Object(q.jsx)(h.b,{justifyContent:"flex-end",children:Object(q.jsx)(yr.a,{removed:!1,inRange:!s})})]})};var Dr=function(e){var t=e.selectedFarmAddress,n=e.onDismiss,r=e.poolId,i=e.type,o=Object(U.a)(),c=Object(j.useRef)(),s=Object(se.b)().chainId,a=Object(Wn.b)(),d=a.farms,u=a.userFarmInfo,b=null===d||void 0===d?void 0:d.find((function(e){return e.id.toLowerCase()===t.toLowerCase()})),p=Object(Wn.d)(t),x=p.stake,f=p.unstake,O=null===b||void 0===b?void 0:b.pools.find((function(e){return Number(e.pid)===Number(r)})),g=O||{},y=g.token0,v=g.token1,w=Object(j.useMemo)((function(){var e=(null===u||void 0===u?void 0:u[t].joinedPositions[r])||[];return((null===u||void 0===u?void 0:u[t].depositedPositions.filter((function(e){return(null===O||void 0===O?void 0:O.poolAddress.toLowerCase())===Object(zn.computePoolAddress)({factoryAddress:C.b[s||te.ChainId.MAINNET].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:C.b[s||te.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase()})))||[]).map((function(t){var n,r=ee.a.from((null===(n=e.find((function(e){return e.nftId.toString()===t.nftId.toString()})))||void 0===n?void 0:n.liquidity.toString())||0),i=ee.a.from(t.liquidity.toString()).sub(r);return{available:new Ar.a({nftId:t.nftId,pool:t.pool,liquidity:i.toString(),tickLower:t.tickLower,tickUpper:t.tickUpper}),staked:new Ar.a({nftId:t.nftId,pool:t.pool,liquidity:r.toString(),tickLower:t.tickLower,tickUpper:t.tickUpper})}})).filter((function(e){return"stake"===i?ee.a.from(e.available.liquidity.toString()).gt(ee.a.from(0)):ee.a.from(e.staked.liquidity.toString()).gt(ee.a.from(0))}))}),[i,O,s,r,t,u]),k=Object(j.useState)([]),S=Object(de.a)(k,2),T=S[0],A=S[1],_=Object(ae.c)().mixpanelHandler;Object(j.useEffect)((function(){c.current&&(0===T.length?(c.current.checked=!1,c.current.indeterminate=!1):T.length>0&&null!==w&&void 0!==w&&w.length&&T.length<(null===w||void 0===w?void 0:w.length)?(c.current.checked=!1,c.current.indeterminate=!0):(c.current.checked=!0,c.current.indeterminate=!1))}),[T.length,w]);var z=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("stake"!==i){e.next=7;break}return e.next=3,x(ee.a.from(r),T.map((function(e){return e.available.nftId})),T.map((function(e){return ee.a.from(e.available.liquidity.toString())})));case 3:e.sent&&_(ae.a.ELASTIC_STAKE_LIQUIDITY_COMPLETED,{token_1:null===y||void 0===y?void 0:y.symbol,token_2:null===v||void 0===v?void 0:v.symbol}),e.next=11;break;case 7:return e.next=9,f(ee.a.from(r),T.map((function(e){return e.available.nftId})),T.map((function(e){return ee.a.from(e.staked.liquidity.toString())})));case 9:e.sent&&_(ae.a.ELASTIC_UNSTAKE_LIQUIDITY_COMPLETED,{token_1:null===y||void 0===y?void 0:y.symbol,token_2:null===v||void 0===v?void 0:v.symbol});case 11:n();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=Object(m.a)("(min-width: 768px)");return Object(q.jsx)(zt.b,{isOpen:!!b,onDismiss:n,maxHeight:80,maxWidth:"808px",children:Object(q.jsxs)(Nt,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",children:[Object(q.jsxs)(Ft,{display:"flex",children:[Object(q.jsx)($t.a,{size:24,currency0:y,currency1:v}),"stake"===i?Object(q.jsx)(l.b,{id:"Stake your liquidity"}):Object(q.jsx)(l.b,{id:"Unstake your liquidity"})]}),Object(q.jsx)(h.b,{sx:{gap:"12px"},children:Object(q.jsx)(Z.c,{onClick:n,width:"36px",height:"36px",padding:"0",children:Object(q.jsx)(At.a,{color:o.text})})})]}),Object(q.jsx)(h.d,{fontSize:"12px",marginTop:"20px",color:o.subText,children:"stake"===i?Object(q.jsx)(l.b,{id:"Stake your deposited liquidity positions (NFT tokens) into the farms to start earning rewards. Only your in-range positions will earn rewards"}):Object(q.jsx)(l.b,{id:"Unstake your liquidity positions (NFT tokens) from the farm. You will no longer earn rewards on these positions once unstaked"})}),w.length?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Nr,{isUnstake:"unstake"===i,children:[Object(q.jsx)(vr.a,{type:"checkbox",ref:c,onChange:function(e){e.currentTarget.checked?A(w||[]):A([])}}),Object(q.jsx)(h.d,{textAlign:"left",children:L?"ID":"ID | Token | Status"}),"stake"===i&&Object(q.jsx)(h.d,{textAlign:"right",children:Object(q.jsx)(l.b,{id:"Available Balance"})}),("unstake"===i||L)&&Object(q.jsx)(h.d,{textAlign:"right",children:Object(q.jsx)(l.b,{id:"Staked Balance"})}),L&&Object(q.jsx)(h.d,{textAlign:"right",children:Object(q.jsx)(l.b,{id:"Status"})})]}),Object(q.jsx)(Lr,{children:w.map((function(e){return Object(q.jsx)(Er,{type:i,selected:T.map((function(e){return e.available.nftId.toString()})).includes(e.available.nftId.toString()),position:e,onChange:function(t){A(t?function(t){return[].concat(Object(ie.a)(t),[e])}:function(t){return t.filter((function(t){return t.available.nftId.toString()!==e.available.nftId.toString()}))})}},e.available.nftId.toString())}))}),Object(q.jsxs)(h.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(q.jsx)("div",{}),Object(q.jsx)(Z.h,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:z,disabled:!T.length,children:"stake"===i?Object(q.jsx)(l.b,{id:"Stake Selected"}):Object(q.jsx)(l.b,{id:"Unstake Selected"})})]})]}):"stake"===i?Object(q.jsxs)(h.b,{sx:{flexDirection:"column",justifyContent:"center",alignItems:"center"},fontSize:14,color:o.subText,padding:"16px",marginTop:"20px",children:[Object(q.jsx)(Hn.a,{size:"48px"}),Object(q.jsx)(h.d,{marginTop:"16px",textAlign:"center",lineHeight:1.5,children:Object(q.jsx)(l.b,{id:"You haven't deposited any liquidity positions (NFT tokens) for this farming pair yet.<0/><1/>Add liquidity to this pool first in our <2>Pools</2> page. If you've done that, deposit your liquidity position (NFT tokens) before you stake",components:{0:Object(q.jsx)("br",{}),1:Object(q.jsx)("br",{}),2:Object(q.jsx)(I.k,{to:"/pools"})}})})]}):Object(q.jsx)(h.d,{fontSize:14,color:o.subText,textAlign:"center",padding:"16px",marginTop:"20px",children:Object(q.jsx)(l.b,{id:"You don't have any available position, Please deposit and stake first"})})]})})},Mr=T.default.div.withConfig({displayName:"HarvestModal__HarvestInfo",componentId:"sc-1luwkpx-0"})(["padding:16px;border-radius:4px;background:",";margin-top:18px;font-size:12px;line-height:20px;"],(function(e){return e.theme.primary+"33"})),Pr=T.default.div.withConfig({displayName:"HarvestModal__RewardRow",componentId:"sc-1luwkpx-1"})(["border-radius:999px;padding:8px;background:",";display:flex;justify-content:center;align-items:center;gap:8px;margin-top:20px;margin-bottom:24px;"],(function(e){return e.theme.buttonBlack}));var Rr=function(e){var t,n=e.farmsAddress,r=e.poolId,i=e.onDismiss,o=Object(U.a)(),c=Object(Wn.b)(),s=c.farms,a=c.userFarmInfo,d=null===s||void 0===s?void 0:s.find((function(e){return e.id.toLowerCase()===n.toLowerCase()})),u=Object(Wn.d)(n).harvest,j=null!==r?null===d||void 0===d?void 0:d.pools.find((function(e){return Number(e.pid)===Number(r)})):void 0,b=Object(ae.c)().mixpanelHandler,p={},x=(null===a||void 0===a?void 0:a[n])||{},m=x.rewardPendings,f=void 0===m?{}:m,O=x.joinedPositions,g=void 0===O?{}:O;null===r?Object.values(f||{}).flat().forEach((function(e){var t=e.currency.wrapped.address;p[t]?p[t]=p[t].add(e):p[t]=e})):null===f||void 0===f||null===(t=f[r.toString()])||void 0===t||t.forEach((function(e){var t=e.currency.wrapped.address;p[t]?p[t]=p[t].add(e):p[t]=e}));var y=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){var t,n,o;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],o=[],null===r?Object.keys(g).forEach((function(e){g[e].forEach((function(t){ee.a.from(t.liquidity.toString()).gt(ee.a.from(0))&&(n.push(t.nftId),o.push(ee.a.from(e)))}))})):null===(t=g[r.toString()])||void 0===t||t.forEach((function(e){ee.a.from(e.liquidity.toString()).gt(ee.a.from(0))&&(n.push(e.nftId),o.push(ee.a.from(r)))})),e.next=5,u(n,o);case 5:e.sent&&(i(),b(null===r?ae.a.ELASTIC_ALLS_REWARD_HARVESTED:ae.a.ELASTIC_INDIVIDUAL_REWARD_HARVESTED));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object.keys(p),w=Object(Zn.a)(v),k=Object.values(p).reduce((function(e,t){return e+Number(t.toExact())*(w[t.currency.wrapped.address]||0)}),0);return Object(q.jsx)(zt.b,{isOpen:!!d,onDismiss:i,maxHeight:80,maxWidth:"392px",children:Object(q.jsxs)(Nt,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(Ft,{children:null===r?Object(q.jsx)(l.b,{id:"Harvest All"}):Object(q.jsxs)(h.b,{children:[Object(q.jsx)($t.a,{size:24,currency0:null===j||void 0===j?void 0:j.token0,currency1:null===j||void 0===j?void 0:j.token1})," ",Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"Harvest"})})]})}),Object(q.jsx)(h.b,{sx:{gap:"12px"},children:Object(q.jsx)(Z.c,{onClick:i,width:"36px",height:"36px",padding:"0",children:Object(q.jsx)(At.a,{color:o.text})})})]}),Object(q.jsx)(Mr,{children:Object(q.jsx)(l.b,{id:"After harvesting, your rewards will begin vesting linearly (only if the farm has a vesting duration).<0/><1/>Vesting means that your reward tokens will be locked initially but released gradually. You can claim the reward tokens to your wallet as and when they are released.<2/><3/>To claim your rewards, go to the <4> Vesting</4> tab and click 'Claim'.",components:{0:Object(q.jsx)("br",{}),1:Object(q.jsx)("br",{}),2:Object(q.jsx)("br",{}),3:Object(q.jsx)("br",{}),4:Object(q.jsx)(I.k,{to:"/farms?type=vesting&tab=elastic"})}})}),Object(q.jsxs)(h.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"My Rewards"})}),Object(q.jsx)(h.d,{children:Object(Ne.a)(k)})]}),Object(q.jsx)(Pr,{children:Object.values(p).map((function(e){return Object(q.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(q.jsx)(Le.a,{text:e.toSignificant(6)||"0",maxCharacters:10}),Object(q.jsx)(ut.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(q.jsx)(Ce.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol)}))}),Object(q.jsx)(Z.h,{onClick:y,children:null===r?Object(q.jsx)(l.b,{id:"Harvest All"}):Object(q.jsx)(l.b,{id:"Harvest"})})]})})},Br=function(e){var t=e.position,n=e.onChange,r=e.selected,i=e.forced,o=t.token0,c=t.token1,s=t.fee,a=t.liquidity,d=t.tickLower,l=t.tickUpper,u=Object(nn.c)(o),b=Object(nn.c)(c),p=u?Object(Cr.a)(u):void 0,x=b?Object(Cr.a)(b):void 0,f=Object(Zn.a)([o,c]),O=Object(wr.b)(null!==p&&void 0!==p?p:void 0,null!==x&&void 0!==x?x:void 0,s),g=Object(de.a)(O,2)[1],y=Object(j.useMemo)((function(){if(g)return new zn.Position({pool:g,liquidity:a.toString(),tickLower:d,tickUpper:l})}),[a,g,d,l]),v=ee.a.from(t.liquidity.toString()).eq(0),w=y&&(y.pool.tickCurrent<t.tickLower||y.pool.tickCurrent>=t.tickUpper),k=Object(U.a)(),C=((null===f||void 0===f?void 0:f[o])||0)*parseFloat((null===y||void 0===y?void 0:y.amount0.toExact())||"0")+((null===f||void 0===f?void 0:f[c])||0)*parseFloat((null===y||void 0===y?void 0:y.amount1.toExact())||"0"),I=Object(m.a)("(min-width: 768px)"),S=Object(q.jsx)(h.b,{width:"17.5px",height:"17.5px",backgroundColor:k.disableText,sx:{borderRadius:"2px"},alignItems:"center",justifyContent:"center",children:Object(q.jsx)(At.a,{size:14,color:"#333"})});return Object(q.jsxs)(Dt,{children:[i?Object(q.jsx)(vr.a,{type:"checkbox",disabled:!0,checked:!0}):t.stakedLiquidity.gt(ee.a.from(0))?Object(q.jsx)(ut.a,{text:"You will need to unstake this position first before you can withdraw it",children:S}):Object(q.jsx)(vr.a,{type:"checkbox",onChange:function(e){n(e.currentTarget.checked)},checked:r}),I?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.b,{alignItems:"center",children:Object(q.jsx)(h.d,{children:t.tokenId.toString()})}),Object(q.jsx)(h.d,{children:Object(Ne.a)(C)}),Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===y||void 0===y?void 0:y.amount0.toSignificant(6),Object(q.jsx)(Ce.a,{size:"16px",currency:p})]}),Object(q.jsxs)(h.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===y||void 0===y?void 0:y.amount1.toSignificant(6),Object(q.jsx)(Ce.a,{size:"16px",currency:x})]}),Object(q.jsx)(h.b,{justifyContent:"flex-end",children:Object(q.jsx)(yr.a,{removed:v,inRange:!w})})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{alignItems:"center",children:[Object(q.jsx)(h.d,{marginRight:"4px",children:t.tokenId.toString()}),Object(q.jsx)($t.a,{currency0:p,currency1:x,size:16}),Object(q.jsx)(yr.a,{removed:v,inRange:!w,hideText:!0})]}),Object(q.jsx)(h.b,{justifyContent:"flex-end",children:Object(q.jsx)(ze,{placement:"right",content:Object(q.jsx)(h.d,{children:Object(Ne.a)(C)}),dropdownContent:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(h.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:p}),null===y||void 0===y?void 0:y.amount0.toSignificant(6)," ",null===y||void 0===y?void 0:y.amount0.currency.symbol]}),Object(q.jsxs)(h.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(q.jsx)(Ce.a,{size:"16px",currency:x}),null===y||void 0===y?void 0:y.amount1.toSignificant(6)," ",null===y||void 0===y?void 0:y.amount1.currency.symbol]})]})})})]})]})};var Wr=function(e){var t,n=e.selectedFarmAddress,r=e.onDismiss,i=e.forced,o=void 0!==i&&i,c=Object(U.a)(),s=Object(se.b)().chainId,a=Object(m.a)("(min-width: 768px)"),d=Object(K.a)().type||"active",u=Object(j.useRef)(),b=Object(Wn.b)(),p=b.farms,x=b.userFarmInfo,f=null===p||void 0===p?void 0:p.find((function(e){return e.id.toLowerCase()===n.toLowerCase()})),O=(null===f||void 0===f?void 0:f.pools.filter((function(e){return"active"===d?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3})).map((function(e){return e.poolAddress.toLowerCase()})))||[],g=Object(Wn.c)(),y=(null===x||void 0===x?void 0:x[(null===f||void 0===f?void 0:f.id)||""])||{},v=y.depositedPositions,w=void 0===v?[]:v,k=y.joinedPositions,I=void 0===k?{}:k,S=w.map((function(e){var t,n,r=null===(t=Object.values(I).flat().filter((function(t){return e.nftId.toString()===t.nftId.toString()&&ee.a.from(t.liquidity.toString()).gt("0")})))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.liquidity;return{nonce:ee.a.from(0),poolId:Object(zn.computePoolAddress)({factoryAddress:C.b[s].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:C.b[s].elastic.initCodeHash}),feeGrowthInsideLast:ee.a.from(0),operator:"",rTokenOwed:ee.a.from(0),fee:e.pool.fee,tokenId:e.nftId,tickLower:e.tickLower,tickUpper:e.tickUpper,liquidity:ee.a.from(e.liquidity.toString()),token0:e.amount0.currency.address,token1:e.amount1.currency.address,stakedLiquidity:r?ee.a.from(r.toString()):ee.a.from(0)}})),T=Object(Wn.e)(S||[],O),A=T.filterOptions,_=T.activeFilter,z=T.setActiveFilter,L=T.eligiblePositions,N=Object(j.useMemo)((function(){return L.filter((function(e){return e.stakedLiquidity.eq(0)}))}),[L]),F=Object(j.useState)([]),E=Object(de.a)(F,2),D=E[0],M=E[1],P=Object(Wn.d)(n),R=P.withdraw,B=P.emergencyWithdraw;Object(j.useEffect)((function(){if(u.current)return o?(u.current.checked=!0,void(u.current.indeterminate=!1)):void(0===D.length?(u.current.checked=!1,u.current.indeterminate=!1):D.length>0&&null!==N&&void 0!==N&&N.length&&D.length<(null===N||void 0===N?void 0:N.length)?(u.current.checked=!1,u.current.indeterminate=!0):(u.current.checked=!0,u.current.indeterminate=!1))}),[D.length,N,o]);var W=Object(j.useState)(!1),H=Object(de.a)(W,2),G=H[0],V=H[1],Y=Object(j.useRef)(null);Object(Lt.a)(Y,(function(){return V(!1)}));var Q=Object(ae.c)().mixpanelHandler;if(!n)return null;var J=function(){var e=Object(oe.a)(Object(re.a)().mark((function e(){return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,B(g.map(ee.a.from));case 3:return r(),e.abrupt("return");case 5:return e.next=7,R(D.map((function(e){return ee.a.from(e)})));case 7:e.sent&&L.filter((function(e){return D.includes(e.tokenId.toString())})).forEach((function(e){Q(ae.a.ELASTIC_WITHDRAW_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),r();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=Object(q.jsxs)(Mt,{role:"button",onClick:function(){return V((function(e){return!e}))},children:[null===(t=A.find((function(e){return e.code===_})))||void 0===t?void 0:t.value,Object(q.jsx)(Bt,{rotate:G}),G&&Object(q.jsx)(Pt,{ref:Y,children:A.map((function(e){return Object(q.jsx)(Rt,{role:"button",onClick:function(t){t.stopPropagation(),t.preventDefault(),z(e.code),V((function(e){return!e}))},children:e.value},e.code)}))})]});return Object(q.jsx)(zt.b,{isOpen:!!f,onDismiss:r,width:"80vw",maxHeight:80,maxWidth:"808px",children:Object(q.jsxs)(Nt,{children:[Object(q.jsxs)(h.b,{alignItems:"center",justifyContent:"space-between",children:[Object(q.jsx)(Ft,{children:o?Object(q.jsx)(l.b,{id:"Force Withdraw"}):Object(q.jsx)(l.b,{id:"Withdraw your liquidity"})}),Object(q.jsxs)(h.b,{sx:{gap:"12px"},children:[a&&!o&&X,Object(q.jsx)(Z.c,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(q.jsx)(At.a,{color:c.text})})]})]}),Object(q.jsx)(h.d,{fontSize:"12px",marginTop:"20px",color:c.subText,children:o?Object(q.jsx)(l.b,{id:"Below is a list of your affected liquidity positions"}):Object(q.jsx)(l.b,{id:"You will need to unstake your liquidity positions (NFT tokens) first before withdrawing it back to your wallet"})}),!a&&!o&&X,Object(q.jsxs)(Et,{children:[Object(q.jsx)(vr.a,{disabled:o,type:"checkbox",ref:u,onChange:function(e){e.currentTarget.checked?M(N.map((function(e){return e.tokenId.toString()}))||[]):M([])}}),Object(q.jsx)(h.d,{textAlign:"left",children:a?"ID":"ID | Token | Status"}),Object(q.jsx)(h.d,{textAlign:a?"left":"right",children:Object(q.jsx)(l.b,{id:"Your liquidity"})}),a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{textAlign:"right",children:"Token 1"}),Object(q.jsx)(h.d,{textAlign:"right",children:"Token 2"}),Object(q.jsx)(h.d,{textAlign:"right",children:"Status"})]})]}),Object(q.jsx)("div",{style:{overflowY:"auto"},children:L.filter((function(e){return!o||g.includes(e.tokenId.toString())})).map((function(e){return Object(q.jsx)(Br,{selected:D.includes(e.tokenId.toString()),position:e,forced:o,onChange:function(t){M(t?function(t){return[].concat(Object(ie.a)(t),[e.tokenId.toString()])}:function(t){return t.filter((function(t){return t!==e.tokenId.toString()}))})}},e.tokenId.toString())}))}),Object(q.jsxs)(h.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(q.jsx)("div",{}),Object(q.jsx)(Z.h,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:J,disabled:!o&&!D.length,style:o?{background:c.red,color:c.textReverse}:void 0,children:o?Object(q.jsx)(l.b,{id:"Force Withdraw"}):Object(q.jsx)(l.b,{id:"Withdraw Selected"})})]})]})})};var qr=function(e){var t=e.active,n=Object(U.a)(),r=Object(se.b)().chainId,i=Object(j.useState)({active:!1,ended:!1}),o=Object(de.a)(i,2),c=o[0],s=o[1],a=t?"active":"ended",u=Object(Wn.b)(),b=u.farms,p=u.loading,m=u.userFarmInfo,f=Object(Wn.c)(),O=Object(j.useRef)(),g=Object(j.useState)(!1),y=Object(de.a)(g,2),v=y[0],k=y[1];Object(Lt.a)(O,v?function(){return k((function(e){return!e}))}:void 0);var S=Object(K.a)(),T=(S.search||"").toLowerCase(),A=Object(x.g)(),_=Object(x.h)(),z=Object(j.useCallback)((function(e){var t=Object(d.a)(Object(d.a)({},_),{},{search:Object(Ln.stringify)(Object(d.a)(Object(d.a)({},S),{},{search:e}))});A.replace(t)}),[A,_,S]),L=Object(j.useMemo)((function(){var e,n,i,o,s=Date.now()/1e3,l=null===b||void 0===b?void 0:b.map((function(e){var n=e.pools.filter((function(e){return t?e.endTime>=s:e.endTime<s}));return Object(d.a)(Object(d.a)({},e),{},{pools:n})})).filter((function(e){return!!e.pools.length})),u=Object(pe.A)(T);u?r&&(l=null===(n=l)||void 0===n?void 0:n.map((function(e){return e.pools=e.pools.filter((function(e){return[Object(zn.computePoolAddress)({factoryAddress:C.b[r].elastic.coreFactory,tokenA:e.token0.wrapped,tokenB:e.token1.wrapped,fee:e.pool.fee,initCodeHashManualOverride:C.b[r].elastic.initCodeHash}),e.pool.token1.address,e.pool.token0.address].includes(u)})),e}))):l=null===(i=l)||void 0===i?void 0:i.map((function(e){return e.pools=e.pools.filter((function(e){var t,n,r,i;return(null===(t=e.token0.symbol)||void 0===t?void 0:t.toLowerCase().includes(T))||(null===(n=e.token0.symbol)||void 0===n?void 0:n.toLowerCase().includes(T))||(null===(r=e.token1.name)||void 0===r?void 0:r.toLowerCase().includes(T))||(null===(i=e.token1.name)||void 0===i?void 0:i.toLowerCase().includes(T))})),e}));c[a]&&r&&(l=null===(o=l)||void 0===o?void 0:o.map((function(e){if(null===m||void 0===m||!m[e.id].depositedPositions.length)return Object(d.a)(Object(d.a)({},e),{},{pools:[]});var t=null===m||void 0===m?void 0:m[e.id].depositedPositions.map((function(e){return Object(zn.computePoolAddress)({factoryAddress:C.b[r].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:C.b[r].elastic.initCodeHash}).toLowerCase()})),n=e.pools.filter((function(e){return t.includes(e.poolAddress.toLowerCase())}));return Object(d.a)(Object(d.a)({},e),{},{pools:n})})));return(null===(e=l)||void 0===e?void 0:e.filter((function(e){return!!e.pools.length})))||[]}),[b,t,T,c,a,r,m]),N=!L.length,F=Object(j.useState)(null),E=Object(de.a)(F,2),D=E[0],M=E[1],P=Object(j.useState)(null),R=Object(de.a)(P,2),B=R[0],W=R[1],H=Object(j.useState)(null),G=Object(de.a)(H,2),V=G[0],Y=G[1],Z=Object(me.h)(St.a.SHARE),J=Object(me.e)(St.a.SHARE),X=Object(j.useState)(""),ee=Object(de.a)(X,2),te=ee[0],re=ee[1],ie=r?C.b[r].route:void 0,oe=te?"".concat(window.location.origin,"/farms?search=").concat(te,"&tab=elastic&type=").concat(a,"&networkId=").concat(ie):void 0,ce=function(){M(null),W(null),Y(null)};return Object(j.useEffect)((function(){te&&Z()}),[Z,te]),Object(j.useEffect)((function(){re((function(e){return J?e:""}))}),[J,re]),Object(q.jsxs)(Qn.Provider,{value:re,children:[D&&"deposit"===B&&Object(q.jsx)(Tr,{selectedFarmAddress:D,onDismiss:ce}),D&&null!==V&&["stake","unstake"].includes(B||"")&&Object(q.jsx)(Dr,{type:B,poolId:V,selectedFarmAddress:D,onDismiss:ce}),D&&"withdraw"===B&&Object(q.jsx)(Wr,{selectedFarmAddress:D,onDismiss:ce}),D&&"forcedWithdraw"===B&&Object(q.jsx)(Wr,{selectedFarmAddress:D,onDismiss:ce,forced:!0}),D&&"harvest"===B&&Object(q.jsx)(Rr,{farmsAddress:D,poolId:V,onDismiss:ce}),function(){var e=Date.now()/1e3;if("ended"===a){var t=null===b||void 0===b?void 0:b.filter((function(t){return t.pools.every((function(t){return t.endTime<e}))}));return(null===t||void 0===t?void 0:t.some((function(e){return null===m||void 0===m?void 0:m[e.id].depositedPositions.map((function(e){return e.nftId.toString()})).some((function(e){return f.includes(e)}))})))?Object(q.jsx)(Bn,{isEnded:!0}):null}return null}(),Object(q.jsxs)(w.l,{children:[Object(q.jsxs)(w.D,{children:[Object(q.jsx)(w.C,{children:Object(q.jsx)(l.b,{id:"Staked Only"})}),Object(q.jsx)(kt.a,{isActive:c[t?"active":"ended"],toggle:function(){return s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object($.a)({},a,!e[a]))}))}})]}),Object(q.jsx)(w.m,{children:Object(q.jsxs)(w.z,{children:[Object(q.jsx)(w.A,{placeholder:ye.a._("Search by token name or pool address"),maxLength:255,value:T,onChange:function(e){return z(e.target.value)}}),Object(q.jsx)(Nn.a,{color:n.subText})]})})]}),"ended"===S.type&&S.tab!==Q.c.CLASSIC&&Object(q.jsx)(h.d,{fontStyle:"italic",fontSize:12,marginBottom:"1rem",color:n.subText,children:Object(q.jsx)(l.b,{id:"Your rewards may be automatically harvested a few days after the farm ends. Please check the <0>Vesting</0> tab to see your rewards",components:{0:Object(q.jsx)(I.k,{to:"/farms?type=vesting"})}})}),(!S.type||"active"===S.type)&&S.tab!==Q.c.CLASSIC&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(h.d,{fontSize:12,fontWeight:"500",marginBottom:"0.375rem",children:Object(q.jsx)(l.b,{id:"Farms will run in multiple phases"})}),Object(q.jsx)(h.d,{fontStyle:"italic",fontSize:12,marginBottom:"1rem",color:n.subText,children:Object(q.jsx)(l.b,{id:"Once the current phase ends, you can harvest your rewards from the farm in the <0>Ended</0> tab. To continue earning rewards in the new phase, you must restake your NFT position into the active farm",components:{0:Object(q.jsx)(I.k,{to:"/farms?type=ended"})}})})]}),p&&N?Object(q.jsx)(h.b,{sx:{borderRadius:"16px"},backgroundColor:n.background,children:Object(q.jsx)(ne.a,{})}):N?Object(q.jsx)(h.b,{backgroundColor:n.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(q.jsx)(h.d,{color:n.subText,children:c[a]||T?Object(q.jsx)(l.b,{id:"No Farms found"}):Object(q.jsx)(l.b,{id:"Currently there are no Farms."})})}):Object(q.jsx)(h.b,{sx:{flexDirection:"column",rowGap:"48px"},children:L.map((function(e){return Object(q.jsx)(gr,{address:e.id,onOpenModal:function(t,n,r){W(t),M(e.id);var i=Number.isNaN(Number(n))?null:Number(n);Y(i)},pools:e.pools,userInfo:null===m||void 0===m?void 0:m[e.id]},e.id)}))}),Object(q.jsx)(Ct.b,{title:ye.a._("Share this farm with your friends!"),url:oe})]})},Hr=n("./node_modules/react-device-detect/main.js");function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}function Gr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Vr=Object(j.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,c=Gr(e,["color","size"]);return b.a.createElement("svg",Ur({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),b.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),b.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))}));Vr.propTypes={color:Xe.a.string,size:Xe.a.oneOfType([Xe.a.string,Xe.a.number])},Vr.displayName="Eye";var Yr,Zr=Vr,Qr=n("./node_modules/react-feather/dist/icons/edit-2.js"),Kr=T.default.div.withConfig({displayName:"FarmGuide__IconWrapper",componentId:"sc-6hvsqq-0"})(["width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:",";"],(function(e){return e.theme.primary})),Jr=T.default.span.withConfig({displayName:"FarmGuide__Highlight",componentId:"sc-6hvsqq-1"})(["color:",";font-weight:500;"],(function(e){return e.theme.text})),Xr=(Yr={},Object($.a)(Yr,Q.c.ELASTIC,[{content:Object(q.jsx)(l.b,{id:"<0>Identify</0> the Elastic farm you would like to participate in",components:{0:Object(q.jsx)(Jr,{})}}),icon:Object(q.jsx)(Zr,{size:20}),title:"Step 1"},{content:Object(q.jsx)(l.b,{id:"<0>Add liquidity</0> to the corresponding <1>Elastic pool</1> and receive a NFT token for your liquidity position",components:{0:Object(q.jsx)(Jr,{}),1:Object(q.jsx)(I.k,{to:"/pools?tab=elastic"})}}),icon:Object(q.jsx)(en.m,{size:20}),title:"Step 2"},{content:Object(q.jsx)(l.b,{id:"<0>Approve</0> the farming contract (if you haven't) to let it access your liquidity positions (NFT tokens)",components:{0:Object(q.jsx)(Jr,{})}}),icon:Object(q.jsx)(Qr.a,{size:18}),title:"Step 3"},{content:Object(q.jsx)(l.b,{id:"<0>Deposit</0> your liquidity position (NFT token) into the farming contract. Then <1>stake</1> it into the farm",components:{0:Object(q.jsx)(Jr,{}),1:Object(q.jsx)(Jr,{})}}),icon:Object(q.jsx)(Jn.a,{width:20,height:20}),title:"Step 4"},{content:Object(q.jsx)(l.b,{id:"<0>Harvest</0> your farming rewards whenever you want",components:{0:Object(q.jsx)(Jr,{})}}),icon:Object(q.jsx)(lt,{width:20,height:20}),title:"Step 5"},{content:Object(q.jsx)(l.b,{id:"<0>Claim</0> your farming rewards from the <1>Vesting</1> tab! Note: some farms may have a vesting period",components:{0:Object(q.jsx)(Jr,{}),1:Object(q.jsx)(I.k,{to:"/farms?type=vesting&tab=elastic"})}}),icon:Object(q.jsx)(en.y,{size:20}),title:"Step 6"}]),Object($.a)(Yr,Q.c.CLASSIC,[{content:Object(q.jsx)(l.b,{id:"Identify the Classic farm you would like to participate in"}),icon:Object(q.jsx)(Zr,{size:20}),title:"Step 1"},{content:Object(q.jsx)(l.b,{id:"Add liquidity to the corresponding <0>Classic pool</0> to receive Liquidity Provider (LP) tokens",components:{0:Object(q.jsx)(I.k,{to:"/pools?tab=classic"})}}),icon:Object(q.jsx)(en.m,{size:20}),title:"Step 2"},{content:Object(q.jsx)(l.b,{id:"Stake your LP tokens in the farm you identified earlier"}),icon:Object(q.jsx)(Jn.a,{width:20,height:20}),title:"Step 3"},{content:Object(q.jsx)(l.b,{id:"Harvest your farming rewards whenever you want"}),icon:Object(q.jsx)(lt,{width:20,height:20}),title:"Step 4"},{content:Object(q.jsx)(l.b,{id:"Claim your farming rewards! (Note: some farms may have a vesting period)"}),icon:Object(q.jsx)(en.y,{size:20}),title:"Step 5"}]),Yr);var $r=function(e){var t=e.farmType,n=Object(j.useState)(!Hr.isMobile),r=Object(de.a)(n,2),i=r[0],o=r[1],c=Object(U.a)(),s=Object(m.a)("(max-width: 992px)"),a=Xr[t];return Object(q.jsxs)(w.t,{children:[Object(q.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",children:[Object(q.jsx)(w.s,{children:t===Q.c.ELASTIC?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(l.b,{id:"Deposit your liquidity position (NFT token) from the Elastic Pools here, and then stake it to earn even more attractive farming rewards."}),(!s||!i)&&Object(q.jsxs)(I.c,{href:"https://docs.kyberswap.com/guides/how-to-farm",children:[" ",Object(q.jsx)(l.b,{id:"Learn More \u2197"})]})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(l.b,{id:"Deposit your liquidity from the Classic Pools here to earn even more attractive farming rewards."}),(!s||!i)&&Object(q.jsxs)(I.c,{href:"https://docs.kyberswap.com/classic/guides/yield-farming-guide",children:[" ",Object(q.jsx)(l.b,{id:"Learn More \u2197"})]})]})}),Object(q.jsx)(w.B,{onClick:function(){return o((function(e){return!e}))},show:i,children:Object(q.jsx)(ke.a,{})})]}),Object(q.jsxs)(w.k,{show:i,numOfSteps:a.length,children:[a.map((function(e,t){return Object(q.jsxs)(j.Fragment,{children:[0!==t&&Object(q.jsx)(w.b,{}),Object(q.jsxs)(w.j,{children:[Object(q.jsxs)(h.b,{marginBottom:"0.5rem",alignItems:"center",sx:{gap:"8px"},children:[Object(q.jsx)(Kr,{children:e.icon}),Object(q.jsxs)(h.d,{flex:1,children:[Object(q.jsx)(h.d,{color:c.text,fontWeight:"500",as:"span",sx:{textTransform:"uppercase"},children:e.title}),s&&Object(q.jsxs)(q.Fragment,{children:[": ",e.content," "]})]})]}),!s&&e.content]})]},t)})),s&&Object(q.jsx)(h.b,{justifyContent:"flex-end",children:t===Q.c.ELASTIC?Object(q.jsx)(I.c,{href:"https://docs.kyberswap.com/guides/how-to-farm",children:Object(q.jsx)(l.b,{id:"Learn More \u2197"})}):Object(q.jsx)(I.c,{href:"https://docs.kyberswap.com/classic/guides/yield-farming-guide",children:Object(q.jsx)(l.b,{id:"Learn More \u2197"})})})]})]})},ei=n("./src/utils/string.ts");t.default=function(){var e=Object(bn.b)().loading,t=Object(K.a)(),n=t.type||"active",r=t.tab&&"string"===typeof t.tab&&Object(ei.d)(t.tab,Q.c)?t.tab:Q.c.ELASTIC,i=Object(x.g)(),o=Object(p.d)((function(e){return e.vesting.loading})),c=Object(ae.c)().mixpanelHandler,s=Object(bn.b)().data,a=Object(m.a)("(max-width: 768px)"),b=Object(m.a)("(max-width: 1500px)"),C=Object(me.c)(),I=Object(Wn.b)().farms,S=Object(j.useMemo)((function(){var e={},t=Math.floor(Date.now()/1e3);return Object.values(s).flat().filter((function(e){return e.endTime&&e.endTime>t||C&&e.endBlock&&e.endBlock>C})).forEach((function(t){t.rewardTokens.forEach((function(t){t&&!e[t.wrapped.address]&&(e[t.wrapped.address]=t)}))})),null===I||void 0===I||I.forEach((function(t){t.pools.forEach((function(t){t.endTime>Date.now()/1e3&&t.totalRewards.forEach((function(t){e[t.currency.isNative?ce.ub:t.currency.wrapped.address]=t.currency}))}))})),Object.values(e)}),[s,C,I]),T=!!S.length&&Object(q.jsx)(h.b,{flex:1,width:a?"calc(100vw - 32px)":b?"calc(100vw - 412px)":"1088px",sx:{gap:"4px"},alignItems:"center",justifyContent:"flex-end",children:Object(q.jsx)(g.b,{rewardTokens:S,style:{display:"flex",width:"100%",overflow:"hidden",flex:1}})});return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Wn.a,{}),Object(q.jsxs)(w.q,{gap:"24px",children:[Object(q.jsxs)(w.K,{children:[Object(q.jsx)(f.a,{}),!a&&T]}),Object(q.jsx)($r,{farmType:r}),r===Q.c.ELASTIC&&Object(q.jsx)(_n,{}),a&&T,Object(q.jsxs)("div",{children:[Object(q.jsxs)(w.G,{children:[Object(q.jsxs)(w.H,{children:[Object(q.jsx)(w.F,{onClick:function(){n&&"active"!==n&&c(ae.a.FARMS_ACTIVE_VIEWED);var e=Object(d.a)(Object(d.a)({},t),{},{type:"active"});i.push({search:Object(u.stringify)(e)})},isActive:!n||"active"===n,children:Object(q.jsx)(w.r,{children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Active"})})})}),Object(q.jsx)(w.F,{onClick:function(){"ended"!==n&&c(ae.a.FARMS_ENDING_VIEWED);var e=Object(d.a)(Object(d.a)({},t),{},{type:"ended"});i.push({search:Object(u.stringify)(e)})},isActive:"ended"===n,children:Object(q.jsx)(w.r,{children:Object(q.jsx)("span",{children:Object(q.jsx)(l.b,{id:"Ended"})})})}),Object(q.jsx)(w.F,{onClick:function(){"coming"!==n&&c(ae.a.FARMS_UPCOMING_VIEWED);var e=Object(d.a)(Object(d.a)({},t),{},{type:"coming"});i.push({search:Object(u.stringify)(e)})},isActive:"coming"===n,children:Object(q.jsxs)(w.L,{children:[Object(q.jsx)(l.b,{id:"Upcoming"}),k.length>0&&Object(q.jsx)(w.p,{children:Object(q.jsx)(l.b,{id:"New"})})]})}),Object(q.jsx)(w.F,{onClick:function(){"vesting"!==n&&c(ae.a.FARMS_MYVESTING_VIEWED);var e=Object(d.a)(Object(d.a)({},t),{},{type:"vesting"});i.push({search:Object(u.stringify)(e)})},isActive:"vesting"===n,children:Object(q.jsxs)(w.r,{children:[Object(q.jsx)(h.d,{children:Object(q.jsx)(l.b,{id:"Vesting"})}),o&&Object(q.jsx)(O.a,{style:{marginLeft:"4px"}})]})})]}),r===Q.c.CLASSIC&&Object(q.jsx)(v.b,{type:v.a.CLASSIC_FARMS}),r===Q.c.ELASTIC&&Object(q.jsx)(v.b,{type:v.a.ELASTIC_FARMS})]}),function(){switch(n){case"active":return r===Q.c.ELASTIC?Object(q.jsx)(qr,{active:!0}):Object(q.jsx)(mn,{loading:e,active:!0});case"coming":return Object(q.jsx)(X,{});case"ended":return r===Q.c.ELASTIC?Object(q.jsx)(qr,{active:!1}):Object(q.jsx)(mn,{loading:e,active:!1});case"vesting":return r===Q.c.ELASTIC?Object(q.jsx)(yt,{}):Object(q.jsx)(Ot,{loading:o});default:return Object(q.jsx)(mn,{loading:e,active:!0})}}()]})]}),Object(q.jsx)(y.a,{})]})}},"./src/utils/formatTime.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0 Days";var n,r=e%60,i=(e-r)/60,o=i%60,c=(i-o)/60,s=c%24,a=(c-s)/24,d="";!a&&t||(d+=a+(n=(t?" Day":"D")+(t&&a>1?"s ":" "))),!s&&t||(d+=s+(n=(t?" Hour":"H")+(t&&s>1?"s ":" "))),!o&&t||(d+=o+(n=(t?" Minute":"M")+(t&&o>1?"s ":" ")));var l=0===a&&0===s&&0===o;return l&&(n=(t?" Second":"S")+(t&&r>1?"s ":" "),d+=Math.trunc(r)+n),d}}}]);