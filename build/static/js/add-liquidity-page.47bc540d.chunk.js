(this["webpackJsonp@KyberSwap/interface"]=this["webpackJsonp@KyberSwap/interface"]||[]).push([[6],{"./src/components/LiquidityProviderMode/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/@lingui/react/esm/index.js"),o=(i("./node_modules/react/index.js"),i("./node_modules/styled-components/dist/styled-components.browser.esm.js")),a=i("./src/components/InfoHelper/index.tsx"),s=i("./src/components/PoolList/styled.tsx"),r=i("./src/hooks/useTheme.ts"),d=i("./node_modules/react/jsx-runtime.js"),c=Object(o.default)(s.t).withConfig({displayName:"LiquidityProviderMode__Tab",componentId:"sc-9a8f2b-0"})(["padding:8px;"]);t.a=function(e){var t=e.activeTab,i=e.setActiveTab,o=e.singleTokenInfo,l=Object(r.a)();return Object(d.jsxs)(s.s,{style:{padding:"4px"},children:[Object(d.jsx)(c,{active:0===t,onClick:function(){return i(0)},role:"button",children:Object(d.jsx)(n.b,{id:"Token Pair"})}),Object(d.jsxs)(c,{active:1===t,onClick:function(){return i(1)},role:"button",children:[Object(d.jsx)(n.b,{id:"Single Token"}),Object(d.jsx)(a.a,{text:o,size:12,isActive:1===t,color:1===t?l.text:l.subText})]})]})}},"./src/components/PoolList/styled.tsx":function(e,t,i){"use strict";i.d(t,"o",(function(){return f})),i.d(t,"n",(function(){return v})),i.d(t,"u",(function(){return h})),i.d(t,"h",(function(){return g})),i.d(t,"e",(function(){return O})),i.d(t,"p",(function(){return y})),i.d(t,"b",(function(){return C})),i.d(t,"c",(function(){return _})),i.d(t,"v",(function(){return w})),i.d(t,"A",(function(){return k})),i.d(t,"z",(function(){return R})),i.d(t,"w",(function(){return I})),i.d(t,"a",(function(){return N})),i.d(t,"y",(function(){return S})),i.d(t,"x",(function(){return A})),i.d(t,"g",(function(){return E})),i.d(t,"f",(function(){return T})),i.d(t,"r",(function(){return P})),i.d(t,"k",(function(){return B})),i.d(t,"l",(function(){return U})),i.d(t,"j",(function(){return Y})),i.d(t,"B",(function(){return q})),i.d(t,"C",(function(){return D})),i.d(t,"q",(function(){return M})),i.d(t,"D",(function(){return z})),i.d(t,"E",(function(){return F})),i.d(t,"s",(function(){return L})),i.d(t,"t",(function(){return W})),i.d(t,"m",(function(){return H})),i.d(t,"d",(function(){return G})),i.d(t,"i",(function(){return V}));var n=i("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),o=i("./node_modules/polished/dist/polished.esm.js"),a=i("./node_modules/react/index.js"),s=i.n(a),r=i("./node_modules/prop-types/index.js"),d=i.n(r);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var u=Object(a.forwardRef)((function(e,t){var i=e.color,n=void 0===i?"currentColor":i,o=e.size,a=void 0===o?24:o,r=l(e,["color","size"]);return s.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),s.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),s.a.createElement("circle",{cx:"19",cy:"12",r:"1"}),s.a.createElement("circle",{cx:"5",cy:"12",r:"1"}))}));u.propTypes={color:d.a.string,size:d.a.oneOfType([d.a.string,d.a.number])},u.displayName="MoreHorizontal";var b,p,j=u,m=i("./node_modules/rebass/dist/index.esm.js"),x=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),f=x.default.div.withConfig({displayName:"styled__ListItemGroupContainer",componentId:"sc-jbdaid-0"})(["border-bottom:",";cursor:",";background-color:",";&:hover{",";}"],(function(e){var t=e.theme;return"1px solid ".concat(t.border)}),(function(e){return e.isDisableShowTwoPools?"default":"pointer"}),(function(e){var t=e.theme;return e.isShowExpandedPools?Object(o.d)(t.tableHeader,.6):t.background}),(function(e){var t=e.theme,i=e.isDisableShowTwoPools,n=e.isShowExpandedPools;return!i&&!n&&"background-color: ".concat(t.tableHeader)})),v=x.default.div.withConfig({displayName:"styled__ItemCardGroupContainer",componentId:"sc-jbdaid-1"})(["display:flex;flex-direction:column;gap:20px;margin-bottom:28px;"]),h=x.default.div.withConfig({displayName:"styled__TableRow",componentId:"sc-jbdaid-2"})(["display:grid;grid-gap:1.5rem;grid-template-columns:1.5fr 1.5fr 2fr 0.75fr 1fr 1fr 1fr 1.5fr;padding:24px 16px;font-size:14px;align-items:center;height:fit-content;position:relative;&:after{content:'';position:absolute;bottom:0;right:0;width:86.36%;border-bottom:",";}"],(function(e){var t=e.theme;return e.isShowBorderBottom?"1px solid ".concat(Object(o.d)(t.border,.5)):"none"})),g=(x.default.div.withConfig({displayName:"styled__GridItem",componentId:"sc-jbdaid-3"})(["margin-top:8px;margin-bottom:8px;border-bottom:",";padding-bottom:12px;"],(function(e){var t=e.theme;return e.noBorder?"none":"1px dashed ".concat(t.border)})),x.default.div.withConfig({displayName:"styled__TradeButtonWrapper",componentId:"sc-jbdaid-4"})(["display:flex;justify-content:center;grid-column:1 / span 3;"]),x.default.span.withConfig({displayName:"styled__TradeButtonText",componentId:"sc-jbdaid-5"})(["font-size:14px;"]),x.default.div.withConfig({displayName:"styled__DataTitle",componentId:"sc-jbdaid-6"})(["display:flex;align-items:flex-start;color:",";&:hover{opacity:0.6;}user-select:none;text-transform:uppercase;margin-bottom:4px;"],(function(e){return e.theme.text6})),Object(x.default)(m.b).withConfig({displayName:"styled__DataText",componentId:"sc-jbdaid-7"})(["color:",";flex-direction:column;"],(function(e){return e.theme.text7}))),O=Object(x.default)(m.b).withConfig({displayName:"styled__ButtonWrapper",componentId:"sc-jbdaid-8"})(["justify-content:flex-end;gap:4px;align-items:center;"]),y=(Object(x.default)(j).withConfig({displayName:"styled__StyledMoreHorizontal",componentId:"sc-jbdaid-9"})(["color:",";"],(function(e){return e.theme.text9})),Object(x.default)(m.b).withConfig({displayName:"styled__PoolAddressContainer",componentId:"sc-jbdaid-10"})(["align-items:center;"])),C=(Object(x.default)(g).withConfig({displayName:"styled__APR",componentId:"sc-jbdaid-11"})(["color:",";"],(function(e){return e.theme.apr})),x.default.div.withConfig({displayName:"styled__AddressAndAMPContainer",componentId:"sc-jbdaid-12"})(["display:flex;flex-direction:column;gap:8px;"])),_=x.default.div.withConfig({displayName:"styled__AddressWrapper",componentId:"sc-jbdaid-13"})(["display:flex;align-items:baseline;"]),w=x.default.div.withConfig({displayName:"styled__TextAMP",componentId:"sc-jbdaid-14"})(["font-size:12px;color:",";"],(function(e){return e.theme.subText})),k=x.default.div.withConfig({displayName:"styled__TokenPairContainer",componentId:"sc-jbdaid-15"})(["display:flex;flex-direction:column;gap:8px;"]),R=x.default.div.withConfig({displayName:"styled__TextTokenPair",componentId:"sc-jbdaid-16"})([""]),I=x.default.div.withConfig({displayName:"styled__TextAMPLiquidity",componentId:"sc-jbdaid-17"})([""]),N=x.default.div.withConfig({displayName:"styled__AMPLiquidityAndTVLContainer",componentId:"sc-jbdaid-18"})(["display:flex;flex-direction:column;align-items:flex-end;gap:8px;"]),S=x.default.div.withConfig({displayName:"styled__TextTVL",componentId:"sc-jbdaid-19"})(["font-size:12px;color:",";"],(function(e){return e.theme.subText})),A=x.default.div.withConfig({displayName:"styled__TextShowMorePools",componentId:"sc-jbdaid-20"})(["cursor:pointer;font-size:12px;color:",";grid-column:2 / -1;display:flex;align-items:center;justify-content:center;padding:24px;"," &:hover{","}",""],(function(e){return e.theme.primary}),(function(e){return e.disabled?"opacity: 0.5;":""}),(function(e){return e.disabled?"":"opacity: 0.7;"}),(function(e){return e.theme.mediaWidth.upToMedium(b||(b=Object(n.a)(["\n    padding: 0;\n  "])))})),E=x.default.div.withConfig({displayName:"styled__DashedDivider",componentId:"sc-jbdaid-21"})(["",""],(function(e){var t=e.theme;return"\n    border-bottom: 1px dashed ".concat(t.bg14,";\n  ")})),T=x.default.div.withConfig({displayName:"styled__ChevronContainer",componentId:"sc-jbdaid-22"})(["margin-left:8px;"]),P=x.default.div.withConfig({displayName:"styled__StyledItemCard",componentId:"sc-jbdaid-23"})(["border-radius:20px;display:flex;flex-direction:column;gap:20px;position:relative;min-width:392px;background:",";padding:20px;overflow:hidden;",""],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToMedium(p||(p=Object(n.a)(["\n    min-width: revert;\n    padding: 16px;\n  "])))})),B=x.default.div.withConfig({displayName:"styled__HeaderContainer",componentId:"sc-jbdaid-24"})(["display:grid;grid-template-rows:auto auto;grid-template-columns:1fr auto;gap:4px;"]),U=x.default.div.withConfig({displayName:"styled__HeaderTitle",componentId:"sc-jbdaid-25"})(["font-size:20px;font-weight:500;color:",";grid-column:1 / 1;grid-row:1 / 1;line-height:24px;"],(function(e){return e.theme.text})),Y=x.default.div.withConfig({displayName:"styled__HeaderAMPAndAddress",componentId:"sc-jbdaid-26"})(["display:flex;gap:4px;font-size:12px;font-weight:500;color:",";grid-column:1 / 1;grid-row:2 / 2;line-height:16px;"],(function(e){return e.theme.subText})),q=(x.default.div.withConfig({displayName:"styled__HeaderLogo",componentId:"sc-jbdaid-27"})(["grid-column:2 / 2;grid-row:1 / -1;margin-right:-8px;display:flex;align-items:center;"]),x.default.div.withConfig({displayName:"styled__TokenRatioContainer",componentId:"sc-jbdaid-28"})(["background:",";position:relative;overflow:hidden;padding:4px;border-radius:999px;"],(function(e){return e.theme.tabBackgound}))),D=x.default.div.withConfig({displayName:"styled__TokenRatioGrid",componentId:"sc-jbdaid-29"})(["padding:4px;display:grid;grid-template-columns:auto 1fr 1fr auto;grid-template-rows:1fr;gap:8px;isolation:isolate;"]),M=x.default.div.withConfig({displayName:"styled__Progress",componentId:"sc-jbdaid-30"})(["position:absolute;top:4px;left:4px;bottom:4px;width:",";background:",";border-top-left-radius:999px;border-bottom-left-radius:999px;"],(function(e){return e.value+"%"}),(function(e){return e.theme.tabActive})),z=x.default.div.withConfig({displayName:"styled__TokenRatioName",componentId:"sc-jbdaid-31"})(["font-size:14px;font-weight:500;"]),F=x.default.div.withConfig({displayName:"styled__TokenRatioPercent",componentId:"sc-jbdaid-32"})(["font-size:12px;font-weight:500;color:",";"],(function(e){return e.theme.subText})),L=x.default.div.withConfig({displayName:"styled__TabContainer",componentId:"sc-jbdaid-33"})(["width:100%;background:",";border-radius:20px;display:flex;padding:2px;cursor:pointer;"],(function(e){return e.theme.tabBackgound})),W=x.default.div.withConfig({displayName:"styled__TabItem",componentId:"sc-jbdaid-34"})(["font-size:12px;font-weight:500;color:",";background:",";display:flex;justify-content:center;align-items:center;padding:6px;border-radius:20px;flex-grow:1;flex-basis:0;transition:color 300ms;"],(function(e){var t=e.theme;return e.active?t.text:t.subText}),(function(e){var t=e.theme;return e.active?t.tabActive:"transparent"})),H=x.default.div.withConfig({displayName:"styled__InformationContainer",componentId:"sc-jbdaid-35"})(["display:flex;flex-direction:column;gap:8px;"]),G=x.default.div.withConfig({displayName:"styled__ButtonGroupContainer",componentId:"sc-jbdaid-36"})(["display:flex;gap:16px;> *{flex:1;}"]),V=x.default.div.withConfig({displayName:"styled__FooterContainer",componentId:"sc-jbdaid-37"})(["display:flex;justify-content:space-between;"])},"./src/components/ZapError/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/polished/dist/polished.esm.js"),o=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),a=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=i("./src/hooks/useTheme.ts"),r=i("./node_modules/react/jsx-runtime.js"),d=a.default.div.withConfig({displayName:"ZapError__ZapErrorWrapper",componentId:"sc-fla1eq-0"})(["display:flex;align-items:center;gap:8px;background:",";padding:1rem;border-radius:999px;margin-bottom:28px;color:",";font-size:12px;font-weight:400;"],(function(e){var t=e.theme,i=e.warning;return Object(n.d)(i?t.warning:t.red,.35)}),(function(e){return e.theme.text}));t.a=function(e){var t=e.message,i=e.warning,n=Object(s.a)();return Object(r.jsxs)(d,{warning:i,children:[Object(r.jsx)(o.a,{color:i?n.warning:n.red,style:{strokeWidth:1.5},size:16}),t]})}},"./src/hooks/useProAmmPositions.ts":function(e,t,i){"use strict";i.d(t,"b",(function(){return m})),i.d(t,"a",(function(){return x}));var n=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=i("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),a=i("./node_modules/@ethersproject/address/lib.esm/index.js"),s=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),r=i("./node_modules/@ethersproject/solidity/lib.esm/index.js"),d=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),c=i("./node_modules/react/index.js"),l=i("./src/constants/networks.ts"),u=i("./src/hooks/index.ts"),b=i("./src/state/multicall/hooks.ts"),p=i("./src/hooks/useContract.ts");function j(e){var t=Object(p.o)(),i=Object(u.b)().chainId,s=Object(c.useMemo)((function(){return e?e.map((function(e){return[e]})):[]}),[e]),j=Object(b.d)(t,"positions",s),m=Object(c.useMemo)((function(){return j.some((function(e){return e.loading}))}),[j]),x=Object(c.useMemo)((function(){return j.some((function(e){return e.error}))}),[j]),f=Object(c.useMemo)((function(){if(!m&&!x&&e)return j.map((function(t,n){var s=e[n],c=t.result;return{tokenId:s,poolId:Object(a.getCreate2Address)(l.b[i||d.ChainId.MAINNET].elastic.coreFactory,Object(r.keccak256)(["bytes"],[o.b.encode(["address","address","uint24"],[c.info.token0,c.info.token1,c.info.fee])]),l.b[i||d.ChainId.MAINNET].elastic.initCodeHash),feeGrowthInsideLast:c.pos.feeGrowthInsideLast,nonce:c.pos.nonce,liquidity:c.pos.liquidity,operator:c.pos.operator,tickLower:c.pos.tickLower,tickUpper:c.pos.tickUpper,rTokenOwed:c.pos.rTokenOwed,fee:c.info.fee,token0:c.info.token0,token1:c.info.token1}}))}),[m,x,j,e,i]);return Object(c.useMemo)((function(){return{loading:m,positions:null===f||void 0===f?void 0:f.map((function(e,t){return Object(n.a)(Object(n.a)({},e),{},{tokenId:s[t][0]})}))}}),[m,f,s])}function m(e){var t,i=j(e?[e]:void 0);return{loading:i.loading,position:null===(t=i.positions)||void 0===t?void 0:t[0]}}function x(e){var t,i=Object(p.o)(),n=Object(b.c)(i,"balanceOf",[null!==e&&void 0!==e?e:void 0]),o=n.loading,a=n.result,r=null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.toNumber(),d=Object(c.useMemo)((function(){if(r&&e){for(var t=[],i=0;i<r;i++)t.push([e,i]);return t}return[]}),[e,r]),l=Object(b.d)(i,"tokenOfOwnerByIndex",d),u=Object(c.useMemo)((function(){return l.some((function(e){return e.loading}))}),[l]),m=j(Object(c.useMemo)((function(){return e?l.map((function(e){return e.result})).filter((function(e){return!!e})).map((function(e){return s.a.from(e[0])})):[]}),[e,l])),x=m.positions,f=m.loading;return Object(c.useMemo)((function(){return{loading:u||o||f,positions:x}}),[u,o,f,x])}},"./src/pages/AddLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return pe}));var n=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=i("./node_modules/@lingui/react/esm/index.js"),a=i("./node_modules/@lingui/core/esm/index.js"),s=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),r=i("./node_modules/jsbi/dist/jsbi-umd.js"),d=i.n(r),c=i("./node_modules/react/index.js"),l=i("./src/components/LiquidityProviderMode/index.tsx"),u=i("./src/components/NavigationTabs/index.tsx"),b=i("./src/components/PositionCard/index.tsx"),p=i("./src/components/Tutorial/index.tsx"),j=i("./src/data/Reserves.ts"),m=i("./src/hooks/index.ts"),x=i("./src/hooks/Tokens.ts"),f=i("./src/hooks/useMixpanel.ts"),v=i("./src/state/mint/hooks.ts"),h=i("./src/utils/dmm.ts"),g=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),O=i("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),y=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),C=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_=i("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),w=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),k=i("./node_modules/@sentry/hub/esm/exports.js"),R=i("./node_modules/ethers/lib/utils.js"),I=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),N=i("./node_modules/react-router/esm/react-router.js"),S=i("./node_modules/rebass/dist/index.esm.js"),A=i("./src/components/ConfirmAddModalBottom/index.tsx"),E=i("./src/components/CurrentPrice/index.tsx"),T=i("./src/components/Loader/index.tsx"),P=i("./src/components/PoolPriceBar/index.tsx"),B=i("./src/components/QuestionHelper/index.tsx"),U=i("./src/constants/networks.ts"),Y=i("./src/constants/tokens.ts"),q=i("./src/hooks/useTheme.ts"),D=i("./src/hooks/useTokensMarketPrice.ts"),M=i("./src/utils/isZero.ts"),z=i("./src/components/Button/index.tsx"),F=i("./src/components/Column/index.tsx"),L=i("./src/components/CurrencyInputPanel/index.tsx"),W=i("./src/components/Row/index.tsx"),H=i("./src/components/TransactionConfirmationModal/index.tsx"),G=i("./src/constants/index.ts"),V=i("./src/hooks/useApproveCallback.ts"),Z=i("./src/hooks/useTransactionDeadline.ts"),Q=i("./src/state/application/hooks.ts"),J=i("./src/state/mint/actions.ts"),K=i("./src/state/transactions/hooks.tsx"),X=i("./src/state/user/hooks.tsx"),$=i("./src/theme/index.tsx"),ee=i("./src/utils/index.ts"),te=i("./src/utils/maxAmountSpend.ts"),ie=i("./src/pages/Pool/styleds.tsx"),ne=i("./src/pages/AddLiquidity/styled.tsx"),oe=i("./node_modules/react/jsx-runtime.js"),ae=function(e){var t,i,r,l,u,b,p,f=e.currencyIdA,ae=e.currencyIdB,se=e.pairAddress,re=Object(m.b)(),de=re.account,ce=re.chainId,le=re.library,ue=Object(q.a)(),be=Object(x.b)(f),pe=Object(x.b)(ae),je=!!(ce&&be&&be.isNative),me=!!(ce&&be&&be.equals(s.WETH[ce])),xe=!!(ce&&pe&&pe.isNative),fe=!!(ce&&pe&&pe.equals(s.WETH[ce])),ve=Object(Q.w)(),he=Object(X.e)(),ge=Object(v.d)(),Oe=ge.independentField,ye=ge.typedValue,Ce=ge.otherTypedValue,_e=Object(v.a)(null!==be&&void 0!==be?be:void 0,null!==pe&&void 0!==pe?pe:void 0,se),we=_e.dependentField,ke=_e.currencies,Re=_e.pair,Ie=_e.pairState,Ne=_e.currencyBalances,Se=_e.parsedAmounts,Ae=_e.price,Ee=_e.noLiquidity,Te=_e.liquidityMinted,Pe=_e.poolTokenPercentage,Be=_e.error,Ue=_e.unAmplifiedPairAddress,Ye=_e.isStaticFeePair,qe=_e.isOldStaticFeeContract,De=Object(h.j)(ke[J.a.CURRENCY_A]),Me=Object(h.j)(ke[J.a.CURRENCY_B]),ze=(null===Re||void 0===Re?void 0:Re.amp)||d.a.BigInt(0),Fe=ze.toString()?new s.Fraction(d.a.BigInt(Object(R.parseUnits)(ze.toString()||"1",20)),d.a.BigInt(Object(R.parseUnits)("1",16))):void 0,Le=!!Fe&&Fe.equalTo(d.a.BigInt(1e4))&&!!Ue&&!Object(M.a)(Ue),We=Object(v.c)(Ee),He=We.onFieldAInput,Ge=We.onFieldBInput,Ve=!Be,Ze=Object(c.useState)(!1),Qe=Object(n.a)(Ze,2),Je=Qe[0],Ke=Qe[1],Xe=Object(c.useState)(!1),$e=Object(n.a)(Xe,2),et=$e[0],tt=$e[1],it=Object(Z.a)(),nt=Object(X.x)(),ot=Object(n.a)(nt,1)[0],at=Object(c.useState)(""),st=Object(n.a)(at,2),rt=st[0],dt=st[1],ct=Object(c.useState)(""),lt=Object(n.a)(ct,2),ut=lt[0],bt=lt[1],pt=(r={},Object(_.a)(r,Oe,ye),Object(_.a)(r,we,Ee?Ce:null!==(t=null===(i=Se[we])||void 0===i?void 0:i.toSignificant(6))&&void 0!==t?t:""),r),jt=[J.a.CURRENCY_A,J.a.CURRENCY_B].reduce((function(e,t){return Object(C.a)(Object(C.a)({},e),{},Object(_.a)({},t,Object(te.a)(Ne[t])))}),{}),mt=ce?Ye?qe?null===(l=U.b[ce].classic.oldStatic)||void 0===l?void 0:l.router:U.b[ce].classic.static.router:null===(u=U.b[ce].classic.dynamic)||void 0===u?void 0:u.router:void 0,xt=Object(V.b)(Se[J.a.CURRENCY_A],mt||void 0),ft=Object(n.a)(xt,2),vt=ft[0],ht=ft[1],gt=Object(V.b)(Se[J.a.CURRENCY_B],mt||void 0),Ot=Object(n.a)(gt,2),yt=Ot[0],Ct=Ot[1],_t=Object(K.e)(),wt=Object(X.g)();function kt(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(y.a)(Object(g.a)().mark((function e(){var t,i,n,o,r,c,l,u,b,p,j,m,x,f,v,h,y,R,I,N,S,A,E,T;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce&&le&&de){e.next=2;break}return e.abrupt("return");case 2:if(i=Ye?qe?Object(ee.s)(ce,le,de):Object(ee.v)(ce,le,de):Object(ee.p)(ce,le,de),n=Se[J.a.CURRENCY_A],o=Se[J.a.CURRENCY_B],n&&o&&be&&pe&&it){e.next=6;break}return e.abrupt("return");case 6:if(t={},Object(_.a)(t,J.a.CURRENCY_A,Object(ee.c)(n,Ee?0:ot)[0]),Object(_.a)(t,J.a.CURRENCY_B,Object(ee.c)(o,Ee?0:ot)[0]),r=t,Re){e.next=9;break}return e.abrupt("return");case 9:return be.isNative||pe.isNative?(m=pe.isNative,x=Re.virtualReserveOf(m?null===be||void 0===be?void 0:be.wrapped:null===pe||void 0===pe?void 0:pe.wrapped),f=Re.virtualReserveOf(m?null===pe||void 0===pe?void 0:pe.wrapped:null===be||void 0===be?void 0:be.wrapped),v=d.a.divide(d.a.multiply(f.quotient,d.a.exponentiate(d.a.BigInt(2),d.a.BigInt(112))),x.quotient),h=d.a.divide(d.a.multiply(v,d.a.BigInt(ot)),d.a.BigInt(1e4)),y=[d.a.subtract(v,h).toString(),d.a.add(v,h).toString()],c=i.estimateGas.addLiquidityETH,l=i.addLiquidityETH,u=[null!==(p=null===(j=m?null===be||void 0===be?void 0:be.wrapped:null===pe||void 0===pe?void 0:pe.wrapped)||void 0===j?void 0:j.address)&&void 0!==p?p:"",Re.address,(m?n:o).quotient.toString(),r[m?J.a.CURRENCY_A:J.a.CURRENCY_B].toString(),r[m?J.a.CURRENCY_B:J.a.CURRENCY_A].toString(),y,de,it.toHexString()],b=w.a.from((m?o:n).quotient.toString())):(N=Re.virtualReserveOf(null===be||void 0===be?void 0:be.wrapped),S=Re.virtualReserveOf(null===pe||void 0===pe?void 0:pe.wrapped),A=d.a.divide(d.a.multiply(S.quotient,d.a.exponentiate(d.a.BigInt(2),d.a.BigInt(112))),N.quotient),E=d.a.divide(d.a.multiply(A,d.a.BigInt(ot)),d.a.BigInt(1e4)),T=[d.a.subtract(A,E).toString(),d.a.add(A,E).toString()],c=i.estimateGas.addLiquidity,l=i.addLiquidity,u=[null!==(R=null===be||void 0===be?void 0:be.wrapped.address)&&void 0!==R?R:"",null!==(I=null===pe||void 0===pe?void 0:pe.wrapped.address)&&void 0!==I?I:"",Re.address,n.quotient.toString(),o.quotient.toString(),r[J.a.CURRENCY_A].toString(),r[J.a.CURRENCY_B].toString(),T,de,it.toHexString()],b=null),tt(!0),e.next=13,c.apply(void 0,Object(O.a)(u).concat([b?{value:b}:{}])).then((function(e){return l.apply(void 0,Object(O.a)(u).concat([Object(C.a)(Object(C.a)({},b?{value:b}:{}),{},{gasLimit:Object(ee.b)(e)})])).then((function(e){var t=ke[J.a.CURRENCY_A],i=ke[J.a.CURRENCY_B];if(t&&i){var n,o;tt(!1),_t(e,{type:"Add liquidity",summary:(null===(n=Se[J.a.CURRENCY_A])||void 0===n?void 0:n.toSignificant(6))+" "+t.symbol+" and "+(null===(o=Se[J.a.CURRENCY_B])||void 0===o?void 0:o.toSignificant(6))+" "+i.symbol,arbitrary:{poolAddress:se,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"token pair",amp:new s.Fraction(ze).divide(d.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}),dt(e.hash);var a=t.wrapped,r=i.wrapped;a&&r&&wt(a,r)}}))})).catch((function(e){tt(!1);var t=new Error("Classic: Add liquidity Error",{cause:e});t.name="AddLiquidityError",Object(k.a)(t,{extra:{args:u}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT")?bt(a.a._("Insufficient liquidity available. Please reload page and try again!")):bt(null===e||void 0===e?void 0:e.message)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It="Supplying ".concat(null===(b=Se[J.a.CURRENCY_A])||void 0===b?void 0:b.toSignificant(6)," ").concat(null===De||void 0===De?void 0:De.symbol," and ").concat(null===(p=Se[J.a.CURRENCY_B])||void 0===p?void 0:p.toSignificant(6)," ").concat(null===Me||void 0===Me?void 0:Me.symbol),Nt=Object(c.useCallback)((function(){Ke(!1),rt&&He(""),dt(""),bt("")}),[He,rt]),St=Re?Re.reserve0.asFraction.divide(Re.virtualReserve0).multiply("100").divide(Re.reserve0.divide(Re.virtualReserve0).asFraction.add(Re.reserve1.divide(Re.virtualReserve1).asFraction)):new s.Fraction(d.a.BigInt(50)),At=new s.Fraction(d.a.BigInt(100),d.a.BigInt(1)).subtract(St),Et=St.toSignificant(4),Tt=At.toSignificant(4),Pt=Object(c.useMemo)((function(){return[ke[J.a.CURRENCY_A],ke[J.a.CURRENCY_B]].map((function(e){return null===e||void 0===e?void 0:e.wrapped}))}),[ke]),Bt=Object(Q.s)(Pt),Ut=Object(D.a)(Pt),Yt=Se[J.a.CURRENCY_A]&&Bt[0]?parseFloat(Se[J.a.CURRENCY_A].toSignificant(6))*Bt[0]:0,qt=Se[J.a.CURRENCY_B]&&Bt[1]?parseFloat(Se[J.a.CURRENCY_B].toSignificant(6))*Bt[1]:0,Dt=Number(null===Ae||void 0===Ae?void 0:Ae.toSignificant(6)),Mt=Ut[1]&&Ut[0]/Ut[1],zt=!!(Dt&&Mt&&Math.abs(Dt-Mt)/Mt>.05),Ft=Object(N.g)(),Lt=function(){return Object(oe.jsxs)(F.a,{gap:"5px",children:[Object(oe.jsx)(W.d,{style:{marginTop:"20px"},children:Object(oe.jsx)(S.d,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Te||void 0===Te?void 0:Te.toSignificant(6)})}),Object(oe.jsx)(W.e,{children:Object(oe.jsx)(S.d,{fontSize:"24px",children:"DMM "+(null===De||void 0===De?void 0:De.symbol)+"/"+(null===Me||void 0===Me?void 0:Me.symbol)+" LP Tokens"})}),Object(oe.jsx)($.l.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:a.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:ot/100})})]})},Wt=function(){return Object(oe.jsx)(A.a,{pair:Re,price:Ae,currencies:ke,parsedAmounts:Se,noLiquidity:!1,onAdd:kt,poolTokenPercentage:Pe,amplification:Fe,estimatedUsd:[Yt,qt]})};return Object(oe.jsxs)(ie.c,{children:[Object(oe.jsx)(H.c,{isOpen:Je,onDismiss:Nt,attemptingTxn:et,hash:rt,content:function(){return ut?Object(oe.jsx)(H.b,{onDismiss:Nt,message:ut}):Le?Object(oe.jsx)(H.a,{title:a.a._("Unamplified Pool existed"),onDismiss:Nt,topContent:function(){return null},bottomContent:function(){return Object(oe.jsxs)(oe.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(oe.jsx)($.k,{onClick:Nt,id:"unamplified-pool-link",to:"/add/".concat(f,"/").concat(ae,"/").concat(Ue),children:"Go to unamplified pool"})]})}}):Object(oe.jsx)(H.a,{title:a.a._("You will receive"),onDismiss:Nt,topContent:Lt,bottomContent:Wt})},pendingText:It}),Object(oe.jsx)(F.a,{gap:"20px",children:Object(oe.jsxs)(ne.g,{children:[Object(oe.jsxs)(ne.f,{children:[Object(oe.jsxs)("div",{children:[Object(oe.jsx)(L.g,{value:pt[J.a.CURRENCY_A],onUserInput:He,onMax:function(){var e,t;He(null!==(e=null===(t=jt[J.a.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:function(){var e,t;He(null!==(e=null===(t=Ne[J.a.CURRENCY_A])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},showMaxButton:!0,currency:ke[J.a.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(ee.h)(Yt.toString(),!0)||void 0,disableCurrencySelect:!me&&!je,isSwitchMode:me||je,onSwitchCurrency:function(){ce&&Ft.replace("/add/".concat(je?s.WETH[ce].address:Object(Y.b)(ce).symbol,"/").concat(ae,"/").concat(se))}}),Object(oe.jsx)(S.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:Object(oe.jsx)(ne.p,{children:Bt[0]?"1 ".concat(null===De||void 0===De?void 0:De.symbol," = ").concat(Object(ee.h)(Bt[0].toString(),!0)):Object(oe.jsx)(T.a,{})})})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(L.g,{value:pt[J.a.CURRENCY_B],onUserInput:Ge,onMax:function(){var e,t;Ge(null!==(e=null===(t=jt[J.a.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:function(){var e,t,i;Ge(null!==(e=null===(t=Ne[J.a.CURRENCY_B])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},showMaxButton:!0,currency:ke[J.a.CURRENCY_B],disableCurrencySelect:!0,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(ee.h)(qt.toString(),!0)||void 0}),Object(oe.jsxs)(S.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(oe.jsx)(ne.p,{children:Bt[1]?"1 ".concat(null===Me||void 0===Me?void 0:Me.symbol," = ").concat(Object(ee.h)(Bt[1].toString(),!0)):Object(oe.jsx)(T.a,{})}),se&&ce&&(fe||xe)&&Object(oe.jsx)($.k,{replace:!0,to:"/add/".concat(f,"/").concat(xe?s.WETH[ce].address:Object(Y.b)(ce).symbol,"/").concat(se),children:xe?Object(oe.jsx)(o.b,{id:"Use Wrapped Token"}):Object(oe.jsx)(o.b,{id:"Use Native Token"})})]})]}),ke[Oe]&&ke[we]&&Ie!==j.a.INVALID&&Object(oe.jsx)(ne.m,{padding:"0",marginTop:"8px",style:{marginTop:"8px"},children:Object(oe.jsx)(P.a,{currencies:ke,poolTokenPercentage:Pe,noLiquidity:Ee,price:Ae,pair:Re})})]}),Object(oe.jsxs)(ne.l,{children:[ke[Oe]&&ke[we]&&Ie!==j.a.INVALID&&Object(oe.jsx)(ne.m,{borderRadius:"20px",marginBottom:"24px",children:Object(oe.jsxs)(P.d,{title:a.a._("Pool Information"),children:[Object(oe.jsxs)(W.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ue.border),gap:"1rem"},children:[!Ee&&Object(oe.jsxs)(ne.c,{children:[Object(oe.jsx)($.l.subHeader,{fontWeight:500,fontSize:12,color:ue.subText,children:Object(oe.jsx)($.n,{children:Object(oe.jsx)(o.b,{id:"Current Price"})})}),Object(oe.jsx)($.l.black,{fontWeight:400,fontSize:14,color:ue.text,children:Object(oe.jsx)(E.a,{price:Ae})})]}),Object(oe.jsxs)(ne.k,{children:[Object(oe.jsx)($.l.subHeader,{fontWeight:500,fontSize:12,color:ue.subText,children:Object(oe.jsx)($.n,{children:Object(oe.jsx)(o.b,{id:"Pool Ratio"})})}),Object(oe.jsxs)($.l.black,{fontWeight:400,fontSize:14,color:ue.text,children:[Et,"% ",null===Re||void 0===Re?void 0:Re.token0.symbol," - ",Tt,"% ",null===Re||void 0===Re?void 0:Re.token1.symbol]})]})]}),Object(oe.jsxs)(W.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ue.border),gap:"1rem"},children:[Object(oe.jsxs)(F.a,{style:{flex:"1"},children:[Object(oe.jsxs)(W.a,{children:[Object(oe.jsx)(S.d,{fontWeight:500,fontSize:12,color:ue.subText,children:"AMP"}),Object(oe.jsx)(B.a,{text:G.g})]}),Object(oe.jsx)(S.d,{fontWeight:400,fontSize:14,color:ue.text,children:Re?Object(oe.jsx)(oe.Fragment,{children:new s.Fraction(d.a.BigInt(Re.amp)).divide(d.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!se||+ze>=1)&&Object(oe.jsxs)(ne.e,{children:[Object(oe.jsxs)(W.a,{children:[Object(oe.jsx)(S.d,{fontWeight:500,fontSize:12,color:ue.subText,children:Object(oe.jsx)($.n,{children:Ye||!Re?Object(oe.jsx)(o.b,{id:"Fee"}):Object(oe.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(oe.jsx)(B.a,{text:Ye||!Re?a.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):a.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(oe.jsx)(S.d,{fontWeight:400,fontSize:14,color:ue.text,children:Re?Ye&&null!==Re&&void 0!==Re&&Re.fee?100*+new s.Fraction(d.a.BigInt(Re.fee)).divide(d.a.exponentiate(d.a.BigInt(10),d.a.BigInt(18))).toSignificant(6)+"%":Object(h.b)(null!==Re&&void 0!==Re&&Re.amp?+new s.Fraction(d.a.BigInt(Re.amp)).divide(d.a.BigInt(1e4)).toSignificant(5):+ze):""})]})]}),ke[Oe]&&ke[we]&&(!!se||+ze>=1)&&Object(oe.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(oe.jsxs)(W.a,{marginBottom:"8px",children:[Object(oe.jsx)($.n,{children:Object(oe.jsx)(ne.a,{children:"Active Price Range"})}),Object(oe.jsx)(B.a,{text:a.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(oe.jsx)(P.b,{currencies:ke,price:Ae,pair:Re,amplification:Fe})]})]})}),zt&&Object(oe.jsxs)(ne.q,{children:[Object(oe.jsx)(I.a,{color:ue.yellow2}),Object(oe.jsx)(S.d,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(oe.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),de?Object(oe.jsxs)(F.a,{gap:"md",children:[(vt===V.a.NOT_APPROVED||vt===V.a.PENDING||yt===V.a.NOT_APPROVED||yt===V.a.PENDING)&&Ve&&Object(oe.jsxs)(W.b,{children:[vt!==V.a.APPROVED&&Object(oe.jsx)(z.h,{onClick:ht,disabled:vt===V.a.PENDING,width:yt!==V.a.APPROVED?"48%":"100%",children:vt===V.a.PENDING?Object(oe.jsxs)(ie.b,{children:["Approving ",null===De||void 0===De?void 0:De.symbol]}):"Approve "+(null===De||void 0===De?void 0:De.symbol)}),yt!==V.a.APPROVED&&Object(oe.jsx)(z.h,{onClick:Ct,disabled:yt===V.a.PENDING,width:vt!==V.a.APPROVED?"48%":"100%",children:yt===V.a.PENDING?Object(oe.jsxs)(ie.b,{children:["Approving ",null===Me||void 0===Me?void 0:Me.symbol]}):"Approve "+(null===Me||void 0===Me?void 0:Me.symbol)})]}),Object(oe.jsx)(z.d,{onClick:function(){he?kt():Ke(!0)},disabled:!Ve||vt!==V.a.APPROVED||yt!==V.a.APPROVED,error:!Ve&&!!Se[J.a.CURRENCY_A]&&!!Se[J.a.CURRENCY_B]&&!!(se&&+ze<1),children:Object(oe.jsx)(S.d,{fontSize:20,fontWeight:500,children:null!==Be&&void 0!==Be?Be:!se&&+ze<1?a.a._("Enter amp (>=1)"):a.a._("Supply")})})]}):Object(oe.jsx)(z.f,{onClick:ve,children:Object(oe.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})},se=i("./src/components/CurrencyLogo/index.tsx"),re=i("./src/components/ZapError/index.tsx"),de=i("./src/components/swap/FormattedPriceImpact.tsx"),ce=i("./src/state/swap/hooks.ts"),le=i("./src/utils/currencyId.ts"),ue=i("./src/utils/prices.ts"),be=function(e){var t,i,r,l,u,b,p,f,N,ae=e.currencyIdA,be=e.currencyIdB,pe=e.pairAddress,je=Object(m.b)(),me=je.account,xe=je.library,fe=je.chainId,ve=Object(q.a)(),he=Object(x.b)(ae),ge=Object(x.b)(be),Oe=Object(Q.w)(),ye=Object(c.useState)(""),Ce=Object(n.a)(ye,2),_e=Ce[0],we=Ce[1],ke=Object(X.e)(),Re=Object(v.d)(),Ie=Re.independentField,Ne=Re.typedValue,Se=Re.otherTypedValue,Ae=Object(v.b)(null!==he&&void 0!==he?he:void 0,null!==ge&&void 0!==ge?ge:void 0,pe),Ee=Ae.dependentField,Te=Ae.currencies,Pe=Ae.pair,Be=Ae.pairState,Ue=Ae.currencyBalances,Ye=Ae.parsedAmounts,qe=Ae.price,De=Ae.noLiquidity,Me=Ae.liquidityMinted,ze=Ae.poolTokenPercentage,Fe=Ae.insufficientLiquidity,Le=Ae.error,We=Ae.unAmplifiedPairAddress,He=Ae.isStaticFeePair,Ge=Ae.isOldStaticFeeContract,Ve=Object(h.j)(Te[J.a.CURRENCY_A]),Ze=Object(h.j)(Te[J.a.CURRENCY_B]),Qe=Ve&&Ze?Ie===J.a.CURRENCY_A?Ve:Ze:void 0,Je=Ve&&Ze?Ie===J.a.CURRENCY_A?Ze:Ve:void 0,Ke=!!(fe&&Te[Ie]&&null!==(t=Te[Ie])&&void 0!==t&&t.isNative),Xe=!!(fe&&Te[Ie]&&null!==(i=Te[Ie])&&void 0!==i&&i.equals(s.WETH[fe])),$e=(null===Pe||void 0===Pe?void 0:Pe.amp)||d.a.BigInt(0),et=$e.toString()?new s.Fraction(d.a.BigInt(Object(R.parseUnits)($e.toString()||"1",20)),d.a.BigInt(Object(R.parseUnits)("1",16))):void 0,tt=!!et&&et.equalTo(d.a.BigInt(1e4))&&!!We&&!Object(M.a)(We),it=Object(v.e)(),nt=it.onFieldInput,ot=it.onSwitchField,at=!Le&&!Fe,st=Object(c.useState)(!1),rt=Object(n.a)(st,2),dt=rt[0],ct=rt[1],lt=Object(c.useState)(!1),ut=Object(n.a)(lt,2),bt=ut[0],pt=ut[1],jt=Object(Z.a)(),mt=Object(X.x)(),xt=Object(n.a)(mt,1)[0],ft=Object(c.useState)(""),vt=Object(n.a)(ft,2),ht=vt[0],gt=vt[1],Ot=(u={},Object(_.a)(u,Ie,Ne),Object(_.a)(u,Ee,De?Se:null!==(r=null===(l=Ye[Ee])||void 0===l?void 0:l.toSignificant(6))&&void 0!==r?r:""),u),yt=[J.a.CURRENCY_A,J.a.CURRENCY_B].reduce((function(e,t){return Object(C.a)(Object(C.a)({},e),{},Object(_.a)({},t,Object(te.a)(Ue[t])))}),{}),Ct=Object(ce.a)(Ne,Te[Ie]),_t=Object(V.b)(Ct,fe?He?Ge?null===(b=U.b[fe].classic.oldStatic)||void 0===b?void 0:b.zap:U.b[fe].classic.static.zap:null===(p=U.b[fe].classic.dynamic)||void 0===p?void 0:p.zap:void 0),wt=Object(n.a)(_t,2),kt=wt[0],Rt=wt[1],It=Object(c.useMemo)((function(){var e;return Object(ce.a)(Ne,null===(e=Te[Ie])||void 0===e?void 0:e.wrapped,!0)}),[Te,Ie,Ne]),Nt=Object(c.useMemo)((function(){return It?w.a.from(It.quotient.toString()):void 0}),[It]),St=Me?d.a.divide(d.a.multiply(null===Me||void 0===Me?void 0:Me.quotient,d.a.BigInt(1e4-xt)),d.a.BigInt(1e4)):d.a.BigInt(0),At=Object(K.e)();function Et(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(y.a)(Object(g.a)().mark((function e(){var t,i,n,o,r,c,l,u,b,p,j,m;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe&&xe&&me){e.next=2;break}return e.abrupt("return");case 2:if(o=Object(ee.y)(fe,xe,me,He,Ge),fe&&me){e.next=5;break}return e.abrupt("return");case 5:if(r=null===(t=Te[Ie])||void 0===t?void 0:t.wrapped,c=null===(i=Te[Ee])||void 0===i?void 0:i.wrapped,Pe&&Pe.address&&jt&&r&&c&&Nt){e.next=9;break}return e.abrupt("return");case 9:if(l=Ye[J.a.CURRENCY_A],u=Ye[J.a.CURRENCY_B],l&&u&&he&&ge&&jt){e.next=12;break}return e.abrupt("return");case 12:if(Pe){e.next=14;break}return e.abrupt("return");case 14:return null!==(n=Te[Ie])&&void 0!==n&&n.isNative?(b=o.estimateGas.zapInEth,p=o.zapInEth,j=[c.address,Pe.address,me,St.toString(),jt.toHexString()],m=Nt):(b=o.estimateGas.zapIn,p=o.zapIn,j=[r.address,c.address,Nt.toString(),Pe.address,me,St.toString(),jt.toHexString()],m=null),He&&!Ge&&j.unshift(U.b[fe].classic.static.factory),pt(!0),e.next=19,b.apply(void 0,Object(O.a)(j).concat([m?{value:m}:{}])).then((function(e){return p.apply(void 0,Object(O.a)(j).concat([Object(C.a)(Object(C.a)({},m?{value:m}:{}),{},{gasLimit:Object(ee.b)(e)})])).then((function(e){var t=Te[J.a.CURRENCY_A],i=Te[J.a.CURRENCY_B];t&&i&&(pt(!1),At(e,{type:"Add liquidity",summary:(null===It||void 0===It?void 0:It.toSignificant(6))+" "+(null===Qe||void 0===Qe?void 0:Qe.symbol),arbitrary:{poolAddress:pe,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"single token",amp:new s.Fraction($e).divide(d.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}),gt(e.hash))}))})).catch((function(e){pt(!1);var t=new Error("Classic: ZapIn liquidity Error",{cause:e});t.name="ZapError",Object(k.a)(t,{extra:{args:j}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT_MINT_QTY")?we(a.a._("Insufficient liquidity available. Please reload page and try again!")):we(null===e||void 0===e?void 0:e.message)}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pt="Supplying ".concat(null===It||void 0===It?void 0:It.toSignificant(6)," ").concat(null===Qe||void 0===Qe?void 0:Qe.symbol),Bt=Object(c.useCallback)((function(){ct(!1),ht&&nt(""),we(""),gt("")}),[nt,ht]),Ut=Pe?Pe.reserve0.asFraction.divide(Pe.virtualReserve0).multiply("100").divide(Pe.reserve0.divide(Pe.virtualReserve0).asFraction.add(Pe.reserve1.divide(Pe.virtualReserve1).asFraction)):new s.Fraction(d.a.BigInt(50)),Yt=new s.Fraction(d.a.BigInt(100),d.a.BigInt(1)).subtract(Ut),qt=Ut.toSignificant(4),Dt=Yt.toSignificant(4),Mt=Object(c.useMemo)((function(){return[Te[Ie],Te[Ee]].map((function(e){return null===e||void 0===e?void 0:e.wrapped}))}),[Te,Ee,Ie]),zt=Object(Q.s)(Mt),Ft=Object(D.a)(Mt),Lt=Ie===J.a.CURRENCY_A?Number(null===qe||void 0===qe?void 0:qe.toSignificant(6)):Number(null===qe||void 0===qe?void 0:qe.invert().toSignificant(6)),Wt=Ft[1]&&Ft[0]/Ft[1],Ht=!!(Lt&&Wt&&Math.abs(Lt-Wt)/Wt>.05),Gt=Object(c.useCallback)((function(){ot()}),[ot]),Vt=It&&zt[0]?parseFloat(It.toSignificant(6))*zt[0]:0,Zt=zt[0]&&Ye&&Ye[Ie]&&zt[0]*parseFloat(Ye[Ie].toSignificant(6)),Qt=zt[1]&&Ye&&Ye[Ee]&&zt[1]*parseFloat(Ye[Ee].toSignificant(6)),Jt=Ie===J.a.CURRENCY_A?[Zt||0,Qt||0]:[Qt||0,Zt||0],Kt=qe&&It&&Ye[Ie]&&Ye[Ee]&&!It.lessThan(Ye[Ie])?Object(s.computePriceImpact)(Ie===J.a.CURRENCY_A?qe:qe.invert(),null===It||void 0===It?void 0:It.subtract(Ye[Ie]),Ye[Ee]):void 0,Xt=Pe&&Kt?Object(ue.a)([Pe],Kt):void 0,$t=Object(ue.e)(Xt),ei=function(){return Object(oe.jsxs)(F.a,{gap:"5px",children:[Object(oe.jsx)(W.d,{style:{marginTop:"20px"},children:Object(oe.jsx)(S.d,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Me||void 0===Me?void 0:Me.toSignificant(6)})}),Object(oe.jsx)(W.e,{children:Object(oe.jsx)(S.d,{fontSize:"24px",children:"DMM "+(null===Ve||void 0===Ve?void 0:Ve.symbol)+"/"+(null===Ze||void 0===Ze?void 0:Ze.symbol)+" LP Tokens"})}),Object(oe.jsx)($.l.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:a.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:xt/100})})]})},ti=function(){return Object(oe.jsx)(A.a,{pair:Pe,price:qe,currencies:Te,parsedAmounts:Ye,noLiquidity:!1,onAdd:Et,poolTokenPercentage:ze,amplification:et,priceImpact:Xt,estimatedUsd:Jt})};return Object(oe.jsxs)(ie.c,{children:[Object(oe.jsx)(H.c,{isOpen:dt,onDismiss:Bt,attemptingTxn:bt,hash:ht,content:function(){return _e?Object(oe.jsx)(H.b,{onDismiss:Bt,message:_e}):tt?Object(oe.jsx)(H.a,{title:a.a._("Unamplified Pool existed"),onDismiss:Bt,topContent:function(){return null},bottomContent:function(){return Object(oe.jsxs)(oe.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(oe.jsx)($.k,{onClick:Bt,id:"unamplified-pool-link",to:"/add/".concat(ae,"/").concat(be,"/").concat(We),children:"Go to unamplified pool"})]})}}):Object(oe.jsx)(H.a,{title:a.a._("You will receive"),onDismiss:Bt,topContent:ei,bottomContent:ti})},pendingText:Pt}),Object(oe.jsx)(F.a,{gap:"20px",children:Object(oe.jsxs)(ne.g,{children:[Object(oe.jsxs)(ne.f,{children:[Object(oe.jsxs)("div",{children:[Object(oe.jsx)(L.g,{value:Ot[Ie],onUserInput:nt,onMax:function(){var e,t;nt(null!==(e=null===(t=yt[Ie])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:function(){var e,t,i;nt(null!==(e=null===(t=Ue[Ie])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},onSwitchCurrency:Gt,showMaxButton:!0,currency:Te[Ie],id:"zap-in-input",disableCurrencySelect:!1,showCommonBases:!0,positionMax:"top",isSwitchMode:!0,estimatedUsd:Object(ee.h)(Vt.toString(),!0)||void 0}),Object(oe.jsxs)(S.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(oe.jsx)(ne.p,{children:zt[0]?"1 ".concat(null===Qe||void 0===Qe?void 0:Qe.symbol," = ").concat(Object(ee.h)(zt[0].toString(),!0)):Object(oe.jsx)(T.a,{})}),pe&&fe&&(Ke||Xe)&&Te[Ee]&&Object(oe.jsx)($.k,{replace:!0,to:Ie===J.a.CURRENCY_A?"/add/".concat(Ke?Object(le.a)(s.WETH[fe],fe):Object(le.a)(Object(Y.b)(fe),fe),"/").concat(Object(le.a)(Te[Ee],fe),"/").concat(pe):"/add/".concat(Object(le.a)(Te[Ee],fe),"/").concat(Ke?Object(le.a)(s.WETH[fe],fe):Object(Y.b)(fe).symbol,"/").concat(pe),children:Ke?Object(oe.jsx)(o.b,{id:"Use Wrapped Token"}):Object(oe.jsx)(o.b,{id:"Use Native Token"})})]})]}),Object(oe.jsxs)(ne.m,{padding:"0",marginTop:"8px",borderRadius:"20px",children:[Object(oe.jsx)(W.e,{padding:"0 0 1rem 0",children:Object(oe.jsx)($.l.subHeader,{fontWeight:500,fontSize:16,color:ve.text,children:Object(oe.jsx)(o.b,{id:"Your Pool Allocation"})})}),Object(oe.jsxs)(ne.d,{style:{padding:"16px 0",borderTop:"1px dashed ".concat(ve.border),borderBottom:"1px dashed ".concat(ve.border)},children:[Object(oe.jsxs)(F.a,{justify:"space-between",gap:"4px",children:[Object(oe.jsxs)(ne.n,{children:[Object(oe.jsx)(se.a,{currency:Te[Ie]||void 0,size:"16px"}),Object(oe.jsx)($.l.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Qe||void 0===Qe?void 0:Qe.symbol})]}),Object(oe.jsxs)($.l.black,{fontWeight:400,fontSize:14,children:[null===(f=Ye[Ie])||void 0===f?void 0:f.toSignificant(6)," (~",Object(ee.h)((Zt||0).toString(),!0),")"]})]}),Object(oe.jsxs)(F.a,{justify:"space-between",gap:"4px",children:[Object(oe.jsxs)(ne.n,{children:[Object(oe.jsx)(se.a,{currency:Te[Ee]||void 0,size:"16px"}),Object(oe.jsx)($.l.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Je||void 0===Je?void 0:Je.symbol})]}),Object(oe.jsxs)($.l.black,{fontWeight:400,fontSize:14,children:[null===(N=Ye[Ee])||void 0===N?void 0:N.toSignificant(6)," (~",Object(ee.h)((Qt||0).toString(),!0),")"]})]})]}),Object(oe.jsxs)(ne.d,{style:{paddingTop:"16px"},children:[Object(oe.jsx)($.l.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:Object(oe.jsx)(o.b,{id:"Price Impact"})}),Object(oe.jsx)($.l.black,{fontWeight:400,fontSize:14,children:Object(oe.jsx)(de.a,{priceImpact:Xt})})]})]}),Te[Ie]&&Te[Ee]&&Be!==j.a.INVALID&&Object(oe.jsx)(ne.m,{padding:"0",borderRadius:"20px",style:{marginTop:"8px"},children:Object(oe.jsx)(P.a,{currencies:Te,poolTokenPercentage:ze,noLiquidity:De,price:qe,pair:Pe})})]}),Object(oe.jsxs)(ne.l,{children:[Te[Ie]&&Te[Ee]&&Be!==j.a.INVALID&&Object(oe.jsx)(ne.m,{borderRadius:"20px",marginBottom:"28px",children:Object(oe.jsxs)(P.d,{title:a.a._("Pool Information"),children:[Object(oe.jsxs)(W.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[!De&&Object(oe.jsxs)(ne.c,{children:[Object(oe.jsx)($.l.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(oe.jsx)($.n,{children:Object(oe.jsx)(o.b,{id:"Current Price"})})}),Object(oe.jsx)($.l.black,{fontWeight:400,fontSize:14,color:ve.text,children:Object(oe.jsx)(E.a,{price:qe})})]}),Object(oe.jsxs)(ne.k,{children:[Object(oe.jsx)($.l.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(oe.jsx)($.n,{children:Object(oe.jsx)(o.b,{id:"Pool Ratio"})})}),Object(oe.jsxs)($.l.black,{fontWeight:400,fontSize:14,color:ve.text,children:[qt,"% ",null===Pe||void 0===Pe?void 0:Pe.token0.symbol," - ",Dt,"% ",null===Pe||void 0===Pe?void 0:Pe.token1.symbol]})]})]}),Object(oe.jsxs)(W.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[Object(oe.jsxs)(F.a,{style:{flex:"1"},children:[Object(oe.jsxs)(W.a,{children:[Object(oe.jsx)(S.d,{fontWeight:500,fontSize:12,color:ve.subText,children:"AMP"}),Object(oe.jsx)(B.a,{text:G.g})]}),Object(oe.jsx)(S.d,{fontWeight:400,fontSize:14,color:ve.text,children:Pe?Object(oe.jsx)(oe.Fragment,{children:new s.Fraction(d.a.BigInt(Pe.amp)).divide(d.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!pe||+$e>=1)&&Object(oe.jsxs)(ne.e,{children:[Object(oe.jsxs)(W.a,{children:[Object(oe.jsx)(S.d,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(oe.jsx)($.n,{children:He||!Pe?Object(oe.jsx)(o.b,{id:"Fee"}):Object(oe.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(oe.jsx)(B.a,{text:He||!Pe?a.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):a.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(oe.jsx)(S.d,{fontWeight:400,fontSize:14,color:ve.text,children:Pe?He&&null!==Pe&&void 0!==Pe&&Pe.fee?100*+new s.Fraction(d.a.BigInt(Pe.fee)).divide(d.a.exponentiate(d.a.BigInt(10),d.a.BigInt(18))).toSignificant(6)+"%":Object(h.b)(null!==Pe&&void 0!==Pe&&Pe.amp?+new s.Fraction(d.a.BigInt(Pe.amp)).divide(d.a.BigInt(1e4)).toSignificant(5):+$e):""})]})]}),Te[Ie]&&Te[Ee]&&(!!pe||+$e>=1)&&Object(oe.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(oe.jsxs)(W.a,{marginBottom:"8px",children:[Object(oe.jsx)($.n,{children:Object(oe.jsx)(ne.a,{children:"Active Price Range"})}),Object(oe.jsx)(B.a,{text:a.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(oe.jsx)(P.b,{currencies:Te,price:qe,pair:Pe,amplification:et})]})]})}),Ht&&Object(oe.jsxs)(ne.q,{children:[Object(oe.jsx)(I.a,{color:ve.yellow2}),Object(oe.jsx)(S.d,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(oe.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),Fe?Object(oe.jsx)(re.a,{message:a.a._("Insufficient Liquidity in the Liquidity Pool to Swap"),warning:!1}):$t>3?Object(oe.jsx)(re.a,{message:a.a._("Price impact is too high"),warning:!1}):$t>2?Object(oe.jsx)(re.a,{message:a.a._("Price impact is high"),warning:!0}):null,me?Object(oe.jsxs)(F.a,{gap:"md",children:[(kt===V.a.NOT_APPROVED||kt===V.a.PENDING)&&at&&(ke||$t<=3)&&Object(oe.jsx)(W.b,{children:Object(oe.jsx)(z.h,{onClick:Rt,disabled:!at||kt===V.a.PENDING||$t>3&&!ke,width:"100%",children:kt===V.a.PENDING?Object(oe.jsxs)(ie.b,{children:["Approving ",null===Qe||void 0===Qe?void 0:Qe.symbol]}):"Approve "+(null===Qe||void 0===Qe?void 0:Qe.symbol)})}),Object(oe.jsx)(z.d,{onClick:function(){ke?Et():ct(!0)},disabled:!at||kt!==V.a.APPROVED||$t>3&&!ke,error:!!Ye[Ie]&&!!Ye[Ee]&&!!pe&&(!at||$t>2),children:Object(oe.jsx)(S.d,{fontSize:20,fontWeight:500,children:null!==Le&&void 0!==Le?Le:!pe&&+$e<1?a.a._("Enter amp (>=1)"):$t>3&&!ke?a.a._("Supply"):$t>2?a.a._("Supply Anyway"):a.a._("Supply")})})]}):Object(oe.jsx)(z.f,{onClick:Oe,children:Object(oe.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})};function pe(e){var t=e.match.params,i=t.currencyIdA,r=t.currencyIdB,g=t.pairAddress,O=Object(m.b)().chainId,y=Object(x.b)(i),C=Object(x.b)(r),_=Object(h.j)(y||void 0),w=Object(h.j)(C||void 0),k=!!(O&&y&&y.equals(s.WETH[O])),R=!!(O&&C&&C.equals(s.WETH[O]))||k,I=Object(v.a)(null!==y&&void 0!==y?y:void 0,null!==C&&void 0!==C?C:void 0,g),N=I.pair,S=I.pairState,A=I.noLiquidity,E=(null===N||void 0===N?void 0:N.amp)||d.a.BigInt(0),T=Object(c.useState)(0),P=Object(n.a)(T,2),B=P[0],U=P[1],Y=Object(f.c)().mixpanelHandler;return Object(c.useEffect)((function(){Y(f.a.ADD_LIQUIDITY_INITIATED,{token_1:null===_||void 0===_?void 0:_.symbol,token_2:null===w||void 0===w?void 0:w.symbol,amp:new s.Fraction(E).divide(d.a.BigInt(1e4)).toSignificant(5)})}),[]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(ne.i,{children:[Object(oe.jsxs)(ne.b,{children:[Object(oe.jsx)(u.a,{action:u.c.ADD,tutorialType:p.a.CLASSIC_ADD_LIQUIDITY}),Object(oe.jsxs)(ne.o,{children:[Object(oe.jsx)(ne.h,{children:Object(oe.jsx)(l.a,{activeTab:B,setActiveTab:U,singleTokenInfo:a.a._("Add liquidity to the pool by supplying a single token (either token from the token pair). We will automatically create LP tokens for you and add them to the liquidity pool - all in a single transaction")})}),Object(oe.jsxs)(ne.j,{children:[null===_||void 0===_?void 0:_.symbol," - ",null===w||void 0===w?void 0:w.symbol," ",Object(oe.jsx)(o.b,{id:"pool"})]})]}),0===B?Object(oe.jsx)(ae,{currencyIdA:i,currencyIdB:r,pairAddress:g}):Object(oe.jsx)(be,{currencyIdA:i,currencyIdB:r,pairAddress:g})]}),N&&!A&&S!==j.a.INVALID?Object(oe.jsx)(ne.b,{style:{marginTop:"24px",padding:"0"},children:Object(oe.jsx)(b.a,{showUnwrapped:R,pair:N})}):null]})})}},"./src/pages/IncreaseLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return re}));var n=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=i("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d=i("./node_modules/@lingui/react/esm/index.js"),c=i("./node_modules/@lingui/core/esm/index.js"),l=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),u=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),b=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),p=i("./node_modules/jsbi/dist/jsbi-umd.js"),j=i.n(p),m=i("./node_modules/react/index.js"),x=i("./node_modules/rebass/dist/index.esm.js"),f=i("./src/components/Button/index.tsx"),v=i("./src/components/Column/index.tsx"),h=i("./src/components/Copy/index.tsx"),g=i("./src/components/CurrencyInputPanel/index.tsx"),O=i("./src/components/Divider/index.tsx"),y=i("./src/components/Loader/index.tsx"),C=i("./src/components/NavigationTabs/index.tsx"),_=i("./src/components/ProAmm/ProAmmPoolInfo.tsx"),w=i("./src/components/ProAmm/ProAmmPooledTokens.tsx"),k=i("./src/components/ProAmm/ProAmmPriceRange.tsx"),R=i("./src/components/Row/index.tsx"),I=i("./src/components/TransactionConfirmationModal/index.tsx"),N=i("./src/components/Tutorial/index.tsx"),S=i("./src/components/swap/styleds.tsx"),A=i("./src/constants/networks.ts"),E=i("./src/constants/tokens.ts"),T=i("./src/constants/v2.ts"),P=i("./src/hooks/index.ts"),B=i("./src/hooks/Tokens.ts"),U=i("./src/hooks/useApproveCallback.ts"),Y=i("./src/hooks/useContract.ts"),q=i("./src/hooks/usePrevious.ts"),D=i("./src/hooks/usePools.ts");var M,z=i("./src/hooks/useProAmmPositions.ts"),F=i("./src/hooks/useProAmmPreviousTicks.ts"),L=i("./src/hooks/useTheme.ts"),W=i("./src/hooks/useTransactionDeadline.ts"),H=i("./src/state/application/hooks.ts"),G=i("./src/state/mint/proamm/actions.ts"),V=i("./src/state/mint/proamm/hooks.tsx"),Z=i("./src/state/multicall/hooks.ts"),Q=i("./src/state/transactions/hooks.tsx"),J=i("./src/state/user/hooks.tsx"),K=i("./src/utils/index.ts"),X=i("./src/utils/maxAmountSpend.ts"),$=i("./src/utils/wrappedCurrency.ts"),ee=i("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),te=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),ie=(te.default.div.withConfig({displayName:"styled__PageWrapper",componentId:"sc-1kz5td0-0"})(["margin:24px 12px;"]),te.default.div.withConfig({displayName:"styled__Container",componentId:"sc-1kz5td0-1"})(["text-align:center;width:calc(100% - 24px);margin:24px auto 12px;max-width:936px;border-radius:20px;background:",";box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);padding:0 20px 28px;",";"],(function(e){return e.theme.background}),(function(e){return e.theme.mediaWidth.upToSmall(M||(M=Object(ee.a)(["\n    padding: 0 16px 24px;\n  "])))}))),ne=te.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-1kz5td0-2"})(["display:grid;grid-template-columns:1fr;@media only screen and (min-width:768px){grid-template-columns:1fr 1fr;}"]),oe=Object(te.default)(v.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-1kz5td0-3"})(["grid-auto-rows:min-content;padding-bottom:24px;border-bottom:1px solid ",";gap:20px;@media only screen and (min-width:768px){padding-right:24px;padding-bottom:0;border-right:1px solid ",";border-bottom:none;}"],(function(e){return e.theme.border}),(function(e){return e.theme.border})),ae=Object(te.default)(v.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-1kz5td0-4"})(["grid-auto-rows:min-content;padding-top:24px;gap:20px;@media only screen and (min-width:768px){padding-left:24px;padding-top:0;}"]),se=(Object(te.default)(v.a).withConfig({displayName:"styled__DynamicSection",componentId:"sc-1kz5td0-5"})(["opacity:",";pointer-events:",";margin:1rem 0;"],(function(e){return e.disabled?"0.2":"1"}),(function(e){return e.disabled?"none":"initial"})),i("./node_modules/react/jsx-runtime.js"));function re(e){var t,i,p,M,ee,te,re,de,ce,le,ue=e.match.params,be=ue.currencyIdA,pe=ue.currencyIdB,je=ue.feeAmount,me=ue.tokenId,xe=e.history,fe=Object(P.b)(),ve=fe.account,he=fe.chainId,ge=fe.library,Oe=Object(L.a)(),ye=Object(H.w)(),Ce=Object(J.e)(),_e=Object(Q.e)(),we=Object(q.a)(he);Object(m.useEffect)((function(){he&&we&&he!==we&&xe.push("/myPools")}),[he,we,xe]);var ke=Object(Y.o)(),Re=Object(z.b)(me?b.a.from(me):void 0).position,Ie=null===(t=Object(Z.c)(me?ke:null,"ownerOf",[me]).result)||void 0===t?void 0:t[0],Ne=Ie===ve||(null===Re||void 0===Re?void 0:Re.operator)===ve,Se=Object.values(T.b).flat().includes(Object(K.A)(Ie)),Ae=function(e){var t=Object(B.b)(null===e||void 0===e?void 0:e.token0),i=Object(B.b)(null===e||void 0===e?void 0:e.token1),n=Object(D.b)(null!==t&&void 0!==t?t:void 0,null!==i&&void 0!==i?i:void 0,null===e||void 0===e?void 0:e.fee),o=Object(r.a)(n,2)[1],a=void 0;return o&&e&&(a=new u.Position({pool:o,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})),{position:a,pool:null!==o&&void 0!==o?o:void 0}}(Re),Ee=Ae.position,Te=je&&Object.values(u.FeeAmount).includes(parseFloat(je))?parseFloat(je):void 0,Pe=Object(B.b)(be),Be=Object(B.b)(pe),Ue=Pe&&Be&&Pe.wrapped.equals(Be.wrapped)?void 0:Be,Ye=Object(V.c)(),qe=Ye.independentField,De=Ye.typedValue,Me=Object(V.a)(null!==Pe&&void 0!==Pe?Pe:void 0,null!==Ue&&void 0!==Ue?Ue:void 0,Te,null!==Pe&&void 0!==Pe?Pe:void 0,Ee),ze=Me.pool,Fe=Me.dependentField,Le=Me.parsedAmounts,We=Me.currencyBalances,He=Me.position,Ge=Me.noLiquidity,Ve=Me.currencies,Ze=Me.errorMessage,Qe=Me.invalidRange,Je=Me.depositADisabled,Ke=Me.depositBDisabled,Xe=Me.ticksAtLimit,$e=!!(he&&Pe&&Pe.isNative),et=!!(he&&Pe&&Pe.equals(l.WETH[he])),tt=!!(he&&Ue&&Ue.isNative),it=!!(he&&Ue&&Ue.equals(l.WETH[he])),nt=Object(H.s)([null===Pe||void 0===Pe?void 0:Pe.wrapped,null===Ue||void 0===Ue?void 0:Ue.wrapped],T.c.ELASTIC),ot=Le[G.b.CURRENCY_A]&&nt[0]?parseFloat(Le[G.b.CURRENCY_A].toSignificant(6))*nt[0]:0,at=Le[G.b.CURRENCY_B]&&nt[1]?parseFloat(Le[G.b.CURRENCY_B].toSignificant(6))*nt[1]:0,st=Object(F.a)(ze,He),rt=Object(V.b)(Ge),dt=rt.onFieldAInput,ct=rt.onFieldBInput,lt=!Ze&&!Qe,ut=Object(m.useState)(!1),bt=Object(r.a)(ut,2),pt=bt[0],jt=bt[1],mt=Object(m.useState)(!1),xt=Object(r.a)(mt,2),ft=xt[0],vt=xt[1],ht=Object(W.a)(),gt=Object(m.useState)(""),Ot=Object(r.a)(gt,2),yt=Ot[0],Ct=Ot[1],_t=(M={},Object(s.a)(M,qe,De),Object(s.a)(M,Fe,null!==(i=null===(p=Le[Fe])||void 0===p?void 0:p.toSignificant(6))&&void 0!==i?i:""),M),wt=[G.b.CURRENCY_A,G.b.CURRENCY_B].reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(s.a)({},t,Object(X.a)(We[t])))}),{}),kt=Object(U.b)(Le[G.b.CURRENCY_A],he?A.b[he].elastic.nonfungiblePositionManager:void 0),Rt=Object(r.a)(kt,2),It=Rt[0],Nt=Rt[1],St=Object(U.b)(Le[G.b.CURRENCY_B],he?A.b[he].elastic.nonfungiblePositionManager:void 0),At=Object(r.a)(St,2),Et=At[0],Tt=At[1],Pt=Object(J.x)();function Bt(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(o.a)(Object(n.a)().mark((function e(){var t,i,o,s,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he&&ge&&ve&&me){e.next=2;break}return e.abrupt("return");case 2:if(ke&&Pe&&Ue){e.next=4;break}return e.abrupt("return");case 4:if(st&&2===st.length){e.next=6;break}return e.abrupt("return");case 6:if(!(He&&ve&&ht)){e.next=14;break}t=Pe.isNative?Pe:Ue.isNative?Ue:void 0,i=u.NonfungiblePositionManager.addCallParameters(He,st,{slippageTolerance:new l.Percent(Pt[0],1e4),deadline:ht.toString(),useNative:t,tokenId:j.a.BigInt(me)}),o=i.calldata,s=i.value,r={to:A.b[he].elastic.nonfungiblePositionManager,data:o,value:s},vt(!0),ge.getSigner().estimateGas(r).then((function(e){var t=Object(a.a)(Object(a.a)({},r),{},{gasLimit:Object(K.b)(e)});return ge.getSigner().sendTransaction(t).then((function(e){var t,i;vt(!1),_e(e,{type:"Increase liquidity",summary:((null===(t=Le[G.b.CURRENCY_A])||void 0===t?void 0:t.toSignificant(6))||0)+" "+(null===Pe||void 0===Pe?void 0:Pe.symbol)+" and "+((null===(i=Le[G.b.CURRENCY_B])||void 0===i?void 0:i.toSignificant(6))||0)+" "+(null===Ue||void 0===Ue?void 0:Ue.symbol),arbitrary:{token_1:null===Pe||void 0===Pe?void 0:Pe.symbol,token_2:null===Ue||void 0===Ue?void 0:Ue.symbol}}),Ct(e.hash)}))})).catch((function(e){console.error("Failed to send transaction",e),vt(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)})),e.next=15;break;case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yt=Object(m.useCallback)((function(){jt(!1),yt&&(dt(""),xe.push("/myPools")),Ct("")}),[xe,dt,yt]),qt=It!==U.a.APPROVED&&!!Le[G.b.CURRENCY_A],Dt=Et!==U.a.APPROVED&&!!Le[G.b.CURRENCY_B],Mt="Supplying ".concat(Je?"":null===(ee=Le[G.b.CURRENCY_A])||void 0===ee?void 0:ee.toSignificant(6)," ").concat(Je?"":null===(te=Ve[G.b.CURRENCY_A])||void 0===te?void 0:te.symbol," ").concat(Je||Ke?"":"and"," ").concat(Ke?"":null===(re=Le[G.b.CURRENCY_B])||void 0===re?void 0:re.toSignificant(6)," ").concat(Ke?"":null===(de=Ve[G.b.CURRENCY_B])||void 0===de?void 0:de.symbol),zt=function(){var e,t,i,n;return ve?Object(se.jsxs)(x.b,{sx:{gap:"16px"},flexDirection:lt&&qt&&Dt?"column":"row",children:[(It===U.a.NOT_APPROVED||It===U.a.PENDING||Et===U.a.NOT_APPROVED||Et===U.a.PENDING)&&lt&&Object(se.jsxs)(R.b,{children:[qt&&Object(se.jsx)(f.h,{onClick:Nt,disabled:It===U.a.PENDING,width:Dt?"48%":"100%",children:It===U.a.PENDING?Object(se.jsx)(S.c,{children:Object(se.jsx)(d.b,{id:"Approving {0}",values:{0:null===(e=Ve[G.b.CURRENCY_A])||void 0===e?void 0:e.symbol}})}):Object(se.jsx)(d.b,{id:"Approve {0}",values:{0:null===(t=Ve[G.b.CURRENCY_A])||void 0===t?void 0:t.symbol}})}),Dt&&Object(se.jsx)(f.h,{onClick:Tt,disabled:Et===U.a.PENDING,width:qt?"48%":"100%",children:Et===U.a.PENDING?Object(se.jsx)(S.c,{children:Object(se.jsx)(d.b,{id:"Approving {0}",values:{0:null===(i=Ve[G.b.CURRENCY_B])||void 0===i?void 0:i.symbol}})}):Object(se.jsx)(d.b,{id:"Approve {0}",values:{0:null===(n=Ve[G.b.CURRENCY_B])||void 0===n?void 0:n.symbol}})})]}),Object(se.jsx)(f.d,{onClick:function(){Ce?Bt():jt(!0)},disabled:!lt||It!==U.a.APPROVED&&!Je||Et!==U.a.APPROVED&&!Ke,error:!lt&&!!Le[G.b.CURRENCY_A]&&!!Le[G.b.CURRENCY_B]&&!1,children:Object(se.jsx)(x.d,{fontWeight:500,children:Ze||Object(se.jsx)(d.b,{id:"Preview"})})})]}):Object(se.jsx)(f.f,{onClick:ye,children:Object(se.jsx)(d.b,{id:"Connect Wallet"})})};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(I.c,{isOpen:pt,onDismiss:Yt,attemptingTxn:ft,hash:yt,content:function(){return Object(se.jsx)(I.a,{title:c.a._("Increase Liquidity"),onDismiss:Yt,topContent:function(){return Ee&&Object(se.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(se.jsx)(_.a,{position:Ee}),Object(se.jsx)(w.a,{liquidityValue0:Le[G.b.CURRENCY_A],liquidityValue1:Le[G.b.CURRENCY_B],title:c.a._("Increase Amount")}),Object(se.jsx)(k.a,{position:Ee,ticksAtLimit:Xe})]})},bottomContent:function(){return Object(se.jsx)(f.h,{onClick:Bt,children:Object(se.jsx)(x.d,{fontWeight:500,children:Object(se.jsx)(d.b,{id:"Supply"})})})}})},pendingText:Mt}),Object(se.jsxs)(ie,{children:[Object(se.jsx)(C.a,{action:C.c.INCREASE,showTooltip:!1,hideShare:!0,tutorialType:N.a.ELASTIC_INCREASE_LIQUIDITY}),Ie&&ve&&!Ne&&!Se?Object(se.jsxs)(x.d,{fontSize:"12px",fontWeight:"500",paddingTop:"10px",paddingBottom:"10px",backgroundColor:Oe.bg3Opacity4,color:Oe.subText,style:{borderRadius:"4px",marginBottom:"1.25rem"},children:["The owner of this liquidity position is ",Object(K.C)(Ie),Object(se.jsx)("span",{style:{display:"inline-block"},children:Object(se.jsx)(h.a,{toCopy:Ie})})]}):Object(se.jsx)(O.b,{style:{marginBottom:"1.25rem"}}),Ee?Object(se.jsxs)(v.a,{gap:"md",style:{textAlign:"left"},children:[Object(se.jsx)(_.a,{position:Ee,tokenId:me}),Object(se.jsxs)(ne,{children:[Object(se.jsxs)(oe,{children:[Object(se.jsx)(w.a,{pooled:!0,liquidityValue0:l.CurrencyAmount.fromRawAmount(Object($.a)(Ee.pool.token0),Ee.amount0.quotient),liquidityValue1:l.CurrencyAmount.fromRawAmount(Object($.a)(Ee.pool.token1),Ee.amount1.quotient)}),Object(se.jsxs)(v.a,{gap:"md",children:[Object(se.jsx)(g.g,{value:_t[G.b.CURRENCY_A],onUserInput:dt,onMax:function(){var e,t;dt(null!==(e=null===(t=wt[G.b.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:function(){var e,t,i;dt(null!==(e=null===(t=We[G.b.CURRENCY_A])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},showMaxButton:!0,currency:null!==(ce=Ve[G.b.CURRENCY_A])&&void 0!==ce?ce:null,id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",locked:Je,estimatedUsd:Object(K.h)(ot.toString(),!0)||void 0,disableCurrencySelect:!$e&&!et,isSwitchMode:$e||et,onSwitchCurrency:function(){he&&xe.replace("/elastic/increase/".concat($e?l.WETH[he].address:Object(E.b)(he).symbol,"/").concat(pe,"/").concat(Te,"/").concat(me))}}),Object(se.jsx)(g.g,{value:_t[G.b.CURRENCY_B],onUserInput:ct,onMax:function(){var e,t;ct(null!==(e=null===(t=wt[G.b.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:function(){var e,t;ct(null!==(e=null===(t=We[G.b.CURRENCY_B])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},showMaxButton:!0,currency:null!==(le=Ve[G.b.CURRENCY_B])&&void 0!==le?le:null,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",locked:Ke,estimatedUsd:Object(K.h)(at.toString(),!0)||void 0,disableCurrencySelect:!tt&&!it,isSwitchMode:tt||it,onSwitchCurrency:function(){he&&xe.replace("/elastic/increase/".concat(be,"/").concat(tt?l.WETH[he].address:Object(E.b)(he).symbol,"/").concat(Te,"/").concat(me))}})]})]}),Object(se.jsxs)(ae,{children:[Object(se.jsx)(k.a,{position:Ee,ticksAtLimit:Xe}),Object(se.jsx)(zt,{})]})]})]}):Object(se.jsx)(y.a,{})]})]})}}}]);